"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[758],{5758:(te,m,s)=>{s.r(m),s.d(m,{UserModule:()=>X});var a=s(6895),y=s(433),l=s(4258),u=s(7604),O=s(9401),g=s(5281),e=s(4650),Z=s(3905),T=s(5949),U=s(4243),f=s(1235),I=s(4325),b=s(690),v=s(6854),M=s(3231),p=s(5593),C=s(7252),_=s(8857),A=s(805),J=s(3608),P=s(3395);const Q=["scrolledContainer"],D=["currentMenuItem"],h=function(n){return{"p-disabled":n}};function k(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"li",7)(2,"a",8)(3,"span",9),e._UZ(4,"i",10),e.qZA(),e.TgZ(5,"span",11),e._uU(6),e.qZA()()(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(7,h,t.orderStatus.isCommingStatus)),e.xp6(3),e.Gre("pi ",t.icon," m-1"),e.Q6J("ngClass",t.orderStatus.isCommingStatus?"":t.iconColor),e.xp6(1),e.Q6J("ngClass",t.orderStatus.isCommingStatus?"surface-200":t.backgroundColor),e.xp6(1),e.Oqu(t.orderStatus.name)}}function w(n,r){if(1&n&&(e.TgZ(0,"li",12,13)(2,"a",8)(3,"span",9),e._UZ(4,"i"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(9,h,t.orderStatus.isCommingStatus)),e.xp6(4),e.MT6("pi ",t.icon," m-1 ",t.iconColor,""),e.xp6(1),e.Gre("p-steps-title border-round-lg m-2 p-1 ",t.backgroundColor,""),e.xp6(1),e.Oqu(t.orderStatus.name)}}function F(n,r){if(1&n&&(e.ynx(0),e.YNc(1,k,7,9,"ng-container",5),e.YNc(2,w,7,11,"ng-template",null,6,e.W1O),e.BQk()),2&n){const t=r.$implicit,o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!t.orderStatus.isCurrentStatus)("ngIfElse",o)}}const L=function(n){return{"p-readonly":n}};let x=(()=>{class n{get model(){return this._model}set model(t){this._model=t;for(let o=0;o<this.model.length;o++)this.orderStatusCSSDataList.push(new P.E(this.model[o]))}constructor(){this.activeIndorderStatusCSSDataex=0,this.orderStatusCSSDataList=[],this.readonly=!0,this.activeIndexChange=new e.vpe}ngOnInit(){}ngAfterViewInit(){this.scrolledContainer.nativeElement.scrollTo({left:this.currentMenuItem.nativeElement.offsetLeft,behavior:"smooth"})}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-order-status-log"]],viewQuery:function(t,o){if(1&t&&(e.Gf(Q,5),e.Gf(D,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.scrolledContainer=i.first),e.iGM(i=e.CRH())&&(o.currentMenuItem=i.first)}},inputs:{activeIndorderStatusCSSDataex:"activeIndorderStatusCSSDataex",model:"model",readonly:"readonly"},outputs:{activeIndexChange:"activeIndexChange"},standalone:!0,features:[e.jDz],decls:5,vars:4,consts:[[1,"w-11","overflow-x-scroll"],["scrolledContainer",""],[1,"w-12","p-steps",3,"ngClass"],["role","tablist w-12"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["currentStateTemplate",""],["role","tab",1,"p-steps-item",3,"ngClass"],["role","presentation","tabindex","-1",1,"p-menuitem-link"],[1,"p-steps-number","m-2","mx-8"],[3,"ngClass"],[1,"p-steps-title","border-round-lg","m-2","p-1",3,"ngClass"],["role","tab",1,"p-steps-item","p-highlight","p-steps-current",3,"ngClass"],["currentMenuItem",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"ul",3),e.YNc(4,F,4,2,"ng-container",4),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngClass",e.VKq(2,L,o.readonly)),e.xp6(2),e.Q6J("ngForOf",o.orderStatusCSSDataList))},dependencies:[a.ez,a.mk,a.sg,a.O5,J.z,l.Bz],styles:[".p-steps[_ngcontent-%COMP%]{position:relative}.p-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none;display:flex}.p-steps-item[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;flex:1 1 auto}.p-menuitem-link[_ngcontent-%COMP%]:focus{box-shadow:none!important}.p-steps-item[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;align-items:center;overflow:hidden;text-decoration:none}.p-steps.p-steps-readonly[_ngcontent-%COMP%]   .p-steps-item[_ngcontent-%COMP%]{cursor:auto}.p-steps-item.p-steps-current[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]{cursor:default}.p-steps-title[_ngcontent-%COMP%]{white-space:nowrap}.p-steps-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.p-steps-title[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),n})();var S=s(8882);function Y(n,r){if(1&n&&e._UZ(0,"app-product-selection",14),2&n){const t=r.$implicit;e.Q6J("isDeletable",!1)("productSelection",t.productSelection)}}function H(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3),e._UZ(2,"app-order-status-log",4),e.qZA(),e.TgZ(3,"div",5)(4,"div",3),e._UZ(5,"i",6),e._uU(6),e.qZA(),e.TgZ(7,"span",7),e._uU(8),e.qZA()(),e.TgZ(9,"div",8),e.YNc(10,Y,1,2,"app-product-selection",9),e.qZA(),e.TgZ(11,"div",10)(12,"div"),e._UZ(13,"i",11),e._uU(14),e.qZA(),e._UZ(15,"app-delivery-date-left",12),e.TgZ(16,"button",13),e.NdJ("click",function(){const i=e.CHM(t),c=i.$implicit,d=i.rowIndex,ee=e.oxw();return e.KtG(ee.receiveOrder(c,d))}),e.qZA()()()}if(2&n){const t=r.$implicit,o=r.rowIndex,i=e.oxw();e.xp6(2),e.Q6J("model",t.orderStatusWorkflow),e.xp6(4),e.AsE(" ",t.orderProducts.length," product",t.orderProducts.length>1?"s":"",""),e.xp6(2),e.AsE("Price:",t.payedPrice,"",t.currency,""),e.xp6(2),e.Q6J("ngForOf",t.orderProducts),e.xp6(4),e.Oqu(t.location.city),e.xp6(1),e.Q6J("date",t.arrivalDate),e.xp6(1),e.Q6J("disabled",t.orderStatusId!=i.receivableId)("loading",i.loadingIndex===o)}}let R=(()=>{class n{constructor(t){this.orderService=t,this.orders=[],this.loadingIndex=void 0,this.receivableId=_.n.OutForDelivery}ngOnInit(){}receiveOrder(t,o){this.loadingIndex=o,this.orderService.RecieveOrderByClient(t).finally(()=>this.loadingIndex=void 0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-comming-order"]],inputs:{orders:"orders"},decls:2,vars:2,consts:[[3,"value","loading"],["pTemplate","listItem"],[1,"col-12","flex","flex-column"],[1,""],[3,"model"],[1,"flex","justify-content-between","m-2"],[1,"pi","pi-tags","m-1"],[1,"text-center"],[1,"flex","align-content-center","justify-content-evenly","h-10rem","flex-nowrap","overflow-x-scroll"],["class","m-4",3,"isDeletable","productSelection",4,"ngFor","ngForOf"],[1,"flex","justify-content-between","my-2"],[1,"pi","pi-map-marker","m-1"],[3,"date"],["pButton","","pRipple","","type","button","icon","pi pi-check-circle","label","Receive",1,"p-button-raised","p-button-sm",3,"disabled","loading","click"],[1,"m-4",3,"isDeletable","productSelection"]],template:function(t,o){1&t&&(e.TgZ(0,"p-dataView",0),e.YNc(1,H,17,10,"ng-template",1),e.qZA()),2&t&&e.Q6J("value",o.orders)("loading",o.orderService.waitingForOrders)},dependencies:[a.sg,u.VO,A.jx,g.A,p.Hq,x,S.p]}),n})();function B(n,r){1&n&&(e.TgZ(0,"div",5)(1,"div",6)(2,"div",7),e._UZ(3,"i",8),e._uU(4," Sign In Is Required "),e.qZA(),e.TgZ(5,"p",9),e._uU(6,"Please Sign In To Show Your Dashboard"),e.qZA(),e.TgZ(7,"div",10),e._UZ(8,"button",11)(9,"button",12),e.qZA()()())}const j=function(n){return{"lg:col-6":n}},N=function(n){return{height:n}};function q(n,r){if(1&n&&(e.TgZ(0,"div",13)(1,"div",14)(2,"h2"),e._uU(3,"Comming Orders"),e.qZA(),e.TgZ(4,"div",15),e._UZ(5,"app-comming-order",16),e.qZA()()()),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(3,j,t.nbOfSections>1)),e.xp6(4),e.Q6J("ngStyle",e.VKq(5,N,t.largeLayout?"36.5vw":"auto")),e.xp6(1),e.Q6J("orders",t.orders)}}const z=function(){return{"lg:col-6":!0}};function E(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"h2"),e._uU(3,"Worker Task"),e.qZA(),e.TgZ(4,"app-task-calendar",17),e.NdJ("onTaskClick",function(i){e.CHM(t);const c=e.oxw();return e.KtG(c.onTaskClick(i))}),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.DdM(2,z)),e.xp6(4),e.Q6J("tasks",t.tasks)}}let V=(()=>{class n{constructor(t,o,i,c,d){this.responsive=t,this.dialogService=o,this.commonService=i,this.orderService=c,this.teamService=d,this.nbOfSections=0,this.largeLayout=!1}ngOnInit(){this.responsive.observe(f.u3.Large).subscribe(t=>{this.largeLayout=t.matches}),this.subscription=this.commonService.loggedUser.subscribe(t=>{this.user=t,t.id&&(t.userRole!=U.u.client&&(0,Z.z)(this.teamService.getTaskByPersonId(t.id)).then(o=>{o&&(this.tasks=o,o.length>0&&this.nbOfSections++)}),this.orderService.getUserCommingOrders().then(o=>{o&&(this.orders=o,o.length>0&&this.nbOfSections++)}))})}ngOnDestroy(){this.subscription.unsubscribe()}onTaskClick(t){this.teamService.selectedTask=t,this.dialogService.open(T.m,{header:t.title,contentStyle:{overflow:"hidden"},baseZIndex:1e4})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.Yg),e.Y36(I.xA),e.Y36(b.v),e.Y36(v.p),e.Y36(M.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-home"]],decls:11,vars:4,consts:[[1,"flex","flex-wrap","justify-content-center"],[1,"grid","m-2","lg:m-4"],["class","col-12",4,"ngIf"],["class","col-12",3,"ngClass",4,"ngIf"],["class","col-12 ",3,"ngClass",4,"ngIf"],[1,"col-12"],[1,"card","text-color-secondary"],[1,"text-900","font-bold","text-xl","lg:text-3xl","ml-2","mb-3","mt-4","lg:mt-6","lg:mt-0"],[1,"pi","pi-sign-in","text-3xl","font-bold"],[1,"ml-5","mb-5","font-medium","text-700","text-md"],[1,"flex","justify-content-center","lg:justify-content-end"],["pButton","","pRipple","","routerLink","/check-out/log-in","label","Sign In","icon","pi pi-sign-in",1,"mx-2","p-button-sm","p-button-secondary","p-button-outlined"],["pButton","","pRipple","","routerLink","/check-out/sign-up/personal","label","Sign Up","icon","pi pi-user-plus",1,"mx-2","p-button-sm"],[1,"col-12",3,"ngClass"],[1,"card"],[1,"overflow-auto",3,"ngStyle"],[1,"",3,"orders"],[3,"tasks","onTaskClick"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Welcome "),e.TgZ(3,"strong"),e._uU(4),e.qZA()(),e.TgZ(5,"h1"),e._uU(6,"On Your Dashboard"),e.qZA()(),e.TgZ(7,"div",1),e.YNc(8,B,10,0,"div",2),e.YNc(9,q,6,7,"div",3),e.YNc(10,E,5,3,"div",4),e.qZA()),2&t&&(e.xp6(4),e.Oqu(o.user.id?o.user.fullName:" Dear Diva "),e.xp6(4),e.Q6J("ngIf",!o.user.id),e.xp6(1),e.Q6J("ngIf",o.orders&&o.orders.length>0),e.xp6(1),e.Q6J("ngIf",o.tasks&&o.tasks.length>0))},dependencies:[a.mk,a.O5,a.PC,l.rH,p.Hq,C.i,R],styles:["h1[_ngcontent-%COMP%]{color:var(--surface-700)}strong[_ngcontent-%COMP%]{font-weight:900;font-size:x-large;color:var(--primary-color)}"]}),n})();const G=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user"]],decls:2,vars:0,consts:[[1,"surface-ground","border-1","border-white","border-round-3xl","py-2",2,"min-height","75vh"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-user-home"),e.qZA())},dependencies:[V]}),n})()}];let K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.Bz.forChild(G),l.Bz]}),n})();var $=s(4247),W=s(3032);let X=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[a.ez,l.Bz,K,u.FI,y.u5,W.R,O.y,g.A,p.hJ,x,$.d,C.i,S.p]}),n})()}}]);