"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[99],{4317:(P,Y,m)=>{m.r(Y),m.d(Y,{AddProductModule:()=>me});var C=m(6895),f=m(433),b=m(4258),S=m(5593),H=m(4247),K=m(2210),$=m(5569),L=m(3520),k=m(1740),W=m(3054),rt=m(8433),F=m(5722),lt=m(1236),Pt=m(1765),e=m(4650),B=m(3608),X=m(1795),x=m(805),w=m(9592);function y(c,_){1&c&&e.GkF(0)}function tt(c,_){if(1&c&&(e.ynx(0),e.YNc(1,y,1,0,"ng-container",3),e.BQk()),2&c){const n=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",n.contentTemplate)}}function st(c,_){if(1&c&&(e.TgZ(0,"div",1),e.Hsn(1),e.YNc(2,tt,2,1,"ng-container",2),e.qZA()),2&c){const n=e.oxw();e.Q6J("hidden",!n.selected),e.uIk("id",n.id)("aria-hidden",!n.selected)("aria-labelledby",n.id+"-label"),e.xp6(2),e.Q6J("ngIf",n.contentTemplate&&(n.cache?n.loaded:n.selected))}}const at=["*"],St=["content"],Zt=["navbar"],j=["prevBtn"],et=["nextBtn"],wt=["inkbar"];function Mt(c,_){if(1&c){const n=e.EpF();e.TgZ(0,"button",12,13),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.navBackward())}),e._UZ(2,"span",14),e.qZA()}}function ct(c,_){if(1&c&&e._UZ(0,"span",24),2&c){const n=e.oxw(3).$implicit;e.Q6J("ngClass",n.leftIcon)}}function At(c,_){if(1&c&&e._UZ(0,"span",25),2&c){const n=e.oxw(3).$implicit;e.Q6J("ngClass",n.rightIcon)}}function kt(c,_){if(1&c&&(e.ynx(0),e.YNc(1,ct,1,1,"span",21),e.TgZ(2,"span",22),e._uU(3),e.qZA(),e.YNc(4,At,1,1,"span",23),e.BQk()),2&c){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",n.leftIcon),e.xp6(2),e.Oqu(n.header),e.xp6(1),e.Q6J("ngIf",n.rightIcon)}}function O(c,_){1&c&&e.GkF(0)}function J(c,_){if(1&c){const n=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(a){e.CHM(n);const u=e.oxw(2).$implicit,h=e.oxw();return e.KtG(h.close(a,u))}),e.qZA()}}const Q=function(c,_){return{"p-highlight":c,"p-disabled":_}};function pt(c,_){if(1&c){const n=e.EpF();e.TgZ(0,"li",16)(1,"a",17),e.NdJ("click",function(a){e.CHM(n);const u=e.oxw().$implicit,h=e.oxw();return e.KtG(h.open(a,u))})("keydown.enter",function(a){e.CHM(n);const u=e.oxw().$implicit,h=e.oxw();return e.KtG(h.open(a,u))}),e.YNc(2,kt,5,3,"ng-container",18),e.YNc(3,O,1,0,"ng-container",19),e.YNc(4,J,1,0,"span",20),e.qZA()()}if(2&c){const n=e.oxw().$implicit;e.Tol(n.headerStyleClass),e.Q6J("ngClass",e.WLB(16,Q,n.selected,n.disabled))("ngStyle",n.headerStyle),e.xp6(1),e.Q6J("pTooltip",n.tooltip)("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass),e.uIk("id",n.id+"-label")("aria-selected",n.selected)("aria-controls",n.id)("aria-selected",n.selected)("tabindex",n.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",!n.headerTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",n.headerTemplate),e.xp6(1),e.Q6J("ngIf",n.closable)}}function t(c,_){1&c&&e.YNc(0,pt,5,19,"li",15),2&c&&e.Q6J("ngIf",!_.$implicit.closed)}function z(c,_){if(1&c){const n=e.EpF();e.TgZ(0,"button",27,28),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.navForward())}),e._UZ(2,"span",29),e.qZA()}}const T=function(c){return{"p-tabview p-component":!0,"p-tabview-scrollable":c}};let E=0,D=(()=>{class c{constructor(n,i,a){this.viewContainer=i,this.cd=a,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+E++,this.tabView=n}ngAfterContentInit(){this.templates.forEach(n=>{"header"===n.getType()?this.headerTemplate=n.template:this.contentTemplate=n.template})}get selected(){return this._selected}set selected(n){this._selected=n,this.loaded||this.cd.detectChanges(),n&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this.tabView.cd.markForCheck()}get header(){return this._header}set header(n){this._header=n,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(n){this._leftIcon=n,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(n){this._rightIcon=n,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return c.\u0275fac=function(n){return new(n||c)(e.Y36((0,e.Gpc)(()=>R)),e.Y36(e.s_b),e.Y36(e.sBO))},c.\u0275cmp=e.Xpm({type:c,selectors:[["p-tabPanel"]],contentQueries:function(n,i,a){if(1&n&&e.Suo(a,x.jx,4),2&n){let u;e.iGM(u=e.CRH())&&(i.templates=u)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:at,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(n,i){1&n&&(e.F$t(),e.YNc(0,st,3,5,"div",0)),2&n&&e.Q6J("ngIf",!i.closed)},dependencies:[C.O5,C.tP],encapsulation:2}),c})(),R=(()=>{class c{constructor(n,i,a){this.platformId=n,this.el=i,this.cd=a,this.orientation="top",this.onChange=new e.vpe,this.onClose=new e.vpe,this.activeIndexChange=new e.vpe,this.backwardIsDisabled=!0,this.forwardIsDisabled=!1}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(n=>{this.initTabs()})}ngAfterViewChecked(){(0,C.NF)(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe()}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(n,i){if(i.disabled)n&&n.preventDefault();else{if(!i.selected){let a=this.findSelectedTab();a&&(a.selected=!1),this.tabChanged=!0,i.selected=!0;let u=this.findTabIndex(i);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(u),this.onChange.emit({originalEvent:n,index:u}),this.updateScrollBar(u)}n&&n.preventDefault()}}close(n,i){this.controlClose?this.onClose.emit({originalEvent:n,index:this.findTabIndex(i),close:()=>{this.closeTab(i)}}):(this.closeTab(i),this.onClose.emit({originalEvent:n,index:this.findTabIndex(i)})),n.stopPropagation()}closeTab(n){if(!n.disabled){if(n.selected){this.tabChanged=!0,n.selected=!1;for(let i=0;i<this.tabs.length;i++){let a=this.tabs[i];if(!a.closed&&!n.disabled){a.selected=!0;break}}}n.closed=!0}}findSelectedTab(){for(let n=0;n<this.tabs.length;n++)if(this.tabs[n].selected)return this.tabs[n];return null}findTabIndex(n){let i=-1;for(let a=0;a<this.tabs.length;a++)if(this.tabs[a]==n){i=a;break}return i}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(n){this._activeIndex=n,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(n))}updateInkBar(){if(this.navbar){const n=w.p.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!n)return;this.inkbar.nativeElement.style.width=w.p.getWidth(n)+"px",this.inkbar.nativeElement.style.left=w.p.getOffset(n).left-w.p.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(n){this.navbar.nativeElement.children[n].scrollIntoView({block:"nearest"})}updateButtonState(){const n=this.content.nativeElement,{scrollLeft:i,scrollWidth:a}=n,u=w.p.getWidth(n);this.backwardIsDisabled=0===i,this.forwardIsDisabled=parseInt(i)===a-u}onScroll(n){this.scrollable&&this.updateButtonState(),n.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((n,i)=>i?n+w.p.getWidth(i):n,0)}navBackward(){const n=this.content.nativeElement,i=w.p.getWidth(n)-this.getVisibleButtonWidths(),a=n.scrollLeft-i;n.scrollLeft=a<=0?0:a}navForward(){const n=this.content.nativeElement,i=w.p.getWidth(n)-this.getVisibleButtonWidths(),a=n.scrollLeft+i,u=n.scrollWidth-i;n.scrollLeft=a>=u?u:a}}return c.\u0275fac=function(n){return new(n||c)(e.Y36(e.Lbi),e.Y36(e.SBq),e.Y36(e.sBO))},c.\u0275cmp=e.Xpm({type:c,selectors:[["p-tabView"]],contentQueries:function(n,i,a){if(1&n&&e.Suo(a,D,4),2&n){let u;e.iGM(u=e.CRH())&&(i.tabPanels=u)}},viewQuery:function(n,i){if(1&n&&(e.Gf(St,5),e.Gf(Zt,5),e.Gf(j,5),e.Gf(et,5),e.Gf(wt,5)),2&n){let a;e.iGM(a=e.CRH())&&(i.content=a.first),e.iGM(a=e.CRH())&&(i.navbar=a.first),e.iGM(a=e.CRH())&&(i.prevBtn=a.first),e.iGM(a=e.CRH())&&(i.nextBtn=a.first),e.iGM(a=e.CRH())&&(i.inkbar=a.first)}},hostAttrs:[1,"p-element"],inputs:{orientation:"orientation",style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:at,decls:13,vars:9,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[1,"pi","pi-chevron-left"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""],[1,"pi","pi-chevron-right"]],template:function(n,i){1&n&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Mt,3,0,"button",2),e.TgZ(3,"div",3,4),e.NdJ("scroll",function(u){return i.onScroll(u)}),e.TgZ(5,"ul",5,6),e.YNc(7,t,1,1,"ng-template",7),e._UZ(8,"li",8,9),e.qZA()(),e.YNc(10,z,3,0,"button",10),e.qZA(),e.TgZ(11,"div",11),e.Hsn(12),e.qZA()()),2&n&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.VKq(7,T,i.scrollable))("ngStyle",i.style),e.xp6(2),e.Q6J("ngIf",i.scrollable&&!i.backwardIsDisabled),e.xp6(5),e.Q6J("ngForOf",i.tabs),e.xp6(3),e.Q6J("ngIf",i.scrollable&&!i.forwardIsDisabled))},dependencies:[C.mk,C.sg,C.O5,C.tP,C.PC,B.u,X.H],styles:[".p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:flex;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}\n"],encapsulation:2,changeDetection:0}),c})(),I=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[C.ez,x.m8,B.z,X.T,x.m8]}),c})();var dt=m(3905),ut=m(7697),It=m(6132),mt=m(9337),U=m(9268),N=m(5305),_t=m(4209),gt=m(1493),V=m(3032);function Ft(c,_){if(1&c){const n=e.EpF();e.TgZ(0,"app-color",31),e.NdJ("selectColor",function(){const u=e.CHM(n).$implicit,h=e.oxw();return e.KtG(h.searchForColor(u))}),e.qZA()}if(2&c){const n=_.$implicit;e.Q6J("showColorName",!0)("color",n)}}function Jt(c,_){if(1&c){const n=e.EpF();e.TgZ(0,"app-color",32),e.NdJ("selectColor",function(){const u=e.CHM(n).$implicit,h=e.oxw();return e.KtG(h.selectColor(u))}),e.qZA()}if(2&c){const n=_.$implicit;e.Q6J("showColorName",!0)("color",n)}}function Nt(c,_){if(1&c){const n=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"p-button",35),e.NdJ("onClick",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.showAddDialog=!0)}),e.qZA()()()}}let qt=(()=>{class c{constructor(n,i,a,u,h,q){this.utilsService=n,this.apiService=i,this.messageService=a,this.router=u,this.productsService=h,this.globalService=q,this.selectedColors=[],this.sorted=!1,this.colorContainerSyle={backgroundColor:"inherit"},this.filtredByCode=!1,this.showAddDialog=!1,this.addColorLoading=!1}ngOnInit(){this.product=this.productsService.selectedProduct,this.productsService.getAvailableColors().then(n=>{this.colors=n,this.filteredColors=[...this.colors],this.product.productColors&&(this.selectedColors=this.product.productColors.map(i=>i.color))})}UnselectAll(){this.selectedColors=[]}addColor(n){this.addColorLoading=!0;let i=new ut.I;i.code=this.colorFilterValue,i.id=-1,i.name=n,(0,dt.z)(this.apiService.editColor(i)).then(a=>{a.id<=0||(this.colors.unshift(a),this.resetColorFilterValue())}).finally(()=>this.addColorLoading=!1)}sort(){this.sorted=!this.sorted,this.sortedColors||(this.sortedColors=[...this.colors].sort((n,i)=>n.code<i.code?-1:n.code>i.code?1:0)),this.filterColor()}ShowSeleced(){this.colorFilterValue="Clear Filter To Show All",this.filteredColors=this.selectedColors}resetColorFilterValue(){this.colorFilterValue="",this.filterColor()}selectColor(n){let i=this.selectedColors.findIndex(a=>a.id===n.id);i>=0?this.selectedColors.splice(i,1):this.selectedColors.push(n)}searchForColor(n){this.colorFilterValue="Clear Filter To Show All",this.filteredColors=[],this.colors.forEach(i=>{this.globalService.isColorsSimilar(n?.code,i.code)&&this.filteredColors.push(i)})}filterColor(){if(!this.colorFilterValue||""===this.colorFilterValue)return this.filteredColors=this.sorted?[...this.sortedColors]:[...this.colors],this.colorContainerSyle={backgroundColor:"inherit"},void(this.filtredByCode=!1);if(this.colorFilterValue=this.colorFilterValue.toUpperCase(),this.utilsService.RGBHEXValidator("#"+this.colorFilterValue)&&(this.colorFilterValue="#"+this.colorFilterValue),this.colorFilterValue.startsWith("#")){if(!this.utilsService.RGBHEXValidator(this.colorFilterValue))return this.colorFilterValue="",void this.filterColor();this.filteredColors=[],this.colorContainerSyle={backgroundColor:this.colorFilterValue},this.filtredByCode=!0,(this.sorted?this.sortedColors:this.colors).forEach(n=>{this.globalService.isColorsSimilar(n?.code,this.colorFilterValue)&&this.filteredColors.push(n)})}else this.filteredColors=[],this.colorContainerSyle={backgroundColor:"inherit"},this.filtredByCode=!1,(this.sorted?this.sortedColors:this.colors).forEach(n=>{n.name.toUpperCase().includes(this.colorFilterValue)&&this.filteredColors.push(n)})}nextPage(){if(this.selectedColors&&this.selectedColors.length>0){let i,n=this.product.productColors;this.product.productColors=[],this.product.productColors=this.selectedColors.map(a=>(i=n.find(u=>u.color.id===a.id),i||(i=new It.f,i.id=-1,i.color=a,i))),this.router.navigate(["/administrative/products/addProduct/images"]),this.productsService.saveEditingProgress()}else this.messageService.add({key:"homeToast",severity:"warn",life:7e3,summary:"Missing some field",detail:"please select at least one color"})}prevPage(){this.router.navigate(["/administrative/products/addProduct/general"])}}return c.\u0275fac=function(n){return new(n||c)(e.Y36(mt.F),e.Y36(U.s),e.Y36(x.ez),e.Y36(b.F0),e.Y36(N.s),e.Y36(_t.U))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-product-colors-form"]],decls:36,vars:12,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"flex","flex-wrap","lg:flex-nowrap"],["styleClass","p-button-raised p-button-secondary my-2 w-max","label","Unselect All","icon","pi pi-stop",3,"disabled","onClick"],[1,"p-inputgroup","my-2","lg:mx-2",3,"click"],[1,"p-inputgroup-addon","w-3rem"],[1,"pi","pi-search"],["type","text","pTooltip","'#HexCode' to search by color similiraty Or normal string to search by colorName","pInputText","","placeholder","Search For Color",3,"ngModel","ngModelChange","keyup.enter"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","w-3rem",3,"click"],["pButton","",1,"p-button-outlined","w-3rem",3,"icon","click"],["styleClass","p-button-raised p-button-secondary my-2 w-max","label","Show Only Selected","icon","pi pi-check-square",3,"disabled","onClick"],[1,"col-12","lg:col-6","lg:flex-order-4"],[1,"flex","align-content-center","justify-content-evenly","h-8rem","flex-nowrap","overflow-x-scroll","lg:h-30rem","lg:flex-wrap"],["class","m-4",3,"showColorName","color","selectColor",4,"ngFor","ngForOf"],[1,"col-12","lg:col-6","lg:flex-order-3"],[1,"card","p-1","lg:p-4"],[1,"w-12","border-round-xl","flex","flex-wrap","justify-content-center","h-30rem","overflow-y-scroll",3,"ngStyle"],["class","m-2 lg:p-4",3,"showColorName","color","selectColor",4,"ngFor","ngForOf"],["class","m-2 lg:p-4",4,"ngIf"],[1,"col-12","lg:flex-order-5"],[1,"flex","justify-content-between","mx-4"],["styleClass","p-button-raised p-button-text font-medium","label","Back","icon","pi pi-caret-left",3,"onClick"],["styleClass","p-button-raised p-button-text font-medium","label","Next","icon","pi pi-caret-right","iconPos","right",3,"onClick"],["header","Add Color",3,"visible","visibleChange"],[1,"block","my-2","py-4"],[3,"code"],["placeholder","Color Name","type","text","pInputText","","ngModel","","required",""],["colorName","ngModel"],[1,"flex","justify-content-end"],["pButton","","pRipple","","type","submit","label","Add","icon","pi pi-plus-circle",1,"p-button-sm","mt-4",3,"disabled","loading","click"],[1,"m-4",3,"showColorName","color","selectColor"],[1,"m-2","lg:p-4",3,"showColorName","color","selectColor"],[1,"m-2","lg:p-4"],[1,"flex","justify-content-center","align-items-center",2,"height","5.5rem","width","3.6rem"],["icon","pi pi-plus","styleClass"," bg-white p-button-rounded p-button-text p-button-raised",3,"onClick"]],template:function(n,i){if(1&n){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4," Product Colors Data "),e.qZA(),e.TgZ(5,"div",3)(6,"p-button",4),e.NdJ("onClick",function(){return i.UnselectAll()}),e.qZA(),e.TgZ(7,"div",5),e.NdJ("click",function(h){return h.stopPropagation()}),e.TgZ(8,"span",6),e._UZ(9,"i",7),e.qZA(),e.TgZ(10,"input",8),e.NdJ("ngModelChange",function(h){return i.colorFilterValue=h})("keyup.enter",function(){return i.filterColor()}),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return i.resetColorFilterValue()}),e.qZA(),e.TgZ(12,"button",10),e.NdJ("click",function(){return i.sort()}),e.qZA()(),e.TgZ(13,"p-button",11),e.NdJ("onClick",function(){return i.ShowSeleced()}),e.qZA()()()(),e.TgZ(14,"div",12)(15,"div",2)(16,"div",13),e.YNc(17,Ft,1,2,"app-color",14),e.qZA()()(),e.TgZ(18,"div",15)(19,"div",16)(20,"div",17),e.YNc(21,Jt,1,2,"app-color",18),e.YNc(22,Nt,3,0,"div",19),e.qZA()()(),e.TgZ(23,"div",20)(24,"div",2)(25,"div",21)(26,"p-button",22),e.NdJ("onClick",function(){return i.prevPage()}),e.qZA(),e.TgZ(27,"p-button",23),e.NdJ("onClick",function(){return i.nextPage()}),e.qZA()()()()(),e.TgZ(28,"p-dialog",24),e.NdJ("visibleChange",function(h){return i.showAddDialog=h}),e.TgZ(29,"div",25),e._UZ(30,"app-color",26),e.qZA(),e.TgZ(31,"div",25),e._UZ(32,"input",27,28),e.qZA(),e.TgZ(34,"div",29)(35,"button",30),e.NdJ("click",function(){e.CHM(a);const h=e.MAs(33);return e.KtG(i.addColor(h.value))}),e.qZA()()()}if(2&n){const a=e.MAs(33);e.xp6(6),e.Q6J("disabled",0==i.selectedColors.length),e.xp6(4),e.Q6J("ngModel",i.colorFilterValue),e.xp6(2),e.MGl("icon","pi ",i.sorted?"pi-sort-alt-slash":"pi-sort-alt",""),e.xp6(1),e.Q6J("disabled",0==i.selectedColors.length),e.xp6(4),e.Q6J("ngForOf",i.selectedColors),e.xp6(3),e.Q6J("ngStyle",i.colorContainerSyle),e.xp6(1),e.Q6J("ngForOf",i.filteredColors),e.xp6(1),e.Q6J("ngIf",i.filtredByCode),e.xp6(6),e.Q6J("visible",i.showAddDialog),e.xp6(2),e.Q6J("code",i.colorFilterValue),e.xp6(5),e.Q6J("disabled",a.invalid)("loading",i.addColorLoading)}},dependencies:[C.sg,C.O5,C.PC,B.u,f.Fj,f.JJ,f.Q7,f.On,S.Hq,S.zx,k.o,gt.V,V.R]}),c})();var G=m(4469),Ot=m(5773),ht=m(7159);let Et=(()=>{class c{constructor(n,i,a,u){this.storageService=n,this.messageService=i,this.router=a,this.productsService=u}ngOnInit(){this.product=this.productsService.selectedProduct}complete(){this.productsService.editProduct(this.product).subscribe(n=>{n&&(this.storageService.editingProduct=void 0,this.productsService.selectedProduct=new G.x,this.productsService.selectedProduct.id=-1,this.router.navigate(["/administrative/products/addProduct/general"]))})}shareProduct(){navigator.clipboard.writeText(JSON.stringify(this.product)).then(()=>{this.messageService.add({key:"homeToast",severity:"success",summary:"Product Data Copied To Clipboard",detail:this.productsService.selectedProduct.name+" product link is copied to clipboard"})})}prevPage(){this.router.navigate(["/administrative/products/addProduct/confirm"])}}return c.\u0275fac=function(n){return new(n||c)(e.Y36(Ot.V),e.Y36(x.ez),e.Y36(b.F0),e.Y36(N.s))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-product-confirmation-form"]],decls:13,vars:2,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"flex","justify-content-center","align-items-center"],[3,"product"],[1,"flex","justify-content-between"],["styleClass","p-button-raised p-button-text font-medium","label","Back","icon","pi pi-caret-left",3,"onClick"],["styleClass","p-button-raised p-button-rounded p-button-text font-medium","icon","pi pi-share-alt",3,"onClick"],["styleClass","p-button-raised p-button-text font-medium p-button-success","label","Complete","icon","pi pi-check","iconPos","right",3,"disabled","onClick"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4," Product Sources Data "),e.qZA(),e.TgZ(5,"div",3),e._UZ(6,"app-product",4),e.qZA()()(),e.TgZ(7,"div",1)(8,"div",2)(9,"div",5)(10,"p-button",6),e.NdJ("onClick",function(){return i.prevPage()}),e.qZA(),e.TgZ(11,"p-button",7),e.NdJ("onClick",function(){return i.shareProduct()}),e.qZA(),e.TgZ(12,"p-button",8),e.NdJ("onClick",function(){return i.complete()}),e.qZA()()()()()),2&n&&(e.xp6(6),e.Q6J("product",i.product),e.xp6(6),e.Q6J("disabled",i.productsService.waitingForProducts))},dependencies:[S.zx,ht.F]}),c})();var ft=m(159);function Dt(c,_){1&c&&(e.TgZ(0,"small",21),e._uU(1,"Name is required."),e.qZA())}function Ut(c,_){1&c&&(e.TgZ(0,"small",21),e._uU(1,"Description is required."),e.qZA())}function Yt(c,_){1&c&&(e.TgZ(0,"small",21),e._uU(1,"Category is required."),e.qZA())}const ot=function(){return{width:"100%"}},nt=function(c){return{"ng-dirty":c}};let Qt=(()=>{class c{constructor(n,i,a,u){this.messageService=n,this.productService=i,this.apiService=a,this.router=u,this.submitted=!1,this.categories=[],this.status=[]}ngOnInit(){this.apiService.getCategories().subscribe(n=>this.categories=n),this.product=this.productService.selectedProduct}clearData(){let n=new G.x;n.id=-1,this.productService.selectedProduct=n,this.productService.saveEditingProgress(),this.product=n,this.messageService.add({key:"homeToast",severity:"success",summary:"Success",detail:"Editing Product Successfuly Rest"})}LoadProduct(){navigator.clipboard.readText().then(n=>{if(n){let i;try{i=JSON.parse(n)}catch(a){console.log(a)}if(i)return this.productService.selectedProduct=i,this.productService.saveEditingProgress(),this.product=i,void this.messageService.add({key:"homeToast",severity:"success",summary:"Success",detail:"Loading Product Successfuly Done"})}this.messageService.add({key:"homeToast",severity:"error",summary:"Failed",detail:"Clipboard Data Does Not Parse Product!"})})}nextPage(){if(this.product.name&&this.product.category&&this.product.description)return this.router.navigate(["/administrative/products/addProduct/colors"]),void this.productService.saveEditingProgress();this.submitted=!0}}return c.\u0275fac=function(n){return new(n||c)(e.Y36(x.ez),e.Y36(N.s),e.Y36(U.s),e.Y36(b.F0))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-product-general-data-form"]],decls:34,vars:32,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"flex","flex-column"],[1,"field","my-4","w-full"],["for","name",1,"font-medium","block"],["id","name","type","text","required","","pInputText","",3,"ngModel","ngClass","ngModelChange"],["name","ngModel"],["class","p-error",4,"ngIf"],["for","description",1,"font-medium","block"],["pInputTextarea","","id","description","required","",3,"rows","ngModel","autoResize","ngClass","ngModelChange"],["description","ngModel"],["for","category",1,"font-medium","block"],["dataKey","id","appendTo","body","optionLabel","name","filterBy","name","placeholder","Select a category",3,"required","options","ngModel","filter","ngClass","showClear","ngModelChange"],["category","ngModel"],["for","status",1,"font-medium","block"],["id","status",3,"readOnly","productStatus","productStatusChange"],[1,"flex","justify-content-between","lg:mx-4"],["styleClass","p-button-raised p-button-text font-medium p-button-danger","label","Clear Data","icon","pi pi-trash",3,"onClick"],["styleClass","p-button-raised p-button-rounded p-button-text font-medium","icon","pi pi-file-import",3,"onClick"],["styleClass","p-button-raised p-button-text font-medium","label","Next","icon","pi pi-caret-right","iconPos","right",3,"onClick"],[1,"p-error"]],template:function(n,i){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4," Product General Data "),e.qZA(),e.TgZ(5,"div",3)(6,"div",4)(7,"label",5),e._uU(8,"Name"),e.qZA(),e.TgZ(9,"input",6,7),e.NdJ("ngModelChange",function(u){return i.product.name=u}),e.qZA(),e.YNc(11,Dt,2,0,"small",8),e.qZA(),e.TgZ(12,"div",4)(13,"label",9),e._uU(14,"Description"),e.qZA(),e.TgZ(15,"textarea",10,11),e.NdJ("ngModelChange",function(u){return i.product.description=u}),e.qZA(),e.YNc(17,Ut,2,0,"small",8),e.qZA(),e.TgZ(18,"div",4)(19,"label",12),e._uU(20,"Category"),e.qZA(),e.TgZ(21,"p-dropdown",13,14),e.NdJ("ngModelChange",function(u){return i.product.category=u}),e.qZA(),e.YNc(23,Yt,2,0,"small",8),e.qZA(),e.TgZ(24,"div",4)(25,"label",15),e._uU(26,"Status"),e.qZA(),e.TgZ(27,"app-product-status",16),e.NdJ("productStatusChange",function(u){return i.product.status=u}),e.qZA()()()()(),e.TgZ(28,"div",1)(29,"div",2)(30,"div",17)(31,"p-button",18),e.NdJ("onClick",function(){return i.clearData()}),e.qZA(),e.TgZ(32,"p-button",19),e.NdJ("onClick",function(){return i.LoadProduct()}),e.qZA(),e.TgZ(33,"p-button",20),e.NdJ("onClick",function(){return i.nextPage()}),e.qZA()()()()()),2&n){const a=e.MAs(10),u=e.MAs(16),h=e.MAs(22);e.xp6(9),e.Akn(e.DdM(23,ot)),e.Q6J("ngModel",i.product.name)("ngClass",e.VKq(24,nt,a.invalid&&i.submitted||a.dirty&&a.invalid)),e.xp6(2),e.Q6J("ngIf",a.invalid&&i.submitted||a.dirty&&a.invalid),e.xp6(4),e.Akn(e.DdM(26,ot)),e.Q6J("rows",2)("ngModel",i.product.description)("autoResize",!0)("ngClass",e.VKq(27,nt,u.invalid&&i.submitted||u.dirty&&u.invalid)),e.xp6(2),e.Q6J("ngIf",u.invalid&&i.submitted||u.dirty&&u.invalid),e.xp6(4),e.Akn(e.DdM(29,ot)),e.Q6J("required",!0)("options",i.categories)("ngModel",i.product.category)("filter",!0)("ngClass",e.VKq(30,nt,h.invalid&&i.submitted||h.dirty&&h.invalid))("showClear",!0),e.xp6(2),e.Q6J("ngIf",h.invalid&&i.submitted||h.dirty&&h.invalid),e.xp6(4),e.Q6J("readOnly",!1)("productStatus",i.product.status)}},dependencies:[C.mk,C.O5,f.Fj,f.JJ,f.Q7,f.On,K.Lt,S.zx,k.o,ft.a,W.g]}),c})();var Rt=m(9338);function Vt(c,_){if(1&c&&(e.TgZ(0,"div",11),e._UZ(1,"app-color",12),e.TgZ(2,"span",13),e._uU(3),e.qZA()()),2&c){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("color",n.color),e.xp6(2),e.hij(" ",n.color.name," ")}}function Lt(c,_){if(1&c&&e._UZ(0,"img",34),2&c){const n=e.oxw().$implicit;e.Q6J("src",n.src,e.LSH)}}function Bt(c,_){1&c&&e.YNc(0,Lt,1,1,"img",33),2&c&&e.Q6J("ngIf",_.$implicit)}const Ct=function(){return{width:"100%"}};function jt(c,_){if(1&c){const n=e.EpF();e.TgZ(0,"div",35)(1,"span",36)(2,"input",37),e.NdJ("ngModelChange",function(a){const h=e.CHM(n).$implicit;return e.KtG(h.src=a)})("click",function(){const u=e.CHM(n).index,h=e.oxw(3);return e.KtG(h.selectImage(u))}),e.qZA(),e.TgZ(3,"label",23),e._uU(4),e.qZA()(),e.TgZ(5,"p-button",38),e.NdJ("click",function(){const u=e.CHM(n).index,h=e.oxw(2).$implicit,q=e.oxw();return e.KtG(q.delete(u,h))}),e.qZA()()}if(2&c){const n=_.$implicit,i=_.index;e.xp6(2),e.Akn(e.DdM(4,Ct)),e.Q6J("ngModel",n.src),e.xp6(2),e.hij("SRC",i,"")}}function zt(c,_){if(1&c){const n=e.EpF();e.TgZ(0,"div",14)(1,"div",15)(2,"p-galleria",16),e.NdJ("activeIndexChange",function(a){e.CHM(n);const u=e.oxw(2);return e.KtG(u.activeIndex=a)}),e.YNc(3,Bt,1,1,"ng-template",17),e.qZA()(),e.TgZ(4,"div",18)(5,"div",19)(6,"p-button",20),e.NdJ("click",function(){e.CHM(n);const a=e.oxw().$implicit,u=e.oxw();return e.KtG(u.past(a))}),e.qZA(),e.TgZ(7,"span",21)(8,"input",22),e.NdJ("ngModelChange",function(a){e.CHM(n);const u=e.oxw(2);return e.KtG(u.src=a)})("keyup.enter",function(){e.CHM(n);const a=e.oxw().$implicit,u=e.oxw();return e.KtG(u.addImage(a))}),e.qZA(),e.TgZ(9,"label",23),e._uU(10,"SRC"),e.qZA()()(),e.TgZ(11,"div",24),e.YNc(12,jt,6,5,"div",25),e.qZA()(),e.TgZ(13,"div",26)(14,"div",27)(15,"h2",28),e._uU(16," Color Image: "),e.qZA()(),e.TgZ(17,"div",27)(18,"p-button",29),e.NdJ("click",function(){e.CHM(n);const a=e.oxw().$implicit,u=e.oxw();return e.KtG(u.pastColorImage(a))}),e.qZA(),e.TgZ(19,"input",30),e.NdJ("ngModelChange",function(a){e.CHM(n);const u=e.oxw().$implicit;return e.KtG(u.image=a)}),e.qZA()(),e.TgZ(20,"div",31),e._UZ(21,"app-color",32),e.qZA()()()}if(2&c){const n=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.Q6J("value",n.productImages)("showThumbnails",!1)("activeIndex",i.activeIndex)("showIndicatorsOnItem",!0)("showIndicators",!0)("changeItemOnIndicatorHover",!1),e.xp6(4),e.Q6J("loading",i.loading),e.xp6(2),e.Akn(e.DdM(14,Ct)),e.Q6J("ngModel",i.src),e.xp6(4),e.Q6J("ngForOf",n.productImages),e.xp6(6),e.Q6J("loading",i.loadingColorImage),e.xp6(1),e.Q6J("ngModel",n.image),e.xp6(2),e.Q6J("productColor",n)}}function Gt(c,_){1&c&&(e.TgZ(0,"p-tabPanel",8),e.YNc(1,Vt,4,2,"ng-template",9),e.YNc(2,zt,22,15,"ng-template",10),e.qZA()),2&c&&e.Q6J("selected",0==_.index)}let Ht=(()=>{class c{constructor(n,i,a,u){this.messageService=n,this.productsService=i,this.apiService=a,this.router=u,this.src="",this.activeIndex=0,this.loading=!1,this.loadingColorImage=!1,this.nbOfInvalid=0}ngOnInit(){this.product=this.productsService.selectedProduct,this.product.productColors.forEach(n=>{(!n.productImages||0==n.productImages.length)&&(n.productImages=[],this.nbOfInvalid++)})}addImage(n){if(!this.src||""===this.src)return;0==n.productImages.length&&this.nbOfInvalid--;let i=new Rt.q;i.id=-1,i.src=this.src,n.productImages=[...n.productImages,i],this.activeIndex=n.productImages.length-1,this.src=new String}delete(n,i){i.productImages.splice(n,1),i.productImages=[...i.productImages],0==i.productImages.length&&this.nbOfInvalid++}past(n){this.loading=!0,navigator.clipboard.readText().then(i=>{this.src=i,this.addImage(n)}).finally(()=>this.loading=!1)}pastColorImage(n){this.loadingColorImage=!0,n.image="",navigator.clipboard.readText().then(i=>{n.image=i}).finally(()=>this.loadingColorImage=!1)}selectImage(n){this.activeIndex=n}saveProgress(){this.productsService.saveEditingProgress()}nextPage(){0==this.nbOfInvalid?(this.product.otherImages=[],this.product.productColors.forEach(n=>{n.productImages.forEach(i=>this.product.otherImages.push(i))}),this.router.navigate(["/administrative/products/addProduct/detailColors"]),this.productsService.saveEditingProgress()):this.messageService.add({key:"homeToast",severity:"warn",life:7e3,summary:"Missing some field",detail:"please each color must have at least one image"})}prevPage(){this.router.navigate(["/administrative/products/addProduct/colors"])}}return c.\u0275fac=function(n){return new(n||c)(e.Y36(x.ez),e.Y36(N.s),e.Y36(U.s),e.Y36(b.F0))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-product-images-form"]],decls:13,vars:1,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["scrollable","true",3,"selected",4,"ngFor","ngForOf"],[1,"flex","justify-content-between"],["styleClass","p-button-raised p-button-text font-medium","label","Back","icon","pi pi-caret-left",3,"onClick"],["styleClass","p-button-raised p-button-rounded p-button-text font-medium","icon","pi pi-save",3,"onClick"],["styleClass","p-button-raised  p-button-text font-medium","label","Next","icon","pi pi-caret-right","iconPos","right",3,"onClick"],["scrollable","true",3,"selected"],["pTemplate","header"],["pTemplate","content"],[1,"flex","flex-column"],[1,"m-4",3,"color"],[1,"font-light","text-xs","text-center","text-overflow-ellipsis"],[1,"flex","flex-wrap"],[1,"field","col-12","md:col-6","h-full"],[3,"value","showThumbnails","activeIndex","showIndicatorsOnItem","showIndicators","changeItemOnIndicatorHover","activeIndexChange"],["pTemplate","item"],[1,"field","col-12","md:col-6","h-full","shadow-2","border-round-lg"],[1,"h-6rem","surface-ground","border-round-lg","w-full","border-noround-bottom","flex","align-items-center","justify-content-center"],["title","past","icon","pi pi-file-export","styleClass","p-button-rounded m-2",3,"loading","click"],[1,"p-float-label","w-9"],["id","float-input","type","text","pInputText","",3,"ngModel","ngModelChange","keyup.enter"],["for","float-input"],[1,"flex","flex-column-reverse","w-full","h-full"],["class","w-12 my-4 m-auto flex align-items-center",4,"ngFor","ngForOf"],[1,"flex","justify-content-between","col-12","h-8rem","overflow-x-auto"],[1,"flex","justify-content-center","align-items-center"],[1,"w-8rem"],["pRipple","","title","past","icon","pi pi-file-export","styleClass","p-button-rounded m-2",3,"loading","click"],["placeholder","SRC","type","text","pInputText","",1,"h-3rem",3,"ngModel","ngModelChange"],[1,"flex","justify-content-center"],[1,"m-2",3,"productColor"],["style","width: 100%; display: block;",3,"src",4,"ngIf"],[2,"width","100%","display","block",3,"src"],[1,"w-12","my-4","m-auto","flex","align-items-center"],[1,"p-float-label","w-full"],["id","float-input","tabindex","-1","type","text","pInputText","",3,"ngModel","ngModelChange","click"],["title","delete size","icon","pi pi-trash","styleClass","p-button-rounded p-button-danger p-button-text",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4," Product Images Data "),e.qZA(),e.TgZ(5,"p-tabView"),e.YNc(6,Gt,3,1,"p-tabPanel",3),e.qZA()()(),e.TgZ(7,"div",1)(8,"div",2)(9,"div",4)(10,"p-button",5),e.NdJ("onClick",function(){return i.prevPage()}),e.qZA(),e.TgZ(11,"p-button",6),e.NdJ("onClick",function(){return i.saveProgress()}),e.qZA(),e.TgZ(12,"p-button",7),e.NdJ("onClick",function(){return i.nextPage()}),e.qZA()()()()()),2&n&&(e.xp6(6),e.Q6J("ngForOf",i.product.productColors))},dependencies:[C.sg,C.O5,x.jx,f.Fj,f.JJ,f.On,S.zx,k.o,$.dz,V.R,R,D],styles:["@media screen and (max-width: 576px){[_nghost-%COMP%]     .p-tabview-panels{padding:0!important}[_nghost-%COMP%]     .p-card-body{padding:.5rem!important}}"]}),c})();var Kt=m(4876),vt=m(6161);function $t(c,_){if(1&c&&(e.TgZ(0,"div",13),e._UZ(1,"app-color",14),e.TgZ(2,"span",15),e._uU(3),e.qZA()()),2&c){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("color",n.color),e.xp6(2),e.hij(" ",n.color.name," ")}}function Wt(c,_){1&c&&e._UZ(0,"app-size",21),2&c&&e.Q6J("size",_.$implicit.size)}function Xt(c,_){if(1&c){const n=e.EpF();e.TgZ(0,"div",22)(1,"span",23),e._UZ(2,"i",24),e.qZA(),e.TgZ(3,"input",25),e.NdJ("ngModelChange",function(a){e.CHM(n);const u=e.oxw(3);return e.KtG(u.filterValue=a)})("keyup",function(a){const h=e.CHM(n).options;return e.KtG(h.filter(a))}),e.qZA(),e.TgZ(4,"button",26),e.NdJ("click",function(){const u=e.CHM(n).options,h=e.oxw(3);return e.KtG(h.myResetFunction(u))}),e.qZA()()}if(2&c){const n=e.oxw(3);e.xp6(3),e.Q6J("ngModel",n.filterValue)}}function te(c,_){if(1&c&&(e.TgZ(0,"div",27)(1,"span",28),e._uU(2),e.qZA(),e.TgZ(3,"span",29),e._uU(4),e.qZA()()),2&c){const n=_.$implicit;let i;e.xp6(2),e.Oqu(n.size.name),e.xp6(2),e.Oqu(null!==(i=n.size.inEU)&&void 0!==i?i:"")}}function ee(c,_){if(1&c){const n=e.EpF();e.TgZ(0,"div",16),e.YNc(1,Wt,1,1,"app-size",17),e.qZA(),e.TgZ(2,"p-listbox",18),e.NdJ("onChange",function(){e.CHM(n);const a=e.oxw().$implicit,u=e.oxw();return e.KtG(u.checkValidation(a.productSets))})("ngModelChange",function(a){e.CHM(n);const u=e.oxw().$implicit;return e.KtG(u.productSets=a)}),e.YNc(3,Xt,5,1,"ng-template",19),e.YNc(4,te,5,2,"ng-template",20),e.qZA()}if(2&c){const n=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.productSets),e.xp6(1),e.Q6J("options",i.availableSizesAsProductSets)("ngModel",n.productSets)("checkbox",!0)("filter",!0)("multiple",!0)("metaKeySelection",!1)("showToggleAll",!0)}}function oe(c,_){1&c&&(e.TgZ(0,"p-tabPanel",10),e.YNc(1,$t,4,2,"ng-template",11),e.YNc(2,ee,5,8,"ng-template",12),e.qZA())}let bt=(()=>{class c{constructor(n,i,a,u,h){this.filterService=n,this.apiService=i,this.messageService=a,this.router=u,this.productsService=h,this.availableSizesAsProductSets=[],this.nbOfInvalid=0,this.filterValue="",this.selectedIndex=0}ngOnInit(){this.initialProductsSet=new Map,this.product=this.productsService.selectedProduct,this.productsService.getAvailableSizes().then(n=>{this.availableSizesAsProductSets=n.map(i=>{let a=new Kt.A;return a.id=-1,a.size=i,a.quantity=0,a}),this.product.productColors.forEach(i=>{i.productSets&&0!=i.productSets.length?i.productSets.forEach(a=>{a.id>0&&this.initialProductsSet.set(i.id+"-"+a.size.id,a)}):(i.productSets=[],this.nbOfInvalid++)})}),this.filterService.register("productSetFilterBySizeName",(n,i)=>{if(null==i||""===i.trim())return!0;if(null==n)return!1;let a=i.toUpperCase();return-1!==(n.inEU?n.name+n.inEU:n.name).indexOf(a)})}myResetFunction(n){n.reset&&n.reset(),this.filterValue=""}checkValidation(n){1==n.length?this.nbOfInvalid--:0==n.length&&this.nbOfInvalid++}applyForAllColor(){let n;for(var i=0;i<this.product.productColors.length;i++)i!=this.selectedIndex&&(n=[],this.product.productColors[this.selectedIndex].productSets.forEach(a=>n.push({...a,id:-1})),this.product.productColors[i].productSets=n);this.nbOfInvalid=0,this.messageService.add({key:"homeToast",severity:"success",life:7e3,summary:"Done",detail:"Selected sizes successfuly applied to all product colors"})}nextPage(){if(0==this.nbOfInvalid){let n;this.product.productColors.forEach(i=>{for(var a=0;a<i.productSets.length;a++)n=this.initialProductsSet.get(i.id+"-"+i.productSets[a].size.id),n&&(i.productSets[a]=n)}),this.router.navigate(["/administrative/products/addProduct/sources"]),this.productsService.saveEditingProgress()}else this.messageService.add({key:"homeToast",severity:"warn",life:7e3,summary:"Missing some field",detail:"please each color must have at least one size"})}prevPage(){this.router.navigate(["/administrative/products/addProduct/detailColors"])}}return c.\u0275fac=function(n){return new(n||c)(e.Y36(x.iZ),e.Y36(U.s),e.Y36(x.ez),e.Y36(b.F0),e.Y36(N.s))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-product-sizes-form"]],decls:14,vars:2,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[3,"activeIndex","activeIndexChange"],["scrollable","true",4,"ngFor","ngForOf"],[1,"flex","justify-content-end","mt-1"],["styleClass","p-button-raised p-button-secondary ","label","Apply For All Color","icon","pi pi-check-square",3,"onClick"],[1,"flex","justify-content-between"],["styleClass","p-button-raised p-button-text font-medium","label","Back","icon","pi pi-caret-left",3,"onClick"],["styleClass","p-button-raised p-button-text font-medium","label","Next","icon","pi pi-caret-right","iconPos","right",3,"onClick"],["scrollable","true"],["pTemplate","header"],["pTemplate","content"],[1,"flex","flex-column"],[1,"m-4",3,"color"],[1,"font-light","text-xs","text-center","text-overflow-ellipsis"],[1,"flex","flex-reverse","align-content-center","justify-content-evently","w-12","h-6rem","overflow-x-scroll"],["class","m-4",3,"size",4,"ngFor","ngForOf"],["filterBy","label","optionLabel","size","filterMatchMode","productSetFilterBySizeName","dataKey","size.id",3,"options","ngModel","checkbox","filter","multiple","metaKeySelection","showToggleAll","onChange","ngModelChange"],["pTemplate","filter"],["pTemplate","item"],[1,"m-4",3,"size"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Filter",3,"ngModel","ngModelChange","keyup"],["pButton","","icon","pi pi-times",1,"ml-3",3,"click"],[1,"my-5","mx-1","md:mx-6"],[1,"font-bold","text-xl","md:text-2xl"],[1,"font-bold","text-primary-100"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4," Product Sizes Data "),e.qZA(),e.TgZ(5,"p-tabView",3),e.NdJ("activeIndexChange",function(u){return i.selectedIndex=u}),e.YNc(6,oe,3,0,"p-tabPanel",4),e.TgZ(7,"div",5)(8,"p-button",6),e.NdJ("onClick",function(){return i.applyForAllColor()}),e.qZA()()()()(),e.TgZ(9,"div",1)(10,"div",2)(11,"div",7)(12,"p-button",8),e.NdJ("onClick",function(){return i.prevPage()}),e.qZA(),e.TgZ(13,"p-button",9),e.NdJ("onClick",function(){return i.nextPage()}),e.qZA()()()()()),2&n&&(e.xp6(5),e.Q6J("activeIndex",i.selectedIndex),e.xp6(1),e.Q6J("ngForOf",i.product.productColors))},dependencies:[C.sg,x.jx,f.Fj,f.JJ,f.On,S.Hq,S.zx,k.o,V.R,vt.m,R,D,rt.Ri],styles:["[_nghost-%COMP%]     .p-listbox-list{display:flex;flex-wrap:wrap;justify-content:space-around}[_nghost-%COMP%]     li.p-highlight{background-color:#fff!important}[_nghost-%COMP%]     .p-tabview-panels{margin:0;padding:0}"]}),c})();var xt=m(3165);let ne=(()=>{class c{constructor(n,i,a){this.productsService=n,this.apiService=i,this.router=a,this.loading=!1,this.companies=[]}ngOnInit(){this.apiService.getCompaniesListByCompanyTypeKeyAdv("CLOTHES_COMPANY").subscribe(n=>this.companies=n),this.product=this.productsService.selectedProduct,this.product.productAdministrativeData||(this.product.productAdministrativeData=[])}nextPage(){this.product.productAdministrativeData&&this.product.productAdministrativeData.length>0&&(this.router.navigate(["/administrative/products/addProduct/confirm"]),this.productsService.saveEditingProgress())}prevPage(){this.router.navigate(["/administrative/products/addProduct/sizes"])}}return c.\u0275fac=function(n){return new(n||c)(e.Y36(N.s),e.Y36(U.s),e.Y36(b.F0))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-products-sources-form"]],decls:11,vars:2,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[3,"productAdministrativeData","companies"],[1,"flex","justify-content-between"],["styleClass","p-button-raised p-button-text font-medium","label","Back","icon","pi pi-caret-left",3,"onClick"],["styleClass","p-button-raised p-button-text font-medium","label","Next","icon","pi pi-caret-right","iconPos","right",3,"onClick"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4," Product Sources Data "),e.qZA(),e._UZ(5,"app-maintain-product-administrative-data",3),e.qZA()(),e.TgZ(6,"div",1)(7,"div",2)(8,"div",4)(9,"p-button",5),e.NdJ("onClick",function(){return i.prevPage()}),e.qZA(),e.TgZ(10,"p-button",6),e.NdJ("onClick",function(){return i.nextPage()}),e.qZA()()()()()),2&n&&(e.xp6(5),e.Q6J("productAdministrativeData",i.product.productAdministrativeData)("companies",i.companies))},dependencies:[S.zx,xt.u]}),c})();function ie(c,_){if(1&c&&(e.TgZ(0,"div",12),e._UZ(1,"app-color",13),e.TgZ(2,"span",14),e._uU(3),e.qZA()()),2&c){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("color",n.productColor.color),e.xp6(2),e.hij(" ",n.productColor.color.name," ")}}function re(c,_){if(1&c){const n=e.EpF();e.TgZ(0,"app-color",33),e.NdJ("selectColor",function(){const u=e.CHM(n).$implicit,h=e.oxw(3);return e.KtG(h.searchForColor(u))}),e.qZA()}if(2&c){const n=_.$implicit;e.Q6J("smallSize",!0)("showColorName",!0)("color",n)}}function le(c,_){if(1&c){const n=e.EpF();e.TgZ(0,"app-color",34),e.NdJ("selectColor",function(){const u=e.CHM(n).$implicit,h=e.oxw(2).$implicit,q=e.oxw();return e.KtG(q.selectColor(u,h))}),e.qZA()}if(2&c){const n=_.$implicit;e.Q6J("smallSize",!0)("showColorName",!0)("color",n)}}function se(c,_){if(1&c){const n=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"p-button",37),e.NdJ("onClick",function(){e.CHM(n);const a=e.oxw(3);return e.KtG(a.showAddDialog=!0)}),e.qZA()()()}}function ae(c,_){if(1&c){const n=e.EpF();e.TgZ(0,"div",0)(1,"div",15)(2,"div",16),e.NdJ("click",function(a){return a.stopPropagation()}),e.TgZ(3,"span",17),e._UZ(4,"i",18),e.qZA(),e.TgZ(5,"input",19),e.NdJ("ngModelChange",function(a){e.CHM(n);const u=e.oxw(2);return e.KtG(u.colorFilterValue=a)})("keyup.enter",function(){e.CHM(n);const a=e.oxw(2);return e.KtG(a.filterColor())}),e.qZA(),e.TgZ(6,"button",20),e.NdJ("click",function(){e.CHM(n);const a=e.oxw(2);return e.KtG(a.resetColorFilterValue())}),e.qZA(),e.TgZ(7,"button",21),e.NdJ("click",function(){e.CHM(n);const a=e.oxw(2);return e.KtG(a.sort())}),e.qZA()(),e.TgZ(8,"p-button",22),e.NdJ("onClick",function(){e.CHM(n);const a=e.oxw().$implicit,u=e.oxw();return e.KtG(u.UnselectAll(a))}),e.qZA(),e.TgZ(9,"p-button",23),e.NdJ("onClick",function(){e.CHM(n);const a=e.oxw().$implicit,u=e.oxw();return e.KtG(u.ShowSeleced(a))}),e.qZA()(),e.TgZ(10,"div",24)(11,"div",25)(12,"div",26),e.YNc(13,re,1,3,"app-color",27),e.qZA()()(),e.TgZ(14,"div",28)(15,"div",29)(16,"div",30),e.YNc(17,le,1,3,"app-color",31),e.YNc(18,se,3,0,"div",32),e.qZA()()()()}if(2&c){const n=e.oxw().$implicit,i=e.oxw();e.xp6(5),e.Q6J("ngModel",i.colorFilterValue),e.xp6(2),e.MGl("icon","pi ",i.sorted?"pi-sort-alt-slash":"pi-sort-alt",""),e.xp6(1),e.Q6J("disabled",0==n.prouctDetailColor.length),e.xp6(1),e.Q6J("disabled",0==n.prouctDetailColor.length),e.xp6(4),e.Q6J("ngForOf",n.prouctDetailColor),e.xp6(3),e.Q6J("ngStyle",i.colorContainerSyle),e.xp6(1),e.Q6J("ngForOf",i.filteredColors),e.xp6(1),e.Q6J("ngIf",i.filtredByCode)}}function ce(c,_){1&c&&(e.TgZ(0,"p-tabPanel",9),e.YNc(1,ie,4,2,"ng-template",10),e.YNc(2,ae,19,8,"ng-template",11),e.qZA()),2&c&&e.Q6J("selected",0==_.index)}const pe=[{path:"general",component:Qt},{path:"images",component:Ht},{path:"colors",component:qt},{path:"detailColors",component:(()=>{class c{constructor(n,i,a,u,h,q){this.utilsService=n,this.apiService=i,this.messageService=a,this.router=u,this.productsService=h,this.globalService=q,this.productColorWrappers=[],this.sorted=!1,this.colorContainerSyle={backgroundColor:"inherit"},this.filtredByCode=!1,this.showAddDialog=!1,this.addColorLoading=!1}ngOnInit(){this.product=this.productsService.selectedProduct,this.productsService.getAvailableColors().then(n=>{let i,a;this.colors=n,this.filteredColors=[...this.colors],this.product.productColors&&(this.productColorWrappers=this.product.productColors.map(u=>(u.detailsColor?(a=u.detailsColor.split(",").map(h=>Number(h)),i=this.colors.filter(h=>a.includes(h.id))):i=[],{productColor:u,prouctDetailColor:i})))})}UnselectAll(n){n.prouctDetailColor=[]}addColor(n){this.addColorLoading=!0;let i=new ut.I;i.code=this.colorFilterValue,i.id=-1,i.name=n,(0,dt.z)(this.apiService.editColor(i)).then(a=>{a.id<=0||(this.colors.unshift(a),this.resetColorFilterValue())}).finally(()=>this.addColorLoading=!1)}sort(){this.sorted=!this.sorted,this.sortedColors||(this.sortedColors=[...this.colors].sort((n,i)=>n.code<i.code?-1:n.code>i.code?1:0)),this.filterColor()}ShowSeleced(n){this.colorFilterValue="Clear Filter To Show All",this.filteredColors=n.prouctDetailColor}resetColorFilterValue(){this.colorFilterValue="",this.filterColor()}selectColor(n,i){let a=i.prouctDetailColor.findIndex(u=>u.id===n.id);a>=0?i.prouctDetailColor.splice(a,1):i.prouctDetailColor.push(n)}searchForColor(n){this.colorFilterValue="Clear Filter To Show All",this.filteredColors=[],this.colors.forEach(i=>{this.globalService.isColorsSimilar(n?.code,i.code)&&this.filteredColors.push(i)})}filterColor(){if(!this.colorFilterValue||""===this.colorFilterValue)return this.filteredColors=this.sorted?[...this.sortedColors]:[...this.colors],this.colorContainerSyle={backgroundColor:"inherit"},void(this.filtredByCode=!1);if(this.colorFilterValue=this.colorFilterValue.toUpperCase(),this.utilsService.RGBHEXValidator("#"+this.colorFilterValue)&&(this.colorFilterValue="#"+this.colorFilterValue),this.colorFilterValue.startsWith("#")){if(!this.utilsService.RGBHEXValidator(this.colorFilterValue))return this.colorFilterValue="",void this.filterColor();this.filteredColors=[],this.colorContainerSyle={backgroundColor:this.colorFilterValue},this.filtredByCode=!0,(this.sorted?this.sortedColors:this.colors).forEach(n=>{this.globalService.isColorsSimilar(n?.code,this.colorFilterValue)&&this.filteredColors.push(n)})}else this.filteredColors=[],this.colorContainerSyle={backgroundColor:"inherit"},this.filtredByCode=!1,(this.sorted?this.sortedColors:this.colors).forEach(n=>{n.name.toUpperCase().includes(this.colorFilterValue)&&this.filteredColors.push(n)})}nextPage(){this.product.otherImages=[],this.router.navigate(["/administrative/products/addProduct/sizes"]),this.productsService.saveEditingProgress()}saveProgress(){for(let n=0;n<this.productColorWrappers.length;n++)this.product.productColors[n].detailsColor=this.productColorWrappers[n].prouctDetailColor.map(i=>i.id).join(",");this.productsService.saveEditingProgress()}prevPage(){this.router.navigate(["/administrative/products/addProduct/images"])}}return c.\u0275fac=function(n){return new(n||c)(e.Y36(mt.F),e.Y36(U.s),e.Y36(x.ez),e.Y36(b.F0),e.Y36(N.s),e.Y36(_t.U))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-product-detail-colors-form"]],decls:14,vars:1,consts:[[1,"grid"],[1,"col-12"],[1,""],["scrollable","true",3,"selected",4,"ngFor","ngForOf"],[1,"card"],[1,"flex","justify-content-between"],["styleClass","p-button-raised p-button-text font-medium","label","Back","icon","pi pi-caret-left",3,"onClick"],["styleClass","p-button-raised p-button-rounded p-button-text font-medium","icon","pi pi-save",3,"onClick"],["styleClass","p-button-raised  p-button-text font-medium","label","Next","icon","pi pi-caret-right","iconPos","right",3,"onClick"],["scrollable","true",3,"selected"],["pTemplate","header"],["pTemplate","content"],[1,"flex","flex-column"],[1,"m-4",3,"color"],[1,"font-light","text-xs","text-center","text-overflow-ellipsis"],[1,"flex","justify-content-evenly","sm:flex-nowrap","flex-wrap","my-2","w-12"],[1,"p-inputgroup","my-2","lg:mx-2","lg:flex-order-2",3,"click"],[1,"p-inputgroup-addon","w-3rem"],[1,"pi","pi-search"],["type","text","pTooltip","'#HexCode' to search by color similiraty Or normal string to search by colorName","pInputText","","placeholder","Search For Color",3,"ngModel","ngModelChange","keyup.enter"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","w-3rem",3,"click"],["pButton","",1,"p-button-outlined","w-3rem",3,"icon","click"],["styleClass","p-button-raised p-button-secondary my-2 w-max","label","Unselect All","icon","pi pi-stop",1,"lg:flex-order-1",3,"disabled","onClick"],["styleClass","p-button-raised p-button-secondary my-2 w-max","label","Show Selected","icon","pi pi-check-square",1,"lg:flex-order-3",3,"disabled","onClick"],[1,"col-12","lg:col-6","lg:flex-order-2"],[1,"card","flex","justify-content-center"],[1,"flex","align-content-center","h-7rem","flex-nowrap","overflow-x-scroll","lg:h-30rem","lg:flex-wrap"],["class","m-4",3,"smallSize","showColorName","color","selectColor",4,"ngFor","ngForOf"],[1,"col-12","lg:col-6","lg:flex-order-1"],[1,"card","p-1","lg:p-4"],[1,"w-12","border-round-xl","flex","flex-wrap","justify-content-center","h-30rem","overflow-y-scroll",3,"ngStyle"],["class","m-2 lg:p-4",3,"smallSize","showColorName","color","selectColor",4,"ngFor","ngForOf"],["class","m-2 lg:p-4",4,"ngIf"],[1,"m-4",3,"smallSize","showColorName","color","selectColor"],[1,"m-2","lg:p-4",3,"smallSize","showColorName","color","selectColor"],[1,"m-2","lg:p-4"],[1,"flex","justify-content-center","align-items-center",2,"height","5.5rem","width","3.6rem"],["icon","pi pi-plus","styleClass"," bg-white p-button-rounded p-button-text p-button-raised",3,"onClick"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4," Product Detail Colors Data "),e.qZA()()(),e.TgZ(5,"div",1)(6,"p-tabView"),e.YNc(7,ce,3,1,"p-tabPanel",3),e.qZA()(),e.TgZ(8,"div",1)(9,"div",4)(10,"div",5)(11,"p-button",6),e.NdJ("onClick",function(){return i.prevPage()}),e.qZA(),e.TgZ(12,"p-button",7),e.NdJ("onClick",function(){return i.saveProgress()}),e.qZA(),e.TgZ(13,"p-button",8),e.NdJ("onClick",function(){return i.nextPage()}),e.qZA()()()()()),2&n&&(e.xp6(7),e.Q6J("ngForOf",i.productColorWrappers))},dependencies:[C.sg,C.O5,C.PC,B.u,x.jx,f.Fj,f.JJ,f.On,S.Hq,S.zx,k.o,V.R,R,D],styles:[".col-12[_ngcontent-%COMP%]{padding:.3rem}[_nghost-%COMP%]     .p-tabview .p-tabview-nav .p-tabview-nav-link{background:none!important}[_nghost-%COMP%]     .p-tabview-nav{background:none!important}[_nghost-%COMP%]     .p-tabview-panels{padding:.1rem;background:none}"]}),c})()},{path:"sizes",component:bt},{path:"sources",component:ne},{path:"confirm",component:Et}];let de=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[b.Bz.forChild(pe),b.Bz]}),c})();var ue=m(8882);let me=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[C.ez,lt.q,b.Bz,de,H.d,f.u5,K.kW,F.q4,S.hJ,k.j,$.kT,Pt.U$,gt.S,V.R,vt.m,ft.a,ht.F,ue.p,L.zz,I,W.A,xt.u,rt.ON]}),c})()},2099:(P,Y,m)=>{m.r(Y),m.d(Y,{ProductsModule:()=>Co});var C=m(6895),f=m(433),b=m(5593),S=m(585),H=m(2137),K=m(7604),$=m(1493),L=m(2210),k=m(5569),W=m(3520),rt=m(7913),F=m(1740),lt=m(3054),Pt=m(8433),e=m(5722),B=m(5900),X=m(7198),x=m(6408),w=m(5362),y=m(1765),tt=m(3032),st=m(2238),at=m(3165),St=m(7256),Zt=m(9401),j=m(6536),et=m(159),wt=m(7159),Mt=m(9778),ct=m(6161),At=m(3784),kt=m(4317),O=m(4258),J=m(3905);class Q{}class pt extends Q{constructor(d){super(),d&&(this.id=d.id,this.imageLink=d.imageLink,this.dateAsString=d.dateAsString,this.price=d.price,this.sourcePrice=d.sourcePrice,this.sourceLink=d.sourceLink,d.productId&&(this.productId=d.productId),d.sourceId&&(this.sourceId=d.sourceId))}static convertToPrimitiveObject(d){var o=new Q;return o.id=d.id,o.imageLink=d.imageLink,o.dateAsString=d.dateAsString,o.price=d.price,o.sourcePrice=d.sourcePrice,o.sourceLink=d.sourceLink,o.productId&&(o.productId=d.productId),o.sourceId&&(o.sourceId=d.sourceId),o}}var t=m(4650),z=m(3276),T=m(805),E=m(9268),D=m(1843),R=m(690),I=m(5305),dt=m(2039),ut=m(7579),It=m(4004),mt=m(8372),U=m(1884),N=m(4243),_t=m(220);const gt=function(){return{"height.px":140,"width.px":100}};function V(r,d){1&r&&t._UZ(0,"div",16),2&r&&t.Q6J("ngStyle",t.DdM(1,gt))}function Ft(r,d){if(1&r){const o=t.EpF();t.ynx(0),t.YNc(1,V,1,2,"div",14),t.TgZ(2,"img",15),t.NdJ("load",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.imageLinkValid=!0)}),t.qZA(),t.BQk()}if(2&r){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",!o.imageLinkValid),t.xp6(1),t.Q6J("hidden",!o.imageLinkValid)("src",o.checkPricePO.imageLink,t.LSH)}}function Jt(r,d){1&r&&(t.TgZ(0,"div",17),t._UZ(1,"i",18),t.qZA())}let Nt=(()=>{class r{constructor(o,l,s){this.messageService=o,this.apiService=l,this.firebaseService=s,this.keyUp=new ut.x,this.sendRequestLoading=!1,this.imageLinkValid=!1}ngOnInit(){this.checkPricePO=new Q,this.subscription=this.keyUp.pipe((0,It.U)(o=>o?.target?.value),(0,mt.b)(600),(0,U.x)()).subscribe(o=>{this.imageLinkValid=!1,this.checkPricePO.imageLink=o})}ngOnDestroy(){this.subscription.unsubscribe()}sendRequest(){this.sendRequestLoading=!0,this.firebaseService.addCheckPriceRequest(this.checkPricePO).finally(()=>{this.checkPricePO=new Q,this.sendRequestLoading=!1})}notifyBuyer(){let o=new _t.P_;o.title="Check Price Is Required",o.body="please Check The Price To The New Add Product ",o.data={onActionClick:{defaultOperationUrl:{operation:"focusLastFocusedOrOpen",url:"administrative/products/checkPrice"}}},o.icon="https://dantel-store.github.io/Dantel/assets/icons/icon-72x72.png",(0,J.z)(this.apiService.SendNotification(o,N.u.buyer,void 0)).catch(l=>console.log(l))}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(T.ez),t.Y36(E.s),t.Y36(D.O))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-add-check-price"]],decls:17,vars:6,consts:[[1,"grid"],[1,"col-4","lg:col-2","flex","justify-content-center","align-items-center"],[4,"ngIf","ngIfElse"],["imageIcon",""],[1,"col-8","lg:col-6","flex","flex-column","align-items-center","justify-content-around"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-image"],["type","text","pInputText","","placeholder","image link",3,"ngModel","keyup"],[1,"pi","pi-link"],["type","text","pInputText","","placeholder","product link",3,"ngModel","ngModelChange"],[1,"col-12","lg:col-4","py-2","flex","align-items-center","justify-content-center","lg:justify-content-end"],["pButton","","pRipple","","type","button","icon","pi pi-bell",1,"p-button-rounded","p-button-outlined","mx-2",3,"click"],["pButton","","pRipple","","type","submit","icon","pi pi-send",1,"p-button-rounded","mx-2",3,"loading","disabled","click"],["class","p-skeleton p-component ",3,"ngStyle",4,"ngIf"],["width","100","height","140",1,"bitem-round","shadow-2",2,"border-radius","0.5rem","vertical-align","middle",3,"hidden","src","load"],[1,"p-skeleton","p-component",3,"ngStyle"],[1,"flex","border-round","justify-content-center","align-items-center","surface-100",2,"width","100px","height","140px"],[1,"pi","pi-image","text-color-secondary","text-3xl"]],template:function(o,l){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,Ft,3,3,"ng-container",2),t.YNc(3,Jt,2,0,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(5,"div",4)(6,"div",5)(7,"span",6),t._UZ(8,"i",7),t.qZA(),t.TgZ(9,"input",8),t.NdJ("keyup",function(p){return l.keyUp.next(p)}),t.qZA()(),t.TgZ(10,"div",5)(11,"span",6),t._UZ(12,"i",9),t.qZA(),t.TgZ(13,"input",10),t.NdJ("ngModelChange",function(p){return l.checkPricePO.sourceLink=p}),t.qZA()()(),t.TgZ(14,"div",11)(15,"button",12),t.NdJ("click",function(){return l.notifyBuyer()}),t.qZA(),t.TgZ(16,"button",13),t.NdJ("click",function(){return l.sendRequest()}),t.qZA()()()),2&o){const s=t.MAs(4);t.xp6(2),t.Q6J("ngIf",l.checkPricePO.imageLink)("ngIfElse",s),t.xp6(7),t.Q6J("ngModel",l.checkPricePO.imageLink),t.xp6(4),t.Q6J("ngModel",l.checkPricePO.sourceLink),t.xp6(3),t.Q6J("loading",l.sendRequestLoading)("disabled",!l.imageLinkValid||!l.checkPricePO.sourceLink)}},dependencies:[C.O5,C.PC,f.Fj,f.JJ,f.On,b.Hq,F.o]}),r})();var qt=m(4251),G=m(6456);function Ot(r,d){1&r&&t._UZ(0,"app-add-check-price")}function ht(r,d){1&r&&(t.TgZ(0,"div",24)(1,"span",25),t._uU(2,"products Picker"),t.qZA()())}function Et(r,d){}function ft(r,d){1&r&&(t.TgZ(0,"th")(1,"div",12),t._uU(2," Source price "),t._UZ(3,"p-sortIcon",26),t.qZA()())}function Dt(r,d){1&r&&(t.TgZ(0,"th")(1,"div",12),t._uU(2," Dantel Price "),t.qZA()())}function Ut(r,d){1&r&&t._UZ(0,"th",27)}function Yt(r,d){if(1&r&&(t.TgZ(0,"tr")(1,"th")(2,"div",12),t._uU(3," Code "),t._UZ(4,"p-columnFilter",13),t.qZA()(),t.TgZ(5,"th")(6,"div",12),t._uU(7," Image "),t.TgZ(8,"p-columnFilter",14),t.YNc(9,ht,3,0,"ng-template",9),t.YNc(10,Et,0,0,"ng-template",15),t.qZA()()(),t.TgZ(11,"th",16)(12,"div",12),t._uU(13," Date "),t._UZ(14,"p-sortIcon",17)(15,"p-columnFilter",18),t.qZA()(),t.YNc(16,ft,4,0,"th",5),t.TgZ(17,"th",19)(18,"div",12),t._uU(19," Price "),t._UZ(20,"p-sortIcon",20)(21,"p-columnFilter",21),t.qZA()(),t.TgZ(22,"th")(23,"div",12),t._uU(24," Source Link "),t._UZ(25,"p-columnFilter",22),t.qZA()(),t.YNc(26,Dt,3,0,"th",5),t.YNc(27,Ut,1,0,"th",23),t.qZA()),2&r){const o=t.oxw();t.xp6(8),t.Q6J("field","product.id")("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),t.xp6(8),t.Q6J("ngIf",o.commonService.hasManagerRole),t.xp6(10),t.Q6J("ngIf",o.commonService.hasSellerRole),t.xp6(1),t.Q6J("ngIf",o.commonService.hasManagerRole)}}function ot(r,d){if(1&r&&t._UZ(0,"img",38),2&r){const o=t.oxw().$implicit;t.Q6J("ngSrc",o.imageLink)}}function nt(r,d){if(1&r&&(t.TgZ(0,"td")(1,"span",28),t._uU(2,"Source price"),t.qZA(),t._uU(3),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(3),t.hij(" ",o.sourcePrice,"$ ")}}function Qt(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){t.CHM(o);const s=t.oxw().$implicit,p=t.MAs(20),g=t.oxw();return t.KtG(g.save(p,s))}),t.qZA()}}function Rt(r,d){if(1&r){const o=t.EpF();t.ynx(0),t.TgZ(1,"app-product-source",40),t.NdJ("selectedSourceIdChange",function(s){t.CHM(o);const p=t.oxw().$implicit;return t.KtG(p.sourceId=s)}),t.qZA(),t.BQk()}if(2&r){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("selectedSourceId",o.sourceId)("availableSource",o.product.productAdministrativeData)}}function Vt(r,d){if(1&r&&(t._UZ(0,"a",41),t.ALo(1,"linkName")),2&r){const o=t.oxw().$implicit;t.s9C("label",t.lcZ(1,3,o.sourceLink)),t.Q6J("href",o.sourceLink,t.LSH)("title",o.sourceLink)}}function Lt(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"div",30)(1,"div",43)(2,"button",44),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(2),p=s.$implicit,g=s.rowIndex,v=t.oxw();return t.KtG(v.updateDantelPrice(p,g))}),t.qZA(),t.TgZ(3,"input",45,46),t.NdJ("ngModelChange",function(s){t.CHM(o);const p=t.oxw(2).$implicit;return t.KtG(p.product.price=s)}),t.ALo(5,"CurrenciesPipe"),t.qZA(),t.TgZ(6,"span",47),t._uU(7),t.qZA()()()}if(2&r){const o=t.oxw(2),l=o.$implicit,s=o.rowIndex,p=t.oxw();t.xp6(2),t.Q6J("disabled",!l.price)("loading",p.productService.waitingForProducts&&p.selectedIndex===s),t.xp6(1),t.Q6J("disabled",!0)("ngModel",t.xi3(5,5,l.product.price,!1)),t.xp6(4),t.Oqu(p.currencyService.selectedCurrency)}}function Bt(r,d){if(1&r&&(t.TgZ(0,"td")(1,"span",28),t._uU(2,"Dantel Price"),t.qZA(),t.YNc(3,Lt,8,8,"div",42),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",o.product)}}function Ct(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"td")(1,"div",30)(2,"button",48),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(),p=s.$implicit,g=s.rowIndex,v=t.oxw();return t.KtG(v.delete(p,g))}),t.qZA()()()}if(2&r){const o=t.oxw().rowIndex,l=t.oxw();t.xp6(2),t.Q6J("loading",l.deleteIndexLoading===o)}}function jt(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"span",28),t._uU(3,"Code"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"span",28),t._uU(7,"Image"),t.qZA(),t.YNc(8,ot,1,1,"img",29),t.qZA(),t.TgZ(9,"td")(10,"span",28),t._uU(11,"Date"),t.qZA(),t._uU(12),t.qZA(),t.YNc(13,nt,4,1,"td",5),t.TgZ(14,"td")(15,"span",28),t._uU(16,"price"),t.qZA(),t.TgZ(17,"div",30)(18,"div",31)(19,"input",32,33),t.NdJ("ngModelChange",function(s){const g=t.CHM(o).$implicit;return t.KtG(g.price=s)}),t.ALo(21,"CurrenciesPipe"),t.qZA(),t.TgZ(22,"span",34),t._uU(23),t.qZA(),t.YNc(24,Qt,1,0,"button",35),t.qZA()()(),t.TgZ(25,"td")(26,"span",28),t._uU(27,"Source Link"),t.qZA(),t.TgZ(28,"div",30),t.YNc(29,Rt,2,2,"ng-container",36),t.YNc(30,Vt,2,5,"ng-template",null,37,t.W1O),t.qZA()(),t.YNc(32,Bt,4,1,"td",5),t.YNc(33,Ct,3,1,"td",5),t.qZA()}if(2&r){const o=d.$implicit,l=t.MAs(20),s=t.MAs(31),p=t.oxw();t.xp6(4),t.hij(" ",null==o.product?null:o.product.code," "),t.xp6(4),t.Q6J("ngIf",o.imageLink),t.xp6(4),t.hij(" ",o.dateAsString," "),t.xp6(1),t.Q6J("ngIf",p.commonService.hasManagerRole),t.xp6(6),t.Q6J("disabled",!p.commonService.hasBuyerRole)("ngModel",p.commonService.hasBuyerRole?o.price:t.xi3(21,12,o.price,!1)),t.xp6(4),t.Oqu(p.commonService.hasBuyerRole?"$":p.currencyService.selectedCurrency),t.xp6(1),t.Q6J("ngIf",l.touched),t.xp6(5),t.Q6J("ngIf",o.product)("ngIfElse",s),t.xp6(3),t.Q6J("ngIf",p.commonService.hasSellerRole),t.xp6(1),t.Q6J("ngIf",p.commonService.hasManagerRole)}}function zt(r,d){1&r&&(t.TgZ(0,"tr")(1,"td",49),t._uU(2,"No items found."),t.qZA()())}const Gt=function(){return[10,25,50]};let Ht=(()=>{class r{constructor(o,l,s,p,g,v,Z){this.productCashingService=o,this.messageService=l,this.apiService=s,this.firebaseService=p,this.commonService=g,this.productService=v,this.currencyService=Z,this.items=[],this.loading=!0}ngOnInit(){this.firebaseService.getCheckPricesList().subscribe(o=>{this.items=o,this.lazyFetchProductData(0,10),this.loading=!1})}ngOnDestroy(){}lazyFetchProductData(o,l){if(0===this.items.length)return;this.selectedPageItems=this.items.slice(o,o+l).filter(p=>p.productId);let s=this.selectedPageItems.map(p=>p.productId);(0,J.z)(this.productCashingService.preLoadProduct(s)).then(p=>{this.selectedPageItems.forEach(g=>{g.product=p.getObject(g.productId)})})}openProdcut(o){this.productService.selectedProduct=o,this.productService.endSelection(),this.productService.openProductDetailsDialog()}updateDantelPrice(o,l){this.selectedIndex=l,o.product&&this.productService.updateProductPrice(o.product,o.price)}delete(o,l){this.deleteIndexLoading=l,this.firebaseService.removeCheckPriceRequest(o).then(()=>{this.messageService.add({key:"homeToast",severity:"success",summary:"Success",detail:"Check Price Successfuly Remouved"})}).finally(()=>this.deleteIndexLoading=void 0)}save(o,l){let s=pt.convertToPrimitiveObject(l);this.firebaseService.updateCheckPriceRequest(s),l.price=s.price,o.control?.markAsUntouched()}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(z.p),t.Y36(T.ez),t.Y36(E.s),t.Y36(D.O),t.Y36(R.v),t.Y36(I.s),t.Y36(dt.t))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-check-price"]],decls:15,vars:10,consts:[[1,"grid","m-2","lg:m-4"],[1,"col-12"],[1,"text-900","font-bold","text-3xl","mb-3"],[1,"pi","pi-tag","text-3xl","font-bold"],[1,"ml-5","mb-5","font-medium","text-700","text-md"],[4,"ngIf"],[1,"card"],["dataKey","id","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","filterDelay","onPage"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"flex","justify-content-between","align-items-center"],["type","text","field","product.code","display","menu",1,"ml-auto"],["display","menu","matchMode","in",1,"ml-auto",3,"field","showMatchModes","showOperator","showAddButton"],["pTemplate","filter"],["pSortableColumn","date"],["field","date"],["type","date","field","date","display","menu",1,"ml-auto"],["pSortableColumn","price"],["field","price"],["type","numeric","field","price","display","menu","currency","USD",1,"ml-auto"],["type","text","field","sourceLink","display","menu",1,"ml-auto"],["class","w-2rem",4,"ngIf"],[1,"px-3","pt-3","pb-0"],[1,"font-bold"],["field","sourcePrice"],[1,"w-2rem"],[1,"p-column-title"],["alt","no image","width","85","height","120","class","bitem-round shadow-2","style","border-radius: 0.5rem; vertical-align: middle",3,"ngSrc",4,"ngIf"],[1,"flex","justify-content-center","align-items-center"],[1,"p-inputgroup","w-12rem"],["pInputText","","type","text",3,"disabled","ngModel","ngModelChange"],["price","ngModel"],[1,"p-inputgroup-addon","w-2rem"],["pButton","","pRipple","","type","button","icon","pi pi-save",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseStatment",""],["alt","no image","width","85","height","120",1,"bitem-round","shadow-2",2,"border-radius","0.5rem","vertical-align","middle",3,"ngSrc"],["pButton","","pRipple","","type","button","icon","pi pi-save",3,"click"],[3,"selectedSourceId","availableSource","selectedSourceIdChange"],["pButton","","icon","pi pi-external-link","iconPos","right","target","_blank",1,"font-normal","p-button-outlined","p-button-secondary","no-underline",3,"href","label","title"],["class","flex justify-content-center align-items-center",4,"ngIf"],[1,"p-inputgroup"],["type","button","pButton","","title","update","pRipple","","icon","pi pi-file-import","iconPos","right",1,"p-button-outlined",3,"disabled","loading","click"],["pInputText","","type","text",1,"w-8rem",3,"disabled","ngModel","ngModelChange"],["Dantelprice","ngModel"],[1,"p-inputgroup-addon"],["pButton","","pRipple","","title","delete","type","button","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","p-button-text",3,"loading","click"],["colspan","7"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"i",3),t._uU(4," Check Price "),t.qZA(),t.TgZ(5,"p",4),t._uU(6,"Products Source Price Center"),t.qZA(),t.YNc(7,Ot,1,0,"app-add-check-price",5),t.qZA(),t.TgZ(8,"div",1)(9,"div",6)(10,"p-table",7,8),t.NdJ("onPage",function(p){return l.lazyFetchProductData(p.first,p.rows)}),t.YNc(12,Yt,28,7,"ng-template",9),t.YNc(13,jt,34,15,"ng-template",10),t.YNc(14,zt,3,0,"ng-template",11),t.qZA()()()()),2&o&&(t.xp6(7),t.Q6J("ngIf",l.commonService.hasSellerRole),t.xp6(3),t.Q6J("value",l.items)("rowHover",!1)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(9,Gt))("loading",l.loading)("paginator",!0)("filterDelay",0))},dependencies:[C.O5,y.iA,T.jx,y.lQ,y.fz,y.xl,f.Fj,f.JJ,f.On,b.Hq,F.o,C.Zd,j.$,Nt,qt.q,G.F]}),r})();function Kt(r,d){if(1&r){const o=t.EpF();t.ynx(0),t.TgZ(1,"span",19),t.NdJ("click",function(){t.CHM(o);const s=t.oxw().options,p=t.oxw();return s.reset(),t.KtG(p.sourceFilterValue="")}),t.qZA(),t.BQk()}}function vt(r,d){1&r&&t._UZ(0,"span",20)}const $t=function(){return["&","or"]};function Wt(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"div",12)(1,"input",13),t.NdJ("ngModelChange",function(s){t.CHM(o);const p=t.oxw();return t.KtG(p.sourceFilterValue=s)})("keyup",function(){const p=t.CHM(o).options,g=t.oxw();return t.KtG(g.globalSearchFilter(g.sourceFilterValue,g.sourceProducts,p))}),t.qZA(),t.YNc(2,Kt,2,0,"ng-container",14),t.YNc(3,vt,1,0,"ng-template",null,15,t.W1O),t.qZA(),t.TgZ(5,"div",16)(6,"div",17)(7,"p-selectButton",18),t.NdJ("ngModelChange",function(s){t.CHM(o);const p=t.oxw();return t.KtG(p.sourceLogicalOperator=s)})("onChange",function(){const p=t.CHM(o).options,g=t.oxw();return t.KtG(g.statusFilter(g.sourceLogicalOperator,g.sourceRejectedStatus,g.sourceAcceptedStatus,g.sourceProducts,p))}),t.qZA()(),t.TgZ(8,"app-product-status",11),t.NdJ("rejectedProductStatusChange",function(s){t.CHM(o);const p=t.oxw();return t.KtG(p.sourceRejectedStatus=s)})("productStatusChange",function(s){t.CHM(o);const p=t.oxw();return t.KtG(p.sourceAcceptedStatus=s)})("productStatusChange",function(){const p=t.CHM(o).options,g=t.oxw();return t.KtG(g.statusFilter(g.sourceLogicalOperator,g.sourceRejectedStatus,g.sourceAcceptedStatus,g.sourceProducts,p))}),t.qZA()()}if(2&r){const o=t.MAs(4),l=t.oxw();t.xp6(1),t.Q6J("ngModel",l.sourceFilterValue),t.xp6(1),t.Q6J("ngIf",l.sourceFilterValue)("ngIfElse",o),t.xp6(5),t.Q6J("options",t.DdM(9,$t))("ngModel",l.sourceLogicalOperator),t.xp6(1),t.Q6J("triCheck",!0)("readOnly",!1)("rejectedProductStatus",l.sourceRejectedStatus)("productStatus",l.sourceAcceptedStatus)}}function Xt(r,d){if(1&r){const o=t.EpF();t.ynx(0),t.TgZ(1,"span",19),t.NdJ("click",function(){t.CHM(o);const s=t.oxw().options,p=t.oxw();return s.reset(),t.KtG(p.targetFilterValue="")}),t.qZA(),t.BQk()}}function te(r,d){1&r&&t._UZ(0,"span",20)}function ee(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"div",12)(1,"input",13),t.NdJ("ngModelChange",function(s){t.CHM(o);const p=t.oxw();return t.KtG(p.targetFilterValue=s)})("keyup",function(){const p=t.CHM(o).options,g=t.oxw();return t.KtG(g.globalSearchFilter(g.targetFilterValue,g.targetProducts,p))}),t.qZA(),t.YNc(2,Xt,2,0,"ng-container",14),t.YNc(3,te,1,0,"ng-template",null,15,t.W1O),t.qZA()}if(2&r){const o=t.MAs(4),l=t.oxw();t.xp6(1),t.Q6J("ngModel",l.targetFilterValue),t.xp6(1),t.Q6J("ngIf",l.targetFilterValue)("ngIfElse",o)}}function oe(r,d){if(1&r&&(t.TgZ(0,"div",21)(1,"div",22),t._UZ(2,"img",23),t.qZA(),t.TgZ(3,"div",24)(4,"div",25),t._uU(5),t.qZA(),t.TgZ(6,"div",26),t._uU(7),t.qZA(),t.TgZ(8,"div",27),t._UZ(9,"i",28),t._uU(10),t.qZA()(),t.TgZ(11,"div",29),t._UZ(12,"app-product-status",30),t.qZA()()),2&r){const o=d.$implicit;t.xp6(2),t.Q6J("ngSrc",o.otherImages[0].src)("alt",o.name),t.xp6(3),t.Oqu(o.name),t.xp6(2),t.Oqu(o.code),t.xp6(3),t.Oqu(o.category.name),t.xp6(2),t.Q6J("sale",o.sale)("productStatus",o.status)}}const bt=function(){return{height:"30rem"}};let xt=(()=>{class r{constructor(o,l,s){this.productCashingService=o,this.productsService=l,this.messageService=s,this.targetProducts=[],this.sourceLogicalOperator="or",this.rejectedStatus=0,this.acceptedStatus=0,this.loading=!1,this.CheckRejectedStatusFunction=(p,g,v,Z)=>!this.CheckStatusWithOrOperatorFunction(g,v),this.CheckAcceptedAndRejectedStatusFunction=(p,g,v,Z)=>this.CheckAcceptedStatusFunction(p,g,v,Z)&&this.CheckRejectedStatusFunction(p,g,v,Z)}ngOnInit(){this.loading=!0,this.allProducts=[];let o=this.productCashingService.getProductsStream({first:0,rows:this.productCashingService.totalProductRecords}).subscribe({next:l=>this.allProducts.push(l),complete:()=>{this.sourceProducts=[...this.allProducts],this.loading=!1,o.unsubscribe()}})}applyStatus(){0!=this.targetProducts.length&&(this.loading=!0,this.targetProducts.forEach(o=>{o.status|=this.acceptedStatus,o.status&=~this.rejectedStatus}),(0,J.z)(this.productsService.editProductsListWithoutChild(this.targetProducts)).then(()=>{this.messageService.add({key:"homeToast",severity:"success",life:7e3,summary:"Done",detail:this.targetProducts.length+" Products statuses successfuly maintained"}),this.targetProducts=[],this.sourceProducts=[...this.allProducts]}).finally(()=>{this.loading=!1}))}globalSearchFilter(o,l,s){let v=o.toUpperCase().replace(" ","[\\n\\S\\s]+"),Z=new RegExp(v);l.forEach(""==o?A=>A.passByFilter&=-2:A=>{A.searchKey.match(Z)?A.passByFilter&=-2:A.passByFilter|=1}),s.filter&&s.filter("0")}CheckAcceptedStatusFunction(o,l,s,p){return o(l,p)}CheckStatusWithAndOperatorFunction(o,l){return(o&l)==l}CheckStatusWithOrOperatorFunction(o,l){return 0!=(o&l)}statusFilter(o,l,s,p,g){let A,yt;s||l?(A="&"===o?this.CheckStatusWithAndOperatorFunction:this.CheckStatusWithOrOperatorFunction,yt=s&&l?this.CheckAcceptedAndRejectedStatusFunction:s?this.CheckAcceptedStatusFunction:this.CheckRejectedStatusFunction,p.forEach(it=>{yt(A,it.status,l,s)?it.passByFilter&=-3:it.passByFilter|=2})):p.forEach(it=>it.passByFilter&=-3),g.filter&&g.filter("0")}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(z.p),t.Y36(I.s),t.Y36(T.ez))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-product-status-editor"]],decls:16,vars:17,consts:[[1,"page-header"],[1,"page-title"],[1,"pi","pi-pencil","page-title-icon"],["sourceHeader","All Products","targetHeader","Selected Products","targetFilterPlaceholder","Search by name","filterBy","passByFilter",3,"source","sourceStyle","showSourceControls","target","targetStyle","showTargetControls","metaKeySelection","dragdrop","responsive"],["pTemplate","sourceFilter"],["pTemplate","targetFilter"],["pTemplate","item"],[1,"flex","flex-wrap","border-1","border-300","border-round","mt-2"],[1,"surface-100","w-12","font-bold","p-2","flex","justify-content-between","align-items-center"],["label","Apply","icon","pi pi-check","styleClass","p-button-sm",3,"loading","disabled","click"],[1,"flex","justify-content-center","w-12"],[3,"triCheck","readOnly","rejectedProductStatus","productStatus","rejectedProductStatusChange","productStatusChange"],[1,"p-picklist-filter"],["type","text","role","textbox","placeholder","Global Search",1,"p-picklist-filter-input","p-inputtext","p-component",3,"ngModel","ngModelChange","keyup"],[4,"ngIf","ngIfElse"],["searchIcon",""],[1,"flex","status-filter-container","border-1","border-300","border-round","mt-2"],[1,"and-or-button-container","flex","justify-content-center","align-items-center"],[3,"options","ngModel","ngModelChange","onChange"],[1,"p-picklist-filter-icon","pi","pi-times","cursor-pointer",3,"click"],[1,"p-picklist-filter-icon","pi","pi-search"],[1,"product-item"],[1,"image-container"],["height","140","width","100",1,"product-image",3,"ngSrc","alt"],[1,"product-list-detail"],[1,"product-name"],[1,"product-code"],[1,"product-category"],[1,"pi","pi-tag","product-category-icon"],[1,"product-list-action"],[3,"sale","productStatus"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span"),t._UZ(3,"i",2),t._uU(4," Statuses Editor "),t.qZA()()(),t.TgZ(5,"p-pickList",3),t.YNc(6,Wt,9,10,"ng-template",4),t.YNc(7,ee,5,3,"ng-template",5),t.YNc(8,oe,13,7,"ng-template",6),t.qZA(),t.TgZ(9,"div",7)(10,"div",8)(11,"span"),t._uU(12," Statuses Controls "),t.qZA(),t.TgZ(13,"p-button",9),t.NdJ("click",function(){return l.applyStatus()}),t.qZA()(),t.TgZ(14,"div",10)(15,"app-product-status",11),t.NdJ("rejectedProductStatusChange",function(p){return l.rejectedStatus=p})("productStatusChange",function(p){return l.acceptedStatus=p}),t.qZA()()()),2&o&&(t.xp6(5),t.Q6J("source",l.sourceProducts)("sourceStyle",t.DdM(15,bt))("showSourceControls",!1)("target",l.targetProducts)("targetStyle",t.DdM(16,bt))("showTargetControls",!1)("metaKeySelection",!1)("dragdrop",!1)("responsive",!0),t.xp6(8),t.Q6J("loading",l.loading)("disabled",0==l.targetProducts.length||0==l.acceptedStatus&&0==l.rejectedStatus),t.xp6(2),t.Q6J("triCheck",!0)("readOnly",!1)("rejectedProductStatus",l.rejectedStatus)("productStatus",l.acceptedStatus))},dependencies:[C.O5,T.jx,f.Fj,f.JJ,f.On,b.zx,C.Zd,et.a,X.G,w.UN],styles:[".product-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;width:100%}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;margin-right:1rem}.product-item[_ngcontent-%COMP%]   .product-list-detail[_ngcontent-%COMP%]{flex:1 1 0}.product-item[_ngcontent-%COMP%]   .product-list-action[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.product-item[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{vertical-align:middle;line-height:2;font-weight:600}.product-item[_ngcontent-%COMP%]   .product-code[_ngcontent-%COMP%]{vertical-align:middle;line-height:2;color:var(--surface-500)}.product-item[_ngcontent-%COMP%]   .product-category[_ngcontent-%COMP%]{vertical-align:middle;font-size:small;line-height:1}.product-item[_ngcontent-%COMP%]   .product-category-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:.5rem;font-size:small}.and-or-button-container[_ngcontent-%COMP%]{width:10rem;background-color:var(--surface-100)}@media screen and (max-width: 576px){.and-or-button-container[_ngcontent-%COMP%]{width:100%;padding:.5rem}.status-filter-container[_ngcontent-%COMP%], .product-item[_ngcontent-%COMP%]{flex-wrap:wrap}.product-list-action[_ngcontent-%COMP%]{width:min-content}}.p-picklist-filter[_ngcontent-%COMP%]{position:relative}.p-picklist-filter-icon[_ngcontent-%COMP%]{position:absolute;top:50%;margin-top:-.5rem}.p-picklist-filter-input[_ngcontent-%COMP%]{width:100%}.page-header[_ngcontent-%COMP%]{color:#343a40;padding:1.25rem}.page-title[_ngcontent-%COMP%], .page-title[_ngcontent-%COMP%]   .page-title-icon[_ngcontent-%COMP%]{font-weight:700;font-size:x-large;margin:.5rem}"]}),r})();const ne=["dt"];function ie(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"div",12),t._UZ(1,"span",13),t.TgZ(2,"span",14),t._UZ(3,"i",15),t.TgZ(4,"input",16),t.NdJ("ngModelChange",function(s){t.CHM(o);const p=t.oxw();return t.KtG(p.globalSearchValue=s)})("input",function(){t.CHM(o);const s=t.oxw(),p=t.MAs(10);return t.KtG(p.filterGlobal(s.globalSearchValue,"contains"))}),t.qZA()()()}if(2&r){const o=t.oxw();t.xp6(4),t.Q6J("ngModel",o.globalSearchValue)}}function re(r,d){1&r&&(t.TgZ(0,"tr")(1,"th")(2,"div",17),t._uU(3,"Code"),t.qZA()(),t.TgZ(4,"th")(5,"div",17),t._uU(6,"Images"),t.qZA()(),t.TgZ(7,"th")(8,"div",17),t._uU(9,"Name"),t.qZA()(),t.TgZ(10,"th")(11,"div",17),t._uU(12,"Description"),t.qZA()(),t.TgZ(13,"th")(14,"div",17),t._uU(15,"Category"),t.qZA()(),t.TgZ(16,"th")(17,"div",17),t._uU(18,"Status"),t.qZA()(),t.TgZ(19,"th")(20,"div",17),t._uU(21,"Colors"),t.qZA()(),t.TgZ(22,"th")(23,"div",17),t._uU(24,"Sizes"),t.qZA()(),t.TgZ(25,"th")(26,"div",17),t._uU(27,"Price"),t.qZA()(),t.TgZ(28,"th")(29,"div",17),t._uU(30,"Source"),t.qZA()(),t.TgZ(31,"th",18)(32,"div",17),t._uU(33,"Edit"),t.qZA()()())}function le(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"input",33),t.NdJ("ngModelChange",function(s){t.CHM(o);const p=t.oxw().$implicit;return t.KtG(p.code=s)}),t.qZA()}if(2&r){const o=t.oxw().$implicit;t.Q6J("ngModel",o.code)}}function se(r,d){if(1&r&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(o.code)}}function ae(r,d){1&r&&t._UZ(0,"img",34),2&r&&t.Q6J("src",d.$implicit.src,t.LSH)}function ce(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"input",33),t.NdJ("ngModelChange",function(s){t.CHM(o);const p=t.oxw().$implicit;return t.KtG(p.name=s)}),t.qZA()}if(2&r){const o=t.oxw().$implicit;t.Q6J("ngModel",o.name)}}function _e(r,d){if(1&r&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(o.name)}}function pe(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"input",35),t.NdJ("ngModelChange",function(s){t.CHM(o);const p=t.oxw().$implicit;return t.KtG(p.description=s)}),t.qZA()}if(2&r){const o=t.oxw().$implicit;t.Q6J("ngModel",o.description)}}function de(r,d){if(1&r&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(o.description)}}const ue=function(){return{width:"100%"}};function me(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"p-dropdown",36),t.NdJ("ngModelChange",function(s){t.CHM(o);const p=t.oxw().$implicit;return t.KtG(p.category=s)}),t.qZA()}if(2&r){const o=t.oxw().$implicit,l=t.oxw();t.Akn(t.DdM(4,ue)),t.Q6J("options",l.categories)("ngModel",o.category)}}function c(r,d){if(1&r&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(o.category.name)}}function _(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"app-product-status",37),t.NdJ("productStatusChange",function(s){t.CHM(o);const p=t.oxw().$implicit;return t.KtG(p.status=s)}),t.qZA()}if(2&r){const o=t.oxw().$implicit;t.Q6J("readOnly",!1)("productStatus",o.status)}}function n(r,d){if(1&r&&(t.TgZ(0,"div",17),t._UZ(1,"app-product-status",38),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("sale",o.sale)("productStatus",o.status)}}function i(r,d){if(1&r&&t._UZ(0,"app-color",39),2&r){const o=d.$implicit;t.Q6J("smallSize",!0)("productColor",o)}}function a(r,d){if(1&r&&t._UZ(0,"app-size",40),2&r){const o=d.$implicit;t.Q6J("smallSize",!0)("size",o)}}function u(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"div",41)(1,"input",42),t.NdJ("ngModelChange",function(s){t.CHM(o);const p=t.oxw().$implicit;return t.KtG(p.price=s)}),t.qZA(),t.TgZ(2,"span",43),t._uU(3,"$"),t.qZA()()}if(2&r){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",o.price)}}function h(r,d){if(1&r&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"CurrenciesPipe"),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,o.price))}}function q(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){t.CHM(o);const s=t.oxw().$implicit,p=t.oxw();return t.KtG(p.openAddProductScreen(s))}),t.qZA()}}function ve(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(o);const s=t.oxw().$implicit,p=t.oxw();return t.KtG(p.onRowEditSave(s))}),t.qZA()}}function be(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){t.CHM(o);const s=t.oxw().$implicit,p=t.oxw();return t.KtG(p.onRowEditInit(s))}),t.qZA()}if(2&r){const o=t.oxw(2);t.Q6J("disabled",o.editStarted)}}function xe(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"button",47),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(),p=s.$implicit,g=s.rowIndex,v=t.oxw();return t.KtG(v.onRowEditCancel(p,g))}),t.qZA()}}const Te=function(r){return{"bg-primary-50":r}},ye=function(){return{"max-width":"8rem"}};function Pe(r,d){if(1&r&&(t.TgZ(0,"tr",19)(1,"td")(2,"p-cellEditor"),t.YNc(3,le,1,1,"ng-template",20),t.YNc(4,se,2,1,"ng-template",21),t.qZA()(),t.TgZ(5,"td")(6,"div",17)(7,"p-galleria",22),t.YNc(8,ae,1,1,"ng-template",23),t.qZA()()(),t.TgZ(9,"td")(10,"p-cellEditor"),t.YNc(11,ce,1,1,"ng-template",20),t.YNc(12,_e,2,1,"ng-template",21),t.qZA()(),t.TgZ(13,"td")(14,"p-cellEditor"),t.YNc(15,pe,1,1,"ng-template",20),t.YNc(16,de,2,1,"ng-template",21),t.qZA()(),t.TgZ(17,"td")(18,"p-cellEditor"),t.YNc(19,me,1,5,"ng-template",20),t.YNc(20,c,2,1,"ng-template",21),t.qZA()(),t.TgZ(21,"td")(22,"p-cellEditor"),t.YNc(23,_,1,2,"ng-template",20),t.YNc(24,n,2,2,"ng-template",21),t.qZA()(),t.TgZ(25,"td")(26,"div",24),t.YNc(27,i,1,2,"app-color",25),t.qZA()(),t.TgZ(28,"td")(29,"div",24),t.YNc(30,a,1,2,"app-size",26),t.qZA()(),t.TgZ(31,"td")(32,"p-cellEditor"),t.YNc(33,u,4,1,"ng-template",20),t.YNc(34,h,3,3,"ng-template",21),t.qZA()(),t.TgZ(35,"td")(36,"div",17),t._UZ(37,"app-product-source",27),t.qZA()(),t.TgZ(38,"td",28),t.YNc(39,q,1,0,"button",29),t.YNc(40,ve,1,0,"button",30),t.qZA(),t.TgZ(41,"td",28),t.YNc(42,be,1,1,"button",31),t.YNc(43,xe,1,0,"button",32),t.qZA()()),2&r){const o=d.$implicit,l=d.editing;t.Q6J("pEditableRow",o)("ngClass",t.VKq(15,Te,l)),t.xp6(7),t.Q6J("value",o.otherImages)("containerStyle",t.DdM(17,ye))("numVisible",5)("showThumbnails",!1)("showIndicators",!0)("changeItemOnIndicatorHover",!0),t.xp6(20),t.Q6J("ngForOf",o.productColors),t.xp6(3),t.Q6J("ngForOf",o.availableSizes),t.xp6(7),t.Q6J("availableSource",o.productAdministrativeData),t.xp6(2),t.Q6J("ngIf",!l),t.xp6(1),t.Q6J("ngIf",l),t.xp6(2),t.Q6J("ngIf",!l),t.xp6(1),t.Q6J("ngIf",l)}}const Se=function(){return[10,25,50]},Ze=function(){return["searchKey"]};let ge=(()=>{class r{constructor(o,l,s,p,g){this.productCashingService=o,this.activatedRoute=l,this.confirmationService=s,this.productService=p,this.apiService=g,this.products=[],this.categories=[],this.status=[],this.globalSearchValue="",this.editStarted=!1}ngOnInit(){let o=this.activatedRoute.snapshot.paramMap.get("code");o&&(this.globalSearchValue=o),this.dt.filterGlobal(o,"contains"),(0,J.z)(this.apiService.getCategories()).then(l=>this.categories=l)}onRowEditInit(o){this.editStarted=!0,this.clonedProduct=JSON.stringify(o)}openAddProductScreen(o){let l=this.productService.EditInAddProductScreen(o);l&&this.confirmationService.confirm(l)}loadProduct(o){this.loading=!0,this.products=[];let l=this.productCashingService.getProductsStream(o).subscribe({next:s=>this.products.push(s),complete:()=>{l.unsubscribe(),this.loading=!1}})}onRowEditSave(o){(0,J.z)(this.productService.editProductWithoutChild(o)).finally(()=>this.editStarted=!1)}onRowEditCancel(o,l){this.editStarted=!1,this.clonedProduct&&(this.products[l]=JSON.parse(this.clonedProduct)),delete this.clonedProduct}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(z.p),t.Y36(O.gz),t.Y36(T.YP),t.Y36(I.s),t.Y36(E.s))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-maintain-products"]],viewQuery:function(o,l){if(1&o&&t.Gf(ne,5),2&o){let s;t.iGM(s=t.CRH())&&(l.dt=s.first)}},decls:14,vars:10,consts:[[1,"grid","m-2","lg:m-4"],[1,"col-12"],[1,"card"],[1,"text-900","font-bold","text-3xl","mb-3"],[1,"pi","pi-tags","text-3xl","font-bold"],[1,"ml-5","mb-5","font-medium","text-700","text-md"],["key","globalConfirmDialog","appendTo","body","rejectButtonStyleClass","p-button-outlined ","icon","pi pi-question",3,"transitionOptions"],["dataKey","id","editMode","row","responsiveLayout","scroll",3,"value","loading","paginator","lazy","rows","rowsPerPageOptions","globalFilterFields","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-between","align-items-center"],[1,"text-2xl","font-bold"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Global Search",3,"ngModel","ngModelChange","input"],[1,"flex","justify-content-center"],["colspan","2"],[3,"pEditableRow","ngClass"],["pTemplate","input"],["pTemplate","output"],[3,"value","containerStyle","numVisible","showThumbnails","showIndicators","changeItemOnIndicatorHover"],["pTemplate","item"],[1,"w-12","flex","flex-wrap","justify-content-center"],["class","m-1",3,"smallSize","productColor",4,"ngFor","ngForOf"],["class","m-1",3,"smallSize","size",4,"ngFor","ngForOf"],[3,"availableSource"],[2,"text-align","center"],["pButton","","pRipple","","type","button","icon","pi pi-file-edit","class","p-button-rounded p-button-text",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","class","p-button-rounded p-button-sm m-1",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","class","p-button-rounded p-button-text",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","class","p-button-rounded p-button-sm m-1 p-button-outlined",3,"click",4,"ngIf"],["pInputText","","type","text","required","",3,"ngModel","ngModelChange"],["loading","lazy","fetchpriority","auto",2,"width","100%","display","block","border-radius","0.5rem",3,"src"],["pInputText","","type","text",3,"ngModel","ngModelChange"],["appendTo","body","dataKey","id","optionLabel","name",3,"options","ngModel","ngModelChange"],[3,"readOnly","productStatus","productStatusChange"],[3,"sale","productStatus"],[1,"m-1",3,"smallSize","productColor"],[1,"m-1",3,"smallSize","size"],[1,"p-inputgroup","w-6rem"],["pInputText","","type","text",1,"w-4rem",3,"ngModel","ngModelChange"],[1,"p-inputgroup-addon"],["pButton","","pRipple","","type","button","icon","pi pi-file-edit",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check",1,"p-button-rounded","p-button-sm","m-1",3,"click"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil",1,"p-button-rounded","p-button-text",3,"disabled","click"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-sm","m-1","p-button-outlined",3,"click"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"i",4),t._uU(5," Dantel Products "),t.qZA(),t.TgZ(6,"p",5),t._uU(7,"Products Maintenance Center"),t.qZA(),t._UZ(8,"p-confirmDialog",6),t.TgZ(9,"p-table",7,8),t.NdJ("onLazyLoad",function(p){return l.loadProduct(p)}),t.YNc(11,ie,5,1,"ng-template",9),t.YNc(12,re,34,0,"ng-template",10),t.YNc(13,Pe,44,18,"ng-template",11),t.qZA()()()()),2&o&&(t.xp6(8),t.Q6J("transitionOptions","60ms"),t.xp6(1),t.Q6J("value",l.products)("loading",l.loading)("paginator",!0)("lazy",!0)("rows",10)("rowsPerPageOptions",t.DdM(8,Se))("globalFilterFields",t.DdM(9,Ze)))},dependencies:[C.mk,C.sg,C.O5,y.iA,T.jx,y.YL,y.D$,y.Pv,y.U1,y.wT,f.Fj,f.JJ,f.Q7,f.On,L.Lt,b.Hq,F.o,k.dz,H.Q,j.$,tt.R,et.a,ct.m,G.F]}),r})();var we=m(7697),Me=m(4209);function Ae(r,d){1&r&&t._UZ(0,"div")}function ke(r,d){1&r&&(t.TgZ(0,"small",18),t._uU(1,"code is required."),t.qZA())}function Ie(r,d){1&r&&(t.TgZ(0,"small",20),t._uU(1,"code must contains 6 hexadecimal digit."),t.qZA())}function Fe(r,d){if(1&r&&t.YNc(0,Ie,2,0,"small",19),2&r){t.oxw(2);const o=t.MAs(19);t.Q6J("ngIf",o.errors&&o.errors.SyntaxError)}}function Je(r,d){if(1&r&&(t.TgZ(0,"div",14),t.YNc(1,Ae,1,0,"div",15),t.YNc(2,ke,2,0,"ng-template",null,16,t.W1O),t.YNc(4,Fe,1,1,"ng-template",null,17,t.W1O),t.qZA()),2&r){const o=t.MAs(3),l=t.MAs(5);t.oxw();const s=t.MAs(19);t.xp6(1),t.Q6J("ngIf",s.errors&&s.errors.required)("ngIfThen",o)("ngIfElse",l)}}function Ne(r,d){1&r&&(t.TgZ(0,"small",20),t._uU(1,"name is required."),t.qZA())}function qe(r,d){if(1&r&&(t.TgZ(0,"div",14),t.YNc(1,Ne,2,0,"small",19),t.qZA()),2&r){t.oxw();const o=t.MAs(25);t.xp6(1),t.Q6J("ngIf",o.errors&&o.errors.required)}}const Oe=function(r){return{"ng-invalid ng-dirty":r}};function Ee(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"tr")(1,"th")(2,"div",4),t._uU(3,"color"),t.qZA()(),t.TgZ(4,"th")(5,"div",4),t._uU(6,"code"),t.qZA()(),t.TgZ(7,"th")(8,"div",4),t._uU(9,"name"),t.qZA()(),t._UZ(10,"th"),t.qZA(),t.TgZ(11,"tr")(12,"th")(13,"div",5),t._UZ(14,"app-color",6),t.qZA()(),t.TgZ(15,"th")(16,"div",4)(17,"div",7)(18,"p-inputMask",8,9),t.NdJ("ngModelChange",function(s){t.CHM(o);const p=t.oxw();return t.KtG(p.entredCode=s)})("onComplete",function(){t.CHM(o);const s=t.oxw(),p=t.MAs(1);return s.onComplete(),t.KtG(p.filter(s.newColor.code,"code","similarColors"))})("onInput",function(){t.CHM(o);const s=t.oxw(),p=t.MAs(1);return t.KtG(s.maskCompleted&&s.onChange()&&p.filter("","code","similarColors"))}),t.qZA(),t.YNc(20,Je,6,3,"div",10),t.qZA()()(),t.TgZ(21,"th")(22,"div",4)(23,"div",7)(24,"input",11,12),t.NdJ("input",function(){t.CHM(o);const s=t.oxw(),p=t.MAs(1);return t.KtG(p.filter(s.newColor.name,"name","contains"))})("ngModelChange",function(s){t.CHM(o);const p=t.oxw();return t.KtG(p.newColor.name=s)}),t.qZA(),t.YNc(26,qe,2,1,"div",10),t.qZA()()(),t.TgZ(27,"th")(28,"p-button",13),t.NdJ("click",function(){t.CHM(o);const s=t.MAs(19),p=t.MAs(25),g=t.oxw(),v=t.MAs(1);return t.KtG(g.addColor(s,p,v))}),t.qZA()()()}if(2&r){const o=t.MAs(19),l=t.MAs(25),s=t.oxw();t.xp6(14),t.Q6J("color",s.newColor),t.xp6(4),t.Q6J("ngModel",s.entredCode)("required",!0),t.xp6(2),t.Q6J("ngIf",o.dirty||o.touched),t.xp6(4),t.Q6J("ngClass",t.VKq(8,Oe,l.invalid&&(l.dirty||l.touched)))("ngModel",s.newColor.name),t.xp6(2),t.Q6J("ngIf",l.dirty||l.touched),t.xp6(2),t.Q6J("loading",s.loading)}}function De(r,d){if(1&r&&(t.TgZ(0,"tr")(1,"td")(2,"div",5),t._UZ(3,"app-color",6),t.qZA()(),t.TgZ(4,"td")(5,"div",4),t._uU(6),t.qZA()(),t.TgZ(7,"td")(8,"div",4),t._uU(9),t.qZA()(),t._UZ(10,"td"),t.qZA()),2&r){const o=d.$implicit;t.xp6(3),t.Q6J("color",o),t.xp6(3),t.Oqu(o.code),t.xp6(3),t.Oqu(o.name)}}let Ue=(()=>{class r{constructor(o,l,s,p){this.apiService=o,this.productsService=l,this.globalService=s,this.filterService=p,this.newColor=new we.I,this.loading=!1,this.maskCompleted=!1}ngOnInit(){this.productsService.getAvailableColors().then(o=>this.colors=o),this.filterService.register("similarColors",(o,l)=>null==l||""===l.trim()||null!=o&&this.globalService.isColorsSimilar(o,l))}addColor(o,l,s){o.control?.markAsTouched(),l.control?.markAsTouched(),!o.invalid&&!l.invalid&&(this.newColor.id=-1,this.loading=!0,this.apiService.editColor(this.newColor).subscribe(p=>{p&&(this.colors.unshift(p),this.newColor.code="",this.newColor.name="",this.entredCode="",o.control?.reset(),l.control?.reset(),s.filter("","name","contains"),s.filter("","code","similarColors")),this.loading=!1}))}onChange(){return this.maskCompleted=!1,this.newColor.code="",!0}onComplete(){this.maskCompleted=!0,this.entredCode=this.entredCode.toUpperCase(),this.newColor.code=this.entredCode}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(E.s),t.Y36(I.s),t.Y36(Me.U),t.Y36(T.iZ))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-maintain-colors"]],decls:4,vars:3,consts:[["dataKey","id","responsiveLayout","scroll",3,"value","rows","paginator"],["dt_color",""],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-center"],[1,"w-12","flex","flex-wrap","justify-content-center"],[1,"m-1",3,"color"],[1,"field"],["slotChar"," ","placeholder","#000000","mask","#******","characterPattern","[0-9a-fA-F]",3,"ngModel","required","ngModelChange","onComplete","onInput"],["code","ngModel"],["class","block font-light",4,"ngIf"],["pInputText","","type","text","required","",1,"p-column-filter",3,"ngClass","ngModel","input","ngModelChange"],["name","ngModel"],["label","add","icon","pi pi-save","styleClass","p-button-rounded p-button-text ",3,"loading","click"],[1,"block","font-light"],[4,"ngIf","ngIfThen","ngIfElse"],["ifStatement",""],["elseStatement",""],[1,"p-error"],["class","p-error block",4,"ngIf"],[1,"p-error","block"]],template:function(o,l){1&o&&(t.TgZ(0,"p-table",0,1),t.YNc(2,Ee,29,10,"ng-template",2),t.YNc(3,De,11,3,"ng-template",3),t.qZA()),2&o&&t.Q6J("value",l.colors)("rows",10)("paginator",!0)},dependencies:[C.mk,C.O5,y.iA,T.jx,f.Fj,f.JJ,f.Q7,f.On,b.zx,F.o,W.vy,tt.R]}),r})();var M=(()=>{return(r=M||(M={}))[r.CLOTHES_COMPANY=5]="CLOTHES_COMPANY",r[r.SHIPPING_COMPANY=6]="SHIPPING_COMPANY",r[r.DELIVERING_COMPANY=7]="DELIVERING_COMPANY",M;var r})(),Ye=m(3509),he=m(4325);function Qe(r,d){1&r&&t._UZ(0,"img",27)}function Re(r,d){1&r&&t._UZ(0,"img",28)}function Ve(r,d){1&r&&t._UZ(0,"img",29)}const Tt=function(){return{width:"100%"}};let Le=(()=>{class r{constructor(o,l,s){this.ref=o,this.productService=l,this.apiService=s,this.saveLoading=!1,this.CompanyType=M}ngOnInit(){this.companyTypes=[{key:"Clothes Company",value:M.CLOTHES_COMPANY},{key:"Shipping Company",value:M.SHIPPING_COMPANY},{key:"Delivering Company",value:M.DELIVERING_COMPANY}],this.productService.selectedCompany||(this.productService.selectedCompany=new Ye.Y,this.productService.selectedCompany.id=-1,this.productService.selectedCompany.qualityRate=0,this.productService.selectedCompany.valueForMoneyRate=0),this.productService.selectedCompany&&(this.company=this.productService.selectedCompany)}submit(){this.saveLoading=!0,(0,J.z)(this.apiService.editCompany(this.company)).then(o=>{o.id&&o.id>0&&this.ref.close(o)}).finally(()=>this.saveLoading=!1)}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(he.E7),t.Y36(I.s),t.Y36(E.s))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-source-editor"]],decls:41,vars:32,consts:[[1,"grid","overflow-auto",2,"max-height","75vh"],[1,"col-12"],["CompanyForm","ngForm"],[1,"grid"],[1,"col-12","mb-4","flex","justify-content-center"],[1,"border-circle","surface-200","w-6rem","h-6rem","flex","align-items-center","justify-content-center"],[3,"ngSwitch"],["height","60","width","60","ngSrc","assets/images/svg/ship.svg",4,"ngSwitchCase"],["height","60","width","60","ngSrc","assets/images/svg/truck.svg",4,"ngSwitchCase"],["height","60","width","60","ngSrc","assets/images/svg/dress.svg",4,"ngSwitchDefault"],[1,"col-12","lg:col-6"],[1,"field"],["for","name",1,"block"],["id","name","name","name","type","title","pInputText","",3,"required","ngModel","ngModelChange"],["for","webLink",1,"block"],["id","webLink","name","webLink","type","description","pInputText","",3,"required","ngModel","ngModelChange"],[1,"field","w-full"],["for","type",1,"block"],["name","type","appendTo","body","optionLabel","key","optionValue","value","placeholder","Select Company Type",1,"ng-invalid",3,"required","options","ngModel","autoDisplayFirst","filter","ngModelChange"],["for","description",1,"block"],["id","description","name","description","type","description","pInputText","",3,"ngModel","ngModelChange"],[1,"col-12","lg:col-6","flex","my-2"],[1,"mx-2","w-10rem","text-color-secondary","text-sm"],["name","vfm","iconOnClass","pi pi-star-fill text-primary",3,"cancel","ngModel","ngModelChange"],["name","quality","iconOnClass","pi pi-star-fill text-primary",3,"cancel","ngModel","ngModelChange"],[1,"col-12","flex","justify-content-end"],["pButton","","type","button","icon","pi pi-save",3,"disabled","loading","label","click"],["height","60","width","60","ngSrc","assets/images/svg/ship.svg"],["height","60","width","60","ngSrc","assets/images/svg/truck.svg"],["height","60","width","60","ngSrc","assets/images/svg/dress.svg"]],template:function(o,l){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",null,2)(4,"div",3)(5,"div",4)(6,"div",5),t.ynx(7,6),t.YNc(8,Qe,1,0,"img",7),t.YNc(9,Re,1,0,"img",8),t.YNc(10,Ve,1,0,"img",9),t.BQk(),t.qZA()(),t.TgZ(11,"div",10)(12,"div",11)(13,"label",12),t._uU(14,"Name"),t.qZA(),t.TgZ(15,"input",13),t.NdJ("ngModelChange",function(p){return l.company.name=p}),t.qZA()()(),t.TgZ(16,"div",10)(17,"div",11)(18,"label",14),t._uU(19,"WebLink"),t.qZA(),t.TgZ(20,"input",15),t.NdJ("ngModelChange",function(p){return l.company.webLink=p}),t.qZA()()(),t.TgZ(21,"div",10)(22,"div",16)(23,"label",17),t._uU(24,"Company Type"),t.qZA(),t.TgZ(25,"p-dropdown",18),t.NdJ("ngModelChange",function(p){return l.company.companyTypeId=p}),t.qZA()()(),t.TgZ(26,"div",10)(27,"div",11)(28,"label",19),t._uU(29,"Description"),t.qZA(),t.TgZ(30,"input",20),t.NdJ("ngModelChange",function(p){return l.company.description=p}),t.qZA()()(),t.TgZ(31,"div",21)(32,"div",22),t._uU(33,"Value For Money :"),t.qZA(),t.TgZ(34,"p-rating",23),t.NdJ("ngModelChange",function(p){return l.company.valueForMoneyRate=p}),t.qZA()(),t.TgZ(35,"div",21)(36,"div",22),t._uU(37,"Quality :"),t.qZA(),t.TgZ(38,"p-rating",24),t.NdJ("ngModelChange",function(p){return l.company.qualityRate=p}),t.qZA()(),t.TgZ(39,"div",25)(40,"button",26),t.NdJ("click",function(){return l.submit()}),t.qZA()()()()()()),2&o){const s=t.MAs(3);t.xp6(7),t.Q6J("ngSwitch",l.company.companyTypeId),t.xp6(1),t.Q6J("ngSwitchCase",l.CompanyType.SHIPPING_COMPANY),t.xp6(1),t.Q6J("ngSwitchCase",l.CompanyType.DELIVERING_COMPANY),t.xp6(6),t.Akn(t.DdM(28,Tt)),t.Q6J("required",!0)("ngModel",l.company.name),t.xp6(5),t.Akn(t.DdM(29,Tt)),t.Q6J("required",!0)("ngModel",l.company.webLink),t.xp6(5),t.Akn(t.DdM(30,Tt)),t.Q6J("required",!0)("options",l.companyTypes)("ngModel",l.company.companyTypeId)("autoDisplayFirst",!1)("filter",!1),t.xp6(5),t.Akn(t.DdM(31,Tt)),t.Q6J("ngModel",l.company.description),t.xp6(4),t.Q6J("cancel",!1)("ngModel",l.company.valueForMoneyRate),t.xp6(4),t.Q6J("cancel",!1)("ngModel",l.company.qualityRate),t.xp6(2),t.s9C("label",-1===l.company.id?"Add":"Edit"),t.Q6J("disabled",!s.valid)("loading",l.saveLoading)}},dependencies:[C.RF,C.n9,C.ED,f._Y,f.Fj,f.JJ,f.JL,f.Q7,f.On,f.F,L.Lt,b.Hq,F.o,C.Zd,x.iG]}),r})();var fe=m(1235);const Be=["dv"];function je(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"div",13)(1,"button",14),t.NdJ("click",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.showDialog())}),t.qZA(),t.TgZ(2,"span",15),t._UZ(3,"i",16),t.TgZ(4,"input",17),t.NdJ("input",function(s){t.CHM(o),t.oxw();const p=t.MAs(12);return t.KtG(p.filter(s.target.value))}),t.qZA()()()}}function ze(r,d){1&r&&t._UZ(0,"img",34)}function Ge(r,d){1&r&&t._UZ(0,"img",35)}function He(r,d){1&r&&t._UZ(0,"img",36)}function Ke(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"div",18)(1,"div",19)(2,"div",20),t.ynx(3,21),t.YNc(4,ze,1,0,"img",22),t.YNc(5,Ge,1,0,"img",23),t.YNc(6,He,1,0,"img",24),t.BQk(),t.qZA()(),t.TgZ(7,"div",25)(8,"div",26),t._uU(9),t.qZA(),t.TgZ(10,"div",27),t._uU(11),t.qZA(),t.TgZ(12,"div",28)(13,"div",29),t._uU(14,"Quality :"),t.qZA(),t.TgZ(15,"p-rating",30),t.NdJ("ngModelChange",function(s){const g=t.CHM(o).$implicit;return t.KtG(g.qualityRate=s)}),t.qZA()(),t.TgZ(16,"div",28)(17,"div",29),t._uU(18,"Value For Money :"),t.qZA(),t.TgZ(19,"p-rating",30),t.NdJ("ngModelChange",function(s){const g=t.CHM(o).$implicit;return t.KtG(g.valueForMoneyRate=s)}),t.qZA()()(),t.TgZ(20,"div",31)(21,"button",32),t.NdJ("click",function(){const p=t.CHM(o).$implicit,g=t.oxw();return t.KtG(g.showDialog(p))}),t.qZA(),t._UZ(22,"a",33),t.qZA()()}if(2&r){const o=d.$implicit,l=t.oxw();t.xp6(3),t.Q6J("ngSwitch",o.companyType.id),t.xp6(1),t.Q6J("ngSwitchCase",l.CompanyType.SHIPPING_COMPANY),t.xp6(1),t.Q6J("ngSwitchCase",l.CompanyType.DELIVERING_COMPANY),t.xp6(4),t.hij(" ",o.name," "),t.xp6(2),t.hij(" ",o.companyType.value," "),t.xp6(4),t.Q6J("readonly",!0)("cancel",!1)("ngModel",o.qualityRate),t.xp6(4),t.Q6J("readonly",!0)("cancel",!1)("ngModel",o.valueForMoneyRate),t.xp6(3),t.Q6J("href",o.webLink,t.LSH)}}let $e=(()=>{class r{constructor(o,l,s,p,g,v){this.filterService=o,this.productService=l,this.responsive=s,this.apiService=p,this.dialogService=g,this.messageService=v,this.CompanyType=M,this.largeLayout=!1}ngOnInit(){this.apiService.getCompaniesByOwnerIdAdv().subscribe(o=>this.companies=o),this.responsive.observe(fe.u3.Large).subscribe(o=>{this.largeLayout=o.matches}),this.sortOptions=[{label:"Sort By Quality",value:"qualityRate"},{label:"Sort By Value For Money",value:"valueForMoneyRate"}],this.companyTypes=[{key:"Clothes Company",value:M.CLOTHES_COMPANY},{key:"Shipping Company",value:M.SHIPPING_COMPANY},{key:"Delivering Company",value:M.DELIVERING_COMPANY}]}showDialog(o){let l=null==o,s=-1;o&&(s=this.companies.indexOf(o)),this.productService.selectedCompany=o,this.editorDialogRef=this.dialogService.open(Le,{header:"Source Editor",width:this.largeLayout?"70%":"90%",contentStyle:{overflow:"hidden"},baseZIndex:1e4,maximizable:!0}),this.editorDialogRef.onClose.subscribe(p=>{p&&(l?(this.companies.unshift(p),this.messageService.add({key:"homeToast",severity:"success",summary:"Success",detail:"Adding Company Successfuly Done"})):(s>0&&(this.companies[s]=p),this.messageService.add({key:"homeToast",severity:"success",summary:"Success",detail:"Editing Company Successfuly Done"})))})}filterByCompanyType(o){this.dataView.filterValue=o,this.dataView.value&&this.dataView.value.length&&(this.dataView.filteredValue=this.dataView.filterService.filter(this.dataView.value,["companyTypeId"],o,"contains",this.dataView.filterLocale),this.dataView.filteredValue.length===this.dataView.value.length&&(this.dataView.filteredValue=[]),this.dataView.paginator&&(this.dataView.first=0,this.dataView.totalRecords=this.dataView.filteredValue?this.dataView.filteredValue.length:this.dataView.value?this.dataView.value.length:0),this.dataView.cd.markForCheck())}ngOnDestroy(){this.editorDialogRef&&this.editorDialogRef.close()}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(T.iZ),t.Y36(I.s),t.Y36(fe.Yg),t.Y36(E.s),t.Y36(he.xA),t.Y36(T.ez))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-all-sources"]],viewQuery:function(o,l){if(1&o&&t.Gf(Be,5),2&o){let s;t.iGM(s=t.CRH())&&(l.dataView=s.first)}},decls:15,vars:11,consts:[[1,"grid","m-2","lg:m-4"],[1,"col-12"],[1,"text-900","font-bold","text-3xl","mb-3"],[1,"pi","pi-link","text-3xl","font-bold"],[1,"ml-5","mb-5","font-medium","text-700","text-md"],[1,"flex","justify-content-center","align-items-center","flex-column","lg:flex-row","b-4"],["name","type","styleClass","w-16rem m-2","appendTo","body","optionLabel","key","optionValue","value","placeholder","Filter By Company Type",1,"ng-invalid",3,"required","options","autoDisplayFirst","filter","onChange"],["placeholder","Sort By Rate","styleClass","w-16rem m-2",3,"options","ngModel","ngModelChange"],[1,"card"],["filterBy","name",3,"sortField","sortOrder","value","paginator","rows"],["dv",""],["pTemplate","header"],["pTemplate","listItem"],[1,"flex","justify-content-between"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded","p-button-outlined","mx-2",3,"click"],[1,"p-input-icon-left","mb-2","md:mb-0"],[1,"pi","pi-search"],["type","search","pInputText","","placeholder","Search By Name",3,"input"],[1,"grid","my-2","w-12"],[1,"col-12","lg:col-2","flex","align-items-center","justify-content-center"],[1,"border-circle","surface-200","w-6rem","h-6rem","flex","align-items-center","justify-content-center"],[3,"ngSwitch"],["height","60","width","60","ngSrc","assets/images/svg/ship.svg",4,"ngSwitchCase"],["height","60","width","60","ngSrc","assets/images/svg/truck.svg",4,"ngSwitchCase"],["height","60","width","60","ngSrc","assets/images/svg/dress.svg",4,"ngSwitchDefault"],[1,"col-12","lg:col-6","flex","flex-column","align-items-center"],[1,"my-2","font-bold","text-2xl"],[1,"my-2","text-color-secondary","font-semibold"],[1,"my-2","flex"],[1,"mx-2","text-color-secondary","text-sm"],["iconOnClass","pi pi-star-fill text-primary",3,"readonly","cancel","ngModel","ngModelChange"],[1,"col-12","lg:col-4","py-2","flex","align-items-center","justify-content-center","lg:justify-content-end"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-outlined","mx-2",3,"click"],["pButton","","pRipple","","type","submit","icon","pi pi-external-link","target","_blank",1,"p-button-rounded","mx-2",3,"href"],["height","60","width","60","ngSrc","assets/images/svg/ship.svg"],["height","60","width","60","ngSrc","assets/images/svg/truck.svg"],["height","60","width","60","ngSrc","assets/images/svg/dress.svg"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"i",3),t._uU(4," All Sources "),t.qZA(),t.TgZ(5,"p",4),t._uU(6,"All Clothes Companies Sources"),t.qZA(),t.TgZ(7,"div",5)(8,"p-dropdown",6),t.NdJ("onChange",function(p){return l.filterByCompanyType(p.value)}),t.qZA(),t.TgZ(9,"p-dropdown",7),t.NdJ("ngModelChange",function(p){return l.sortField=p}),t.qZA()(),t.TgZ(10,"div",8)(11,"p-dataView",9,10),t.YNc(13,je,5,0,"ng-template",11),t.YNc(14,Ke,23,12,"ng-template",12),t.qZA()()()()),2&o&&(t.xp6(8),t.Q6J("required",!0)("options",l.companyTypes)("autoDisplayFirst",!1)("filter",!1),t.xp6(1),t.Q6J("options",l.sortOptions)("ngModel",l.sortField),t.xp6(2),t.Q6J("sortField",l.sortField)("sortOrder",-1)("value",l.companies)("paginator",!0)("rows",6))},dependencies:[C.RF,C.n9,C.ED,T.jx,f.JJ,f.On,L.Lt,b.Hq,F.o,C.Zd,x.iG,K.VO]}),r})();var We=m(4469),Xe=m(5773),to=m(1236);let eo=(()=>{class r{constructor(o,l){this.productsService=o,this.storageService=l}ngOnDestroy(){this.productsService.saveEditingProgress(),this.productsService.unSelectProduct()}ngOnInit(){let o=this.storageService.editingProduct;o?this.productsService.selectedProduct=o:(this.productsService.selectedProduct=new We.x,this.productsService.selectedProduct.id=-1),this.items=[{label:"General",routerLink:["general"]},{label:"Colors",routerLink:["colors"]},{label:"Images",routerLink:["images"]},{label:"Detail Colors",routerLink:["detailColors"]},{label:"Sizes",routerLink:["sizes"]},{label:"Sources",routerLink:["sources"]},{label:"Confirm",routerLink:["confirm"]}]}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(I.s),t.Y36(Xe.V))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-add-product"]],decls:11,vars:2,consts:[[1,"surface-ground","border-1","border-white","border-round-3xl","py-2",2,"min-height","75vh"],[1,"grid","m-2","lg:m-4"],[1,"col-12"],[1,"card"],[1,"pi","pi-star-fill","text-2xl","font-bold"],[1,"overflow-x-scroll","py-2"],["styleClass","w-full",3,"model","readonly"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),t._UZ(5,"i",4),t._uU(6," New Product "),t.qZA(),t.TgZ(7,"div",5),t._UZ(8,"p-steps",6),t.qZA()()(),t.TgZ(9,"div",2),t._UZ(10,"router-outlet"),t.qZA()()()),2&o&&(t.xp6(8),t.Q6J("model",l.items)("readonly",!1))},dependencies:[to.R,O.lC],styles:["[_nghost-%COMP%]  .p-steps-item{min-width:8rem}"]}),r})();var oo=m(1135),no=m(9878);function io(r,d){1&r&&(t.TgZ(0,"tr")(1,"th")(2,"div",14),t._uU(3," Details "),t.qZA()(),t.TgZ(4,"th")(5,"div",15),t._uU(6,"Code"),t.qZA()(),t.TgZ(7,"th")(8,"div",15),t._uU(9,"Images"),t.qZA()(),t.TgZ(10,"th")(11,"div",15),t._uU(12,"Category"),t.qZA()(),t.TgZ(13,"th")(14,"div",15),t._uU(15,"Check Prices"),t.qZA()(),t.TgZ(16,"th")(17,"div",15),t._uU(18,"Price"),t.qZA()(),t.TgZ(19,"th")(20,"div",15),t._uU(21,"Source"),t.qZA()(),t.TgZ(22,"th")(23,"div",16),t._uU(24,"Rating"),t.qZA()(),t.TgZ(25,"th")(26,"div",15),t._uU(27,"Control"),t.qZA()()())}function ro(r,d){1&r&&t._UZ(0,"img",33),2&r&&t.Q6J("src",d.$implicit.src,t.LSH)}function lo(r,d){if(1&r&&(t.TgZ(0,"div",35)(1,"span",36),t._uU(2),t.ALo(3,"date"),t.qZA(),t._uU(4),t.qZA()),2&r){const o=d.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,2,o.dateAsString,"MM/yyyy"),": "),t.xp6(2),t.hij(" ",o.sourcePrice,"$ ")}}function so(r,d){if(1&r&&(t.ynx(0),t.YNc(1,lo,5,5,"div",34),t.BQk()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",o.checkPrices)}}function ao(r,d){1&r&&(t.TgZ(0,"span",37),t._uU(1," No Check Price "),t.qZA())}function co(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(2),p=s.$implicit,g=s.rowIndex,v=t.oxw();return t.KtG(v.sendCheckPriceRequest(p,g))}),t.qZA()}if(2&r){const o=t.oxw(2).rowIndex,l=t.oxw();t.Q6J("loading",l.sendCheckPriceRequestLoadingIndex===o)}}function po(r,d){if(1&r&&(t.TgZ(0,"div",28),t.YNc(1,co,1,1,"button",38),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",o.id>0)}}const uo=function(){return{"max-width":"10rem"}},mo=function(r){return["/administrative/products/maintain-products/",r]};function _o(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"div",15)(3,"button",17),t.NdJ("click",function(){const p=t.CHM(o).$implicit,g=t.oxw();return t.KtG(g.showProductDetails(p))}),t.qZA()()(),t.TgZ(4,"td")(5,"div",15),t._uU(6),t.qZA()(),t.TgZ(7,"td")(8,"div",15)(9,"p-galleria",18),t.YNc(10,ro,1,1,"ng-template",19),t.qZA()()(),t.TgZ(11,"td")(12,"div",15),t._uU(13),t.qZA()(),t.TgZ(14,"td")(15,"div",20),t.YNc(16,so,2,1,"ng-container",21),t.YNc(17,ao,2,0,"ng-template",null,22,t.W1O),t.qZA()(),t.TgZ(19,"td")(20,"div",15),t._uU(21),t.ALo(22,"CurrenciesPipe"),t.qZA()(),t.TgZ(23,"td")(24,"div",15),t._UZ(25,"app-product-source",23),t.qZA()(),t.TgZ(26,"td")(27,"div",24)(28,"p-rating",25),t.NdJ("ngModelChange",function(s){const g=t.CHM(o).$implicit;return t.KtG(g.rating=s)}),t.qZA()()(),t.TgZ(29,"td")(30,"div",26),t.YNc(31,po,2,1,"div",27),t.TgZ(32,"div",28)(33,"button",29),t.NdJ("click",function(){const p=t.CHM(o).$implicit,g=t.oxw();return t.KtG(g.openAddProductScreen(p))}),t.qZA(),t._UZ(34,"button",30),t.qZA(),t.TgZ(35,"div",28)(36,"button",31),t.NdJ("click",function(){const p=t.CHM(o).$implicit,g=t.oxw();return t.KtG(g.copyInstagramData(p))}),t.qZA(),t.TgZ(37,"button",32),t.NdJ("click",function(){const p=t.CHM(o).$implicit,g=t.oxw();return t.KtG(g.showTranslatedStringDialog(p))}),t.qZA()()()()()}if(2&r){const o=d.$implicit,l=t.MAs(18),s=t.oxw();t.xp6(6),t.Oqu(o.code),t.xp6(3),t.Q6J("value",o.otherImages)("containerStyle",t.DdM(21,uo))("numVisible",5)("showThumbnails",!1)("showIndicators",!0)("changeItemOnIndicatorHover",!0),t.xp6(4),t.Oqu(o.category.name),t.xp6(3),t.Q6J("ngIf",o.checkPrices)("ngIfElse",l),t.xp6(5),t.Oqu(t.lcZ(22,19,o.price)),t.xp6(4),t.Q6J("availableSource",o.productAdministrativeData),t.xp6(3),t.Q6J("cancel",!1)("readonly",!0)("ngModel",o.rating),t.xp6(3),t.Q6J("ngIf",s.commonService.hasSellerRole),t.xp6(3),t.Q6J("routerLink",t.VKq(22,mo,o.code)),t.xp6(2),t.Q6J("loading",s.copyInstagramLoading),t.xp6(1),t.Q6J("loading",s.copyWhatsappLoading)}}const go=function(){return[10,25,50]};let Ce=(()=>{class r{constructor(o,l,s,p,g,v,Z,A){this.productCashingService=o,this.settingsService=l,this.messageService=s,this.firebaseService=p,this.commonService=g,this.confirmationService=v,this.activatedRoute=Z,this.productService=A,this.products=[],this.rows=10,this.initialSearchValue="",this.copyInstagramLoading=!1,this.copyWhatsappLoading=!1,this.translatedStringDialogToggel=!1,this.aTranslatedString="\n\u0627\u0644\u0623\u0644\u0648\u0627\u0646 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629 :",this.filters={},this.checkPriceBehaciorSubject=new oo.X([])}ngOnInit(){let o=this.activatedRoute.snapshot.paramMap.get("code");(0,J.z)(this.firebaseService.getCheckPricesList()).then(l=>{this.checkPriceBehaciorSubject.next(l)}),o&&(this.initialSearchValue=o,this.globalSearch(o))}globalSearch(o){if(""===o)this.filters.global&&delete this.filters.global;else{let l=o.toUpperCase().replace(" ","%");this.filters.global={value:l}}this.loadProduct({first:0,rows:this.rows})}loadProduct(o){this.loading=!0,this.products=[],o.filters=this.filters,o.filterActivated=0!==Object.keys(this.filters).length;let l=this.productCashingService.getProductsStream(o).subscribe({next:s=>{this.products.push(s);let p=this.checkPriceBehaciorSubject.subscribe(g=>{0!==g.length&&(s.checkPrices=g.filter(v=>v.productId===s.id),p.unsubscribe())})},complete:()=>{l.unsubscribe(),this.loading=!1}})}sendCheckPriceRequest(o,l){this.sendCheckPriceRequestLoadingIndex=l;let s=new Q;s.productId=o.id,s.imageLink=o.otherImages[0].src,s.sourceLink=o.productAdministrativeData[0].sourceLink,this.firebaseService.addCheckPriceRequest(s).then(p=>{o.checkPrices||(o.checkPrices=[]),o.checkPrices.unshift(new pt(s))}).finally(()=>this.sendCheckPriceRequestLoadingIndex=void 0)}openAddProductScreen(o){let l=this.productService.EditInAddProductScreen(o);l&&this.confirmationService.confirm(l)}showProductDetails(o){this.productService.selectedProduct=o,this.productService.endSelection(),this.productService.openProductDetailsDialog()}copyInstagramData(o){this.copyInstagramLoading=!0,this.settingsService.copyInstagramData(o).then(()=>{this.messageService.add({key:"homeToast",severity:"success",summary:"Copy Succeeded",detail:o.name+" details Copied To Clipboard"})}).finally(()=>this.copyInstagramLoading=!1)}showTranslatedStringDialog(o){this.translatedStringDialogToggel=!0,this.selectedProduct=o}copyWhatsappData(){this.translatedStringDialogToggel=!1,this.copyWhatsappLoading=!0,this.settingsService.copyWhatsappData(this.selectedProduct,this.aTranslatedString).then(()=>{this.messageService.add({key:"homeToast",severity:"success",summary:"Copy Succeeded",detail:this.selectedProduct.name+" details Copied To Clipboard"})}).finally(()=>this.copyWhatsappLoading=!1)}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(z.p),t.Y36(no.g),t.Y36(T.ez),t.Y36(D.O),t.Y36(R.v),t.Y36(T.YP),t.Y36(O.gz),t.Y36(I.s))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-products-control-center"]],decls:15,vars:15,consts:[[1,"grid","m-2","lg:m-4"],[1,"col-12"],["searchTooltip","Name, Code Or Description","icon","pi pi-sliders-h","header","Dantel Products","subTitle","Products Control Center",3,"initialValue","onSearch"],[1,"card"],["key","globalConfirmDialog","appendTo","body","rejectButtonStyleClass","p-button-outlined ","icon","pi pi-question",3,"transitionOptions"],["dataKey","id","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} products",3,"value","loading","totalRecords","paginator","rows","rowsPerPageOptions","lazy","showCurrentPageReport","rowsChange","onLazyLoad"],["dt",""],["pTemplate","header"],["pTemplate","body"],["header","Arabic Description For whatsapp",3,"visible","visibleChange"],[1,"text-sm","block","my-2","py-4"],["inputId","textarea","dir","rtl","pInputTextarea","",1,"w-full",3,"rows","ngModel","autoResize","ngModelChange"],[1,"flex","justify-content-end"],["pButton","","pRipple","","type","button","label","Copy","icon","pi pi-whatsapp",1,"p-button-sm","mt-4",3,"click"],[1,"flex","justify-content-center","align-items-center"],[1,"flex","justify-content-center"],[1,"w-10rem","flex","justify-content-center"],["pButton","","pRipple","","type","button","icon","pi pi-window-maximize",1,"p-button-text","p-button-secondary",3,"click"],[3,"value","containerStyle","numVisible","showThumbnails","showIndicators","changeItemOnIndicatorHover"],["pTemplate","item"],[1,"flex","flex-wrap","justify-content-center"],[4,"ngIf","ngIfElse"],["emptyCheckPriceTemplate",""],[3,"availableSource"],[1,"w-10rem"],["iconOnClass","pi pi-star-fill text-primary",3,"cancel","readonly","ngModel","ngModelChange"],[1,"flex","flex-column","align-items-center"],["class","flex flex-nowrap w-12 align-items-center justify-content-center",4,"ngIf"],[1,"flex","flex-nowrap","w-12","align-items-center","justify-content-center"],["pButton","","pRipple","","type","button","icon","pi pi-file-edit",1,"p-button-rounded","m-1","p-button-text",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-text","p-button-rounded","m-1","mx-2","p-button-sm",3,"routerLink"],["pButton","","pRipple","","type","button","icon","pi pi-instagram",1,"p-button-text","p-button-info","p-button-rounded","m-1","p-button-secondary",3,"loading","click"],["pButton","","pRipple","","type","button","icon","pi pi-whatsapp",1,"p-button-text","p-button-info","p-button-rounded","m-1","p-button-secondary",3,"loading","click"],["loading","lazy","fetchpriority","auto",2,"width","100%","display","block","border-radius","0.5rem",3,"src"],["class","mx-2",4,"ngFor","ngForOf"],[1,"mx-2"],[1,"text-sm","text-400","font-semibold"],[1,"text-400","font-semibold",2,"font-size","xx-small"],["pButton","","pRipple","","type","button","label","Check Price","icon","pi pi-send","class"," white-space-nowrap  p-button-sm p-button-rounded m-1 p-button-text ",3,"loading","click",4,"ngIf"],["pButton","","pRipple","","type","button","label","Check Price","icon","pi pi-send",1,"white-space-nowrap","p-button-sm","p-button-rounded","m-1","p-button-text",3,"loading","click"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"app-layout-header",2),t.NdJ("onSearch",function(p){return l.globalSearch(p)}),t.qZA()(),t.TgZ(3,"div",1)(4,"div",3),t._UZ(5,"p-confirmDialog",4),t.TgZ(6,"p-table",5,6),t.NdJ("rowsChange",function(p){return l.rows=p})("onLazyLoad",function(p){return l.loadProduct(p)}),t.YNc(8,io,28,0,"ng-template",7),t.YNc(9,_o,38,24,"ng-template",8),t.qZA(),t.TgZ(10,"p-dialog",9),t.NdJ("visibleChange",function(p){return l.translatedStringDialogToggel=p}),t.TgZ(11,"div",10)(12,"textarea",11),t.NdJ("ngModelChange",function(p){return l.aTranslatedString=p}),t.qZA()(),t.TgZ(13,"div",12)(14,"button",13),t.NdJ("click",function(){return l.copyWhatsappData()}),t.qZA()()()()()()),2&o&&(t.xp6(2),t.Q6J("initialValue",l.initialSearchValue),t.xp6(3),t.Q6J("transitionOptions","60ms"),t.xp6(1),t.Q6J("value",l.products)("loading",l.loading)("totalRecords",l.productCashingService.totalProductRecords)("paginator",!0)("rows",l.rows)("rowsPerPageOptions",t.DdM(14,go))("lazy",!0)("showCurrentPageReport",!0),t.xp6(4),t.Q6J("visible",l.translatedStringDialogToggel),t.xp6(2),t.Q6J("rows",2)("ngModel",l.aTranslatedString)("autoResize",!0))},dependencies:[C.sg,C.O5,O.rH,y.iA,T.jx,f.Fj,f.JJ,f.On,b.Hq,k.dz,H.Q,j.$,x.iG,st.n,$.V,lt.g,C.uU,G.F],styles:["[_nghost-%COMP%]     .p-galleria-indicators{overflow:auto;align-items:normal;justify-content:start}[_nghost-%COMP%]     .p-galleria-indicator{margin:auto!important;padding-right:.25rem;padding-left:.25rem}"]}),r})();const ho=[{path:"checkPrice",component:Ht},{path:"ProductStatus",component:xt},{path:"maintain-products",component:ge},{path:"maintain-products/:code",component:ge},{path:"maintain-colors",component:Ue},{path:"allSources",component:$e},{path:"ControlCenter",component:Ce},{path:"ControlCenter/:code",component:Ce},{path:"addProduct",loadChildren:()=>Promise.resolve().then(m.bind(m,4317)).then(r=>r.AddProductModule),component:eo}];let fo=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[O.Bz.forChild(ho),O.Bz]}),r})(),Co=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[C.ez,kt.AddProductModule,fo,y.U$,f.u5,L.kW,b.hJ,F.j,k.kT,B.C,e.q4,W.zz,Zt.y,St.g,Pt.ON,at.u,H.D,S._8,j.$,At.P,tt.R,et.a,ct.m,wt.F,X.f,w.Qy,rt.Iu,Mt.O,x.Xt,K.FI,st.n,$.S,lt.A]}),r})()},9878:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>SettingsService});var B_work_space_Dantel_FrontEnd_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5861),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3905),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4650),_firebase_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1843);let SettingsService=(()=>{class SettingsService{constructor(P){this.firebaseService=P}getInstagramCaption(){return this.instagramCaption?(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.of)(this.instagramCaption):(this.instagramCaptionSubject||(this.instagramCaptionSubject=new rxjs__WEBPACK_IMPORTED_MODULE_2__.x,this.firebaseService.getInstagramCaption().subscribe(P=>{this.instagramCaption=P,this.instagramCaptionSubject&&this.instagramCaptionSubject.next(P),this.instagramCaptionSubject=void 0})),this.instagramCaptionSubject)}getWhatsappCaption(){return this.whatsappCaption?(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.of)(this.whatsappCaption):(this.whatsappCaptionSubject||(this.whatsappCaptionSubject=new rxjs__WEBPACK_IMPORTED_MODULE_2__.x,this.firebaseService.getInstagramCaption().subscribe(P=>{this.whatsappCaption=P,this.whatsappCaptionSubject&&this.whatsappCaptionSubject.next(P),this.whatsappCaptionSubject=void 0})),this.whatsappCaptionSubject)}copyInstagramData(product){var _this=this;return(0,B_work_space_Dantel_FrontEnd_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(){let colorsString="";product.productColors.forEach(P=>colorsString+="#"+P.color.name+" ");let sharedString=yield(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.z)(_this.getInstagramCaption());sharedString=eval("`"+sharedString+"`"),yield navigator.clipboard.writeText(sharedString)})()}copyWhatsappData(product,aTranslatedString){var _this2=this;return(0,B_work_space_Dantel_FrontEnd_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(){let colorsString="";product.productColors.forEach(P=>colorsString+=P.color.name+", "),colorsString=colorsString.slice(0,-1);let sharedString=yield(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.z)(_this2.getWhatsappCaption());sharedString=eval("`"+sharedString+"`"),yield navigator.clipboard.writeText(sharedString)})()}}return SettingsService.\u0275fac=function P(Y){return new(Y||SettingsService)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.LFG(_firebase_service__WEBPACK_IMPORTED_MODULE_0__.O))},SettingsService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Yz7({token:SettingsService,factory:SettingsService.\u0275fac,providedIn:"root"}),SettingsService})()}}]);