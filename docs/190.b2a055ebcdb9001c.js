"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[190],{9190:(tt,m,r)=>{r.r(m),r.d(m,{UserModule:()=>W});var a=r(6895),x=r(433),l=r(4258),u=r(7604),y=r(1405),O=r(9401),g=r(5281),Z=r(3905),T=r(5949),I=r(4243),f=r(1235),t=r(4650),U=r(4325),M=r(690),v=r(6854),b=r(3231),p=r(5593),C=r(7252),A=r(8857),_=r(805),J=r(7434),P=r(3608),Q=r(3395);const D=["scrolledContainer"],k=["currentMenuItem"],h=function(n){return{"p-disabled":n}};function w(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"li",7)(2,"a",8)(3,"span",9),t._UZ(4,"i",10),t.qZA(),t.TgZ(5,"span",11),t._uU(6),t.qZA()()(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngClass",t.VKq(7,h,e.orderStatus.isCommingStatus)),t.xp6(3),t.Gre("pi ",e.icon," m-1"),t.Q6J("ngClass",e.orderStatus.isCommingStatus?"":e.iconColor),t.xp6(1),t.Q6J("ngClass",e.orderStatus.isCommingStatus?"surface-200":e.backgroundColor),t.xp6(1),t.Oqu(e.orderStatus.name)}}function F(n,s){if(1&n&&(t.TgZ(0,"li",12,13)(2,"a",8)(3,"span",9),t._UZ(4,"i"),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(9,h,e.orderStatus.isCommingStatus)),t.xp6(4),t.MT6("pi ",e.icon," m-1 ",e.iconColor,""),t.xp6(1),t.Gre("p-steps-title border-round-lg m-2 p-1 ",e.backgroundColor,""),t.xp6(1),t.Oqu(e.orderStatus.name)}}function L(n,s){if(1&n&&(t.ynx(0),t.YNc(1,w,7,9,"ng-container",5),t.YNc(2,F,7,11,"ng-template",null,6,t.W1O),t.BQk()),2&n){const e=s.$implicit,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",!e.orderStatus.isCurrentStatus)("ngIfElse",o)}}const Y=function(n){return{"p-readonly":n}};let S=(()=>{class n{get model(){return this._model}set model(e){this._model=e;for(let o=0;o<this.model.length;o++)this.orderStatusCSSDataList.push(new Q.E(this.model[o]))}constructor(){this.activeIndorderStatusCSSDataex=0,this.orderStatusCSSDataList=[],this.readonly=!0,this.activeIndexChange=new t.vpe}ngOnInit(){}ngAfterViewInit(){this.scrolledContainer.nativeElement.scrollTo({left:this.currentMenuItem.nativeElement.offsetLeft,behavior:"smooth"})}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-status-log"]],viewQuery:function(e,o){if(1&e&&(t.Gf(D,5),t.Gf(k,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.scrolledContainer=i.first),t.iGM(i=t.CRH())&&(o.currentMenuItem=i.first)}},inputs:{activeIndorderStatusCSSDataex:"activeIndorderStatusCSSDataex",model:"model",readonly:"readonly"},outputs:{activeIndexChange:"activeIndexChange"},standalone:!0,features:[t.jDz],decls:5,vars:4,consts:[[1,"w-11","overflow-x-scroll"],["scrolledContainer",""],[1,"w-12","p-steps",3,"ngClass"],["role","tablist w-12"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["currentStateTemplate",""],["role","tab",1,"p-steps-item",3,"ngClass"],["role","presentation","tabindex","-1",1,"p-menuitem-link"],[1,"p-steps-number","m-2","mx-8"],[3,"ngClass"],[1,"p-steps-title","border-round-lg","m-2","p-1",3,"ngClass"],["role","tab",1,"p-steps-item","p-highlight","p-steps-current",3,"ngClass"],["currentMenuItem",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"ul",3),t.YNc(4,L,4,2,"ng-container",4),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngClass",t.VKq(2,Y,o.readonly)),t.xp6(2),t.Q6J("ngForOf",o.orderStatusCSSDataList))},dependencies:[a.ez,a.mk,a.sg,a.O5,P.z,l.Bz],styles:[".p-steps[_ngcontent-%COMP%]{position:relative}.p-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none;display:flex}.p-steps-item[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;flex:1 1 auto}.p-menuitem-link[_ngcontent-%COMP%]:focus{box-shadow:none!important}.p-steps-item[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;align-items:center;overflow:hidden;text-decoration:none}.p-steps.p-steps-readonly[_ngcontent-%COMP%]   .p-steps-item[_ngcontent-%COMP%]{cursor:auto}.p-steps-item.p-steps-current[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]{cursor:default}.p-steps-title[_ngcontent-%COMP%]{white-space:nowrap}.p-steps-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.p-steps-title[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),n})();function H(n,s){if(1&n&&t._UZ(0,"app-product-selection",14),2&n){const e=s.$implicit;t.Q6J("isDeletable",!1)("productSelection",e.productSelection)}}function B(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t._UZ(2,"app-order-status-log",4),t.qZA(),t.TgZ(3,"div",5)(4,"div",3),t._UZ(5,"i",6),t._uU(6),t.qZA(),t.TgZ(7,"span",7),t._uU(8),t.qZA()(),t.TgZ(9,"div",8),t.YNc(10,H,1,2,"app-product-selection",9),t.qZA(),t.TgZ(11,"div",10)(12,"div"),t._UZ(13,"i",11),t._uU(14),t.qZA(),t._UZ(15,"app-delivery-date-left",12),t.TgZ(16,"button",13),t.NdJ("click",function(){const i=t.CHM(e),c=i.$implicit,d=i.rowIndex,X=t.oxw();return t.KtG(X.receiveOrder(c,d))}),t.qZA()()()}if(2&n){const e=s.$implicit,o=s.rowIndex,i=t.oxw();t.xp6(2),t.Q6J("model",e.orderStatusWorkflow),t.xp6(4),t.AsE(" ",e.orderProducts.length," product",e.orderProducts.length>1?"s":"",""),t.xp6(2),t.AsE("Price:",e.payedPrice,"",e.currency,""),t.xp6(2),t.Q6J("ngForOf",e.orderProducts),t.xp6(4),t.Oqu(e.location.city),t.xp6(1),t.Q6J("date",e.arrivalDate),t.xp6(1),t.Q6J("disabled",e.orderStatusId!=i.receivableId)("loading",i.loadingIndex===o)}}let R=(()=>{class n{constructor(e){this.orderService=e,this.orders=[],this.loadingIndex=void 0,this.receivableId=A.n.OutForDelivery}ngOnInit(){}receiveOrder(e,o){this.loadingIndex=o,this.orderService.RecieveOrderByClient(e).finally(()=>this.loadingIndex=void 0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-comming-order"]],inputs:{orders:"orders"},decls:2,vars:2,consts:[[3,"value","loading"],["pTemplate","listItem"],[1,"col-12","flex","flex-column"],[1,""],[3,"model"],[1,"flex","justify-content-between","m-2"],[1,"pi","pi-tags","m-1"],[1,"text-center"],[1,"flex","align-content-center","justify-content-evenly","h-10rem","flex-nowrap","overflow-x-scroll"],["class","m-4",3,"isDeletable","productSelection",4,"ngFor","ngForOf"],[1,"flex","justify-content-between","my-2"],[1,"pi","pi-map-marker","m-1"],[3,"date"],["pButton","","pRipple","","type","button","icon","pi pi-check-circle","label","Receive",1,"p-button-raised","p-button-sm",3,"disabled","loading","click"],[1,"m-4",3,"isDeletable","productSelection"]],template:function(e,o){1&e&&(t.TgZ(0,"p-dataView",0),t.YNc(1,B,17,10,"ng-template",1),t.qZA()),2&e&&t.Q6J("value",o.orders)("loading",o.orderService.waitingForOrders)},dependencies:[a.sg,u.VO,_.jx,J.p,g.A,p.Hq,S]}),n})();function j(n,s){1&n&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t._UZ(3,"i",8),t._uU(4," Sign In Is Required "),t.qZA(),t.TgZ(5,"p",9),t._uU(6,"Please Sign In To Show Your Dashboard"),t.qZA(),t.TgZ(7,"div",10),t._UZ(8,"button",11)(9,"button",12),t.qZA()()())}const N=function(n){return{"lg:col-6":n}},z=function(n){return{height:n}};function E(n,s){if(1&n&&(t.TgZ(0,"div",13)(1,"div",14)(2,"h2"),t._uU(3,"Comming Orders"),t.qZA(),t.TgZ(4,"div",15),t._UZ(5,"app-comming-order",16),t.qZA()()()),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(3,N,e.nbOfSections>1)),t.xp6(4),t.Q6J("ngStyle",t.VKq(5,z,e.largeLayout?"36.5vw":"auto")),t.xp6(1),t.Q6J("orders",e.orders)}}const q=function(){return{"lg:col-6":!0}};function V(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"h2"),t._uU(3,"Worker Task"),t.qZA(),t.TgZ(4,"app-task-calendar",17),t.NdJ("onTaskClick",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.onTaskClick(i))}),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("ngClass",t.DdM(2,q)),t.xp6(4),t.Q6J("tasks",e.tasks)}}const G=[{path:"",component:(()=>{class n{constructor(e,o,i,c,d){this.responsive=e,this.dialogService=o,this.commonService=i,this.orderService=c,this.teamService=d,this.nbOfSections=0,this.largeLayout=!1}ngOnInit(){this.responsive.observe(f.u3.Large).subscribe(e=>{this.largeLayout=e.matches}),this.subscription=this.commonService.loggedUser.subscribe(e=>{this.user=e,e.id&&(e.userRole!=I.u.client&&(0,Z.z)(this.teamService.getTaskByPersonId(e.id)).then(o=>{o&&(this.tasks=o,o.length>0&&this.nbOfSections++)}),this.orderService.getUserCommingOrders().then(o=>{o&&(this.orders=o,o.length>0&&this.nbOfSections++)}))})}ngOnDestroy(){this.subscription.unsubscribe()}onTaskClick(e){this.teamService.selectedTask=e,this.dialogService.open(T.m,{header:e.title,contentStyle:{overflow:"hidden"},baseZIndex:1e4})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.Yg),t.Y36(U.xA),t.Y36(M.v),t.Y36(v.p),t.Y36(b.U))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-home"]],decls:11,vars:4,consts:[[1,"flex","flex-wrap","justify-content-center"],[1,"grid","m-2","lg:m-4"],["class","col-12",4,"ngIf"],["class","col-12",3,"ngClass",4,"ngIf"],["class","col-12 ",3,"ngClass",4,"ngIf"],[1,"col-12"],[1,"card","text-color-secondary"],[1,"text-900","font-bold","text-xl","lg:text-3xl","ml-2","mb-3","mt-4","lg:mt-6","lg:mt-0"],[1,"pi","pi-sign-in","text-3xl","font-bold"],[1,"ml-5","mb-5","font-medium","text-700","text-md"],[1,"flex","justify-content-center","lg:justify-content-end"],["pButton","","pRipple","","routerLink","/check-out/log-in","label","Sign In","icon","pi pi-sign-in",1,"mx-2","p-button-sm","p-button-secondary","p-button-outlined"],["pButton","","pRipple","","routerLink","/check-out/sign-up/personal","label","Sign Up","icon","pi pi-user-plus",1,"mx-2","p-button-sm"],[1,"col-12",3,"ngClass"],[1,"card"],[1,"overflow-auto",3,"ngStyle"],[1,"",3,"orders"],[3,"tasks","onTaskClick"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Welcome "),t.TgZ(3,"strong"),t._uU(4),t.qZA()(),t.TgZ(5,"h1"),t._uU(6,"On Your Dashboard"),t.qZA()(),t.TgZ(7,"div",1),t.YNc(8,j,10,0,"div",2),t.YNc(9,E,6,7,"div",3),t.YNc(10,V,5,3,"div",4),t.qZA()),2&e&&(t.xp6(4),t.Oqu(o.user.id?o.user.fullName:" Dear Diva "),t.xp6(4),t.Q6J("ngIf",!o.user.id),t.xp6(1),t.Q6J("ngIf",o.orders&&o.orders.length>0),t.xp6(1),t.Q6J("ngIf",o.tasks&&o.tasks.length>0))},dependencies:[a.mk,a.O5,a.PC,l.rH,p.Hq,C.i,R],styles:["h1[_ngcontent-%COMP%]{color:var(--surface-700);font-family:Brush Script MT,cursive}strong[_ngcontent-%COMP%]{font-weight:900;font-size:x-large;color:var(--primary-color);font-family:Brush Script MT,cursive}"]}),n})()}];let K=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.Bz.forChild(G),l.Bz]}),n})();var $=r(4247);let W=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[a.ez,l.Bz,K,u.FI,x.u5,y.U,O.y,g.A,p.hJ,S,$.d,C.i]}),n})()}}]);