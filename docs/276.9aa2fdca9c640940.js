"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[276],{4276:(F,Z,r)=>{r.r(Z),r.d(Z,{FinancialModule:()=>X});var n=r(6895),m=r(4258),t=r(4650);let f=(()=>{class o{constructor(){this.icon="pi-users"}ngOnInit(){null!=this.index&&null!=this.index&&(this.color=o.colors[this.index%3])}}return o.colors=["blue","orange","green","purple"],o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-amount"]],inputs:{color:"color",title:"title",subTitle:"subTitle",icon:"icon",value:"value",index:"index"},standalone:!0,features:[t.jDz],decls:11,vars:17,consts:[[1,"card","p-0","overflow-hidden","flex","flex-column"],[1,"flex","align-items-center","p-3"],[1,"ml-3"],["alt","users",1,"w-full",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"i"),t.TgZ(3,"div",2)(4,"span"),t._uU(5),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()(),t._UZ(10,"img",3),t.qZA()),2&e&&(t.xp6(2),t.MT6("pi ",i.icon," text-7xl text-",i.color,"-500"),t.xp6(2),t.Gre("text-",i.color,"-500 m-1 block text-xl white-space-nowrap"),t.xp6(1),t.Oqu(i.title),t.xp6(1),t.Gre("text-",i.color,"-500 block text-3xl font-bold"),t.xp6(1),t.Oqu(i.value),t.xp6(1),t.Gre("text-",i.color,"-200 block text-md white-space-nowrap"),t.xp6(1),t.hij("",i.subTitle," "),t.xp6(1),t.MGl("src","assets/images/dashboard/",i.color,".svg",t.LSH))},dependencies:[n.ez]}),o})();var T=r(9268),U=r(690),I=r(9337),C=r(8794),x=r(7489),y=r(3905),h=r(805),A=r(2210),M=r(5593),b=r(5047),_=r(433);function w(o,s){if(1&o&&(t.TgZ(0,"div")(1,"div"),t._uU(2),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA()()),2&o){const e=s.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.location),t.xp6(2),t.hij("",e.amount,"$")}}function a(o,s){if(1&o&&(t.TgZ(0,"div")(1,"div"),t._uU(2),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA()()),2&o){const e=s.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.location),t.xp6(2),t.hij("",e.amount,"$")}}const d=function(){return{width:"100%"}};let l=(()=>{class o{constructor(e,i){this.apiService=e,this.messageService=i,this.loading=!1}applyTransfer(){!this.valueToTransfer||this.valueToTransfer>this.sourceAccount.amount?this.messageService.add({key:"homeToast",severity:"error",life:7e3,summary:"",detail:"Insufficient Amount In The Destination Account !"}):(this.loading=!0,(0,y.z)(this.apiService.transferMoney(this.valueToTransfer,this.sourceAccount,this.destinationAccount)).then(e=>{e&&(this.messageService.add({key:"homeToast",severity:"success",life:7e3,summary:"Done",detail:this.valueToTransfer+"$ Successfuly Transfered To"+this.destinationAccount.name+" Account In  "+this.destinationAccount.location}),this.valueToTransfer=0)}).finally(()=>this.loading=!1))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T.s),t.Y36(h.ez))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-money-transfer"]],inputs:{accounts:"accounts"},decls:18,vars:13,consts:[[1,"card"],[1,"pi","pi-arrow-right-arrow-left","text-2xl","font-bold"],[1,"font-bold","text-color-secondary","mt-4"],["optionLabel","name","appendTo","body","autoWidth","false",3,"options","ngModel","autoDisplayFirst","ngModelChange"],["pTemplate","item"],["optionLabel","name","appendTo","body","autoWidth","false",3,"options","ngModel","ngModelChange"],[1,"mt-8"],[1,"p-inputgroup"],["mode","currency","currency","USD","locale","en-US",3,"ngModel","ngModelChange"],["type","button","pButton","","pRipple","","label","Transfer",3,"loading","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._UZ(2,"i",1),t._uU(3," Money Transfer "),t.qZA(),t.TgZ(4,"div",2),t._uU(5," Source "),t.qZA(),t.TgZ(6,"p-dropdown",3),t.NdJ("ngModelChange",function(p){return i.sourceAccount=p}),t.YNc(7,w,7,3,"ng-template",4),t.qZA(),t.TgZ(8,"div",2),t._uU(9," Destination "),t.qZA(),t.TgZ(10,"p-dropdown",5),t.NdJ("ngModelChange",function(p){return i.destinationAccount=p}),t.YNc(11,a,7,3,"ng-template",4),t.qZA(),t.TgZ(12,"div",6)(13,"div",2),t._uU(14," Amount "),t.qZA(),t.TgZ(15,"div",7)(16,"p-inputNumber",8),t.NdJ("ngModelChange",function(p){return i.valueToTransfer=p}),t.qZA(),t.TgZ(17,"button",9),t.NdJ("click",function(){return i.applyTransfer()}),t.qZA()()()()),2&e&&(t.xp6(6),t.Akn(t.DdM(11,d)),t.Q6J("options",i.accounts)("ngModel",i.sourceAccount)("autoDisplayFirst",!1),t.xp6(4),t.Akn(t.DdM(12,d)),t.Q6J("options",i.accounts)("ngModel",i.destinationAccount),t.xp6(6),t.Q6J("ngModel",i.valueToTransfer),t.xp6(1),t.Q6J("loading",i.loading))},dependencies:[h.jx,A.Lt,M.Hq,b.Rn,_.JJ,_.On]}),o})();function u(o,s){if(1&o&&(t.TgZ(0,"div",9),t._UZ(1,"app-amount",10),t.qZA()),2&o){const e=s.$implicit,i=s.index;t.xp6(1),t.Q6J("title",e.name)("index",i)("subTitle",e.location)("value",e.amount)}}function v(o,s){1&o&&(t.ynx(0),t._UZ(1,"p-skeleton",11),t.BQk())}function g(o,s){if(1&o&&t._UZ(0,"p-chart",12),2&o){const e=t.oxw();t.Q6J("data",e.stackedData)("options",e.stackedOptions)}}function S(o,s){if(1&o&&(t.TgZ(0,"div",13),t._UZ(1,"app-money-transfer",14),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("accounts",e.accounts)}}let N=(()=>{class o{constructor(e,i,c){this.apiService=e,this.commonService=i,this.utilsService=c,this.loading=!0}ngOnInit(){this.apiService.getAccountsList().subscribe(e=>{this.accounts=e,this.stackedData={labels:["Accounts"],datasets:[]};let i,c=0;e.forEach(p=>{i=this.utilsService.getColorByColorName(f.colors[c++%3]),this.stackedData.datasets.push({type:"bar",label:p.name,backgroundColor:this.utilsService.transparentize(i,.3),borderColor:i,data:[p.amount],barThickness:80,borderWidth:2,borderRadius:{topLeft:10,bottomRight:10},borderSkipped:!1})}),this.loading=!1}),this.stackedOptions={plugins:{tooltips:{mode:"index",intersect:!1}},scales:{x:{stacked:!1,ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{stacked:!0,ticks:{color:"#495057",callback:e=>e+"$"},grid:{color:"#ebedef"}}}}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T.s),t.Y36(U.v),t.Y36(I.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dantel-accounts"]],decls:10,vars:4,consts:[[1,"grid","m-2","lg:m-4"],[1,"grid","col-12","lg:col-4"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12","lg:col-8"],[1,"card","flex","justify-content-center"],[1,"w-25rem","h-25rem","max-w-screen"],[4,"ngIf","ngIfElse"],["loaded",""],["class","col-12 lg:col-4",4,"ngIf"],[1,"col-12"],["icon","pi-wallet",3,"title","index","subTitle","value"],["width","100%","height","100%"],["type","bar","width","100%","height","100%",3,"data","options"],[1,"col-12","lg:col-4"],[3,"accounts"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,u,2,4,"div",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5),t.YNc(6,v,2,0,"ng-container",6),t.YNc(7,g,1,2,"ng-template",null,7,t.W1O),t.qZA()()(),t.YNc(9,S,2,1,"div",8),t.qZA()),2&e){const c=t.MAs(8);t.xp6(2),t.Q6J("ngForOf",i.accounts),t.xp6(4),t.Q6J("ngIf",i.loading)("ngIfElse",c),t.xp6(3),t.Q6J("ngIf",i.commonService.hasManagerRole)}},dependencies:[n.sg,n.O5,C.C,x.O,f,l]}),o})();var O=r(1765);const Q=["dt"];function Y(o,s){1&o&&(t.TgZ(0,"tr")(1,"th")(2,"div",9),t._uU(3,"In/Out"),t.qZA()(),t.TgZ(4,"th")(5,"div",9),t._uU(6,"Amount"),t.qZA()(),t.TgZ(7,"th")(8,"div",9),t._uU(9,"Source"),t.qZA()(),t.TgZ(10,"th")(11,"div",9),t._uU(12,"Destination"),t.qZA()(),t.TgZ(13,"th")(14,"div",9),t._uU(15,"Transaction Type"),t.qZA()(),t.TgZ(16,"th")(17,"div",9),t._uU(18," Date "),t._UZ(19,"p-columnFilter",10),t.qZA()()())}function R(o,s){if(1&o&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.sourcePerson.fullName," ")}}function k(o,s){if(1&o&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;let i;t.xp6(1),t.hij(" ",null!==(i=e.sourceCompany.name)&&void 0!==i?i:""," ")}}function j(o,s){if(1&o&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.destinationPerson.fullName," ")}}function P(o,s){if(1&o&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;let i;t.xp6(1),t.hij(" ",null!==(i=e.destinationCompany.name)&&void 0!==i?i:""," ")}}const $=function(o,s,e){return{"text-red-500 pi-caret-up":o,"text-green-500 pi-caret-down":s,"text-primary":e}};function L(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"td")(2,"div",9),t._UZ(3,"i",11),t.qZA()(),t.TgZ(4,"td")(5,"div",9),t._uU(6),t.qZA()(),t.TgZ(7,"td"),t.YNc(8,R,2,1,"div",12),t.YNc(9,k,2,1,"div",12),t.qZA(),t.TgZ(10,"td"),t.YNc(11,j,2,1,"div",12),t.YNc(12,P,2,1,"div",12),t.qZA(),t.TgZ(13,"td")(14,"div",9),t._uU(15),t.qZA()(),t.TgZ(16,"td")(17,"div",9),t._uU(18),t.ALo(19,"date"),t.qZA()()()),2&o){const e=s.$implicit;t.xp6(3),t.Q6J("ngClass",t.kEZ(11,$,e.transactionType.isOutcome,e.transactionType.isIncome,!e.transactionType.isOutcome&&!e.transactionType.isIncome)),t.xp6(3),t.hij(" ",e.value,"$ "),t.xp6(2),t.Q6J("ngIf",e.sourcePerson),t.xp6(1),t.Q6J("ngIf",e.sourceCompany),t.xp6(2),t.Q6J("ngIf",e.destinationPerson),t.xp6(1),t.Q6J("ngIf",e.destinationCompany),t.xp6(3),t.hij(" ",e.transactionType.name," "),t.xp6(3),t.hij(" ",t.xi3(19,8,e.entryDate,"dd-MM-yyyy")," ")}}function E(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"td",13),t._uU(2,"Total"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",13),t._uU(6,"Total In"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td",13),t._uU(10,"Total Out"),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.visibleRowsCount),t.xp6(4),t.hij("",e.totalIncome,"$"),t.xp6(4),t.hij("",e.totalOutcome,"$")}}const B=function(){return[10,25,50,100]},G=[{path:"DantelAccounts",component:N},{path:"Transactions",component:(()=>{class o{constructor(e){this.apiService=e,this.loading=!0,this._firstIndex=0,this.pageRowsLength=10,this.totalIncome=0,this.totalOutcome=0,this.visibleRowsCount=10}ngOnInit(){(0,y.z)(this.apiService.getTransactionlogsList()).then(e=>{this.transactions=e}).finally(()=>this.loading=!1)}get firstIndex(){return this._firstIndex}set firstIndex(e){this._firstIndex=e,this.calculateTotals()}calculateTotals(){if(!this.transactions)return;let e,c,p,i=this.pageRowsLength,D=0,J=0;e=this.dt&&this.dt.filteredValue?this.dt.filteredValue:this.transactions,e.length<i+this.firstIndex&&(i=e.length-this.firstIndex),c=this.firstIndex+i;for(var q=this.firstIndex;q<c;q++)p=e[q],p.transactionType.isIncome?D+=p.value:p.transactionType.isOutcome&&(J+=p.value);this.totalIncome=D,this.totalOutcome=J,this.visibleRowsCount=i}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T.s))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-transactions"]],viewQuery:function(e,i){if(1&e&&t.Gf(Q,5),2&e){let c;t.iGM(c=t.CRH())&&(i.dt=c.first)}},decls:11,vars:8,consts:[[1,"grid","m-2","lg:m-4"],[1,"col-12"],[1,"card"],[1,"pi","pi-users","text-2xl","font-bold"],["dataKey","id","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} transactions",3,"value","loading","paginator","rows","first","rowsPerPageOptions","showCurrentPageReport","rowsChange","firstChange","onFilter"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"flex","justify-content-center"],["type","date","field","entryDate","display","menu",1,"ml-auto"],[1,"pi","font-bold","pi-caret-right",3,"ngClass"],["class","flex justify-content-center",4,"ngIf"],[1,"text-right"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._UZ(4,"i",3),t._uU(5," All Transactions "),t.qZA(),t.TgZ(6,"p-table",4,5),t.NdJ("rowsChange",function(p){return i.pageRowsLength=p})("firstChange",function(p){return i.firstIndex=p})("onFilter",function(){return i.calculateTotals()}),t.YNc(8,Y,20,0,"ng-template",6),t.YNc(9,L,20,15,"ng-template",7),t.YNc(10,E,13,3,"ng-template",8),t.qZA()()()()),2&e&&(t.xp6(6),t.Q6J("value",i.transactions)("loading",i.loading)("paginator",!0)("rows",i.pageRowsLength)("first",i.firstIndex)("rowsPerPageOptions",t.DdM(7,B))("showCurrentPageReport",!0))},dependencies:[n.mk,n.O5,h.jx,O.iA,O.xl,n.uU]}),o})()}];let z=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.Bz.forChild(G),m.Bz]}),o})();var H=r(4247),W=r(1740);let X=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[n.ez,m.Bz,z,C.S,x.m,H.d,A.kW,M.hJ,W.j,b.L$,_.u5,O.U$,f]}),o})()},4247:(F,Z,r)=>{r.d(Z,{Z:()=>_,d:()=>w});var n=r(4650),m=r(6895),t=r(805);function f(a,d){1&a&&n.GkF(0)}function T(a,d){if(1&a&&(n.TgZ(0,"div",8),n.Hsn(1,1),n.YNc(2,f,1,0,"ng-container",6),n.qZA()),2&a){const l=n.oxw();n.xp6(2),n.Q6J("ngTemplateOutlet",l.headerTemplate)}}function U(a,d){1&a&&n.GkF(0)}function I(a,d){if(1&a&&(n.TgZ(0,"div",9),n._uU(1),n.YNc(2,U,1,0,"ng-container",6),n.qZA()),2&a){const l=n.oxw();n.xp6(1),n.hij(" ",l.header," "),n.xp6(1),n.Q6J("ngTemplateOutlet",l.titleTemplate)}}function C(a,d){1&a&&n.GkF(0)}function x(a,d){if(1&a&&(n.TgZ(0,"div",10),n._uU(1),n.YNc(2,C,1,0,"ng-container",6),n.qZA()),2&a){const l=n.oxw();n.xp6(1),n.hij(" ",l.subheader," "),n.xp6(1),n.Q6J("ngTemplateOutlet",l.subtitleTemplate)}}function y(a,d){1&a&&n.GkF(0)}function h(a,d){1&a&&n.GkF(0)}function A(a,d){if(1&a&&(n.TgZ(0,"div",11),n.Hsn(1,2),n.YNc(2,h,1,0,"ng-container",6),n.qZA()),2&a){const l=n.oxw();n.xp6(2),n.Q6J("ngTemplateOutlet",l.footerTemplate)}}const M=["*",[["p-header"]],[["p-footer"]]],b=["*","p-header","p-footer"];let _=(()=>{class a{constructor(l){this.el=l}ngAfterContentInit(){this.templates.forEach(l=>{switch(l.getType()){case"header":this.headerTemplate=l.template;break;case"title":this.titleTemplate=l.template;break;case"subtitle":this.subtitleTemplate=l.template;break;case"content":default:this.contentTemplate=l.template;break;case"footer":this.footerTemplate=l.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return a.\u0275fac=function(l){return new(l||a)(n.Y36(n.SBq))},a.\u0275cmp=n.Xpm({type:a,selectors:[["p-card"]],contentQueries:function(l,u,v){if(1&l&&(n.Suo(v,t.h4,5),n.Suo(v,t.$_,5),n.Suo(v,t.jx,4)),2&l){let g;n.iGM(g=n.CRH())&&(u.headerFacet=g.first),n.iGM(g=n.CRH())&&(u.footerFacet=g.first),n.iGM(g=n.CRH())&&(u.templates=g)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:b,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(l,u){1&l&&(n.F$t(M),n.TgZ(0,"div",0),n.YNc(1,T,3,1,"div",1),n.TgZ(2,"div",2),n.YNc(3,I,3,2,"div",3),n.YNc(4,x,3,2,"div",4),n.TgZ(5,"div",5),n.Hsn(6),n.YNc(7,y,1,0,"ng-container",6),n.qZA(),n.YNc(8,A,3,1,"div",7),n.qZA()()),2&l&&(n.Tol(u.styleClass),n.Q6J("ngClass","p-card p-component")("ngStyle",u.style),n.xp6(1),n.Q6J("ngIf",u.headerFacet||u.headerTemplate),n.xp6(2),n.Q6J("ngIf",u.header||u.titleTemplate),n.xp6(1),n.Q6J("ngIf",u.subheader||u.subtitleTemplate),n.xp6(3),n.Q6J("ngTemplateOutlet",u.contentTemplate),n.xp6(1),n.Q6J("ngIf",u.footerFacet||u.footerTemplate))},dependencies:[m.mk,m.O5,m.tP,m.PC],styles:[".p-card-header img{width:100%}\n"],encapsulation:2,changeDetection:0}),a})(),w=(()=>{class a{}return a.\u0275fac=function(l){return new(l||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[m.ez,t.m8]}),a})()}}]);