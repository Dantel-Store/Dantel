"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[99],{2380:(S,N,u)=>{u.r(N),u.d(N,{AddProductModule:()=>gt});var f=u(6895),h=u(433),x=u(4258),P=u(5593),R=u(4247),L=u(2210),j=u(5569),Q=u(3520),k=u(1740),B=u(3054),nt=u(8433),I=u(5722),ot=u(1236),Ct=u(1765),e=u(4650),it=u(3608),V=u(1795),b=u(805),Z=u(9592);function y(l,_){1&l&&e.GkF(0)}function rt(l,_){if(1&l&&(e.ynx(0),e.YNc(1,y,1,0,"ng-container",3),e.BQk()),2&l){const o=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",o.contentTemplate)}}function at(l,_){if(1&l&&(e.TgZ(0,"div",1),e.Hsn(1),e.YNc(2,rt,2,1,"ng-container",2),e.qZA()),2&l){const o=e.oxw();e.Q6J("hidden",!o.selected),e.uIk("id",o.id)("aria-hidden",!o.selected)("aria-labelledby",o.id+"-label"),e.xp6(2),e.Q6J("ngIf",o.contentTemplate&&(o.cache?o.loaded:o.selected))}}const st=["*"],vt=["content"],xt=["navbar"],Y=["prevBtn"],bt=["nextBtn"],Tt=["inkbar"];function yt(l,_){if(1&l){const o=e.EpF();e.TgZ(0,"button",12,13),e.NdJ("click",function(){e.CHM(o);const p=e.oxw();return e.KtG(p.navBackward())}),e._UZ(2,"span",14),e.qZA()}}function J(l,_){if(1&l&&e._UZ(0,"span",24),2&l){const o=e.oxw(3).$implicit;e.Q6J("ngClass",o.leftIcon)}}function w(l,_){if(1&l&&e._UZ(0,"span",25),2&l){const o=e.oxw(3).$implicit;e.Q6J("ngClass",o.rightIcon)}}function E(l,_){if(1&l&&(e.ynx(0),e.YNc(1,J,1,1,"span",21),e.TgZ(2,"span",22),e._uU(3),e.qZA(),e.YNc(4,w,1,1,"span",23),e.BQk()),2&l){const o=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",o.leftIcon),e.xp6(2),e.Oqu(o.header),e.xp6(1),e.Q6J("ngIf",o.rightIcon)}}function ct(l,_){1&l&&e.GkF(0)}function t(l,_){if(1&l){const o=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(p){e.CHM(o);const m=e.oxw(2).$implicit,C=e.oxw();return e.KtG(C.close(p,m))}),e.qZA()}}const T=function(l,_){return{"p-highlight":l,"p-disabled":_}};function q(l,_){if(1&l){const o=e.EpF();e.TgZ(0,"li",16)(1,"a",17),e.NdJ("click",function(p){e.CHM(o);const m=e.oxw().$implicit,C=e.oxw();return e.KtG(C.open(p,m))})("keydown.enter",function(p){e.CHM(o);const m=e.oxw().$implicit,C=e.oxw();return e.KtG(C.open(p,m))}),e.YNc(2,E,5,3,"ng-container",18),e.YNc(3,ct,1,0,"ng-container",19),e.YNc(4,t,1,0,"span",20),e.qZA()()}if(2&l){const o=e.oxw().$implicit;e.Tol(o.headerStyleClass),e.Q6J("ngClass",e.WLB(16,T,o.selected,o.disabled))("ngStyle",o.headerStyle),e.xp6(1),e.Q6J("pTooltip",o.tooltip)("tooltipPosition",o.tooltipPosition)("positionStyle",o.tooltipPositionStyle)("tooltipStyleClass",o.tooltipStyleClass),e.uIk("id",o.id+"-label")("aria-selected",o.selected)("aria-controls",o.id)("aria-selected",o.selected)("tabindex",o.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",!o.headerTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",o.headerTemplate),e.xp6(1),e.Q6J("ngIf",o.closable)}}function G(l,_){1&l&&e.YNc(0,q,5,19,"li",15),2&l&&e.Q6J("ngIf",!_.$implicit.closed)}function lt(l,_){if(1&l){const o=e.EpF();e.TgZ(0,"button",27,28),e.NdJ("click",function(){e.CHM(o);const p=e.oxw();return e.KtG(p.navForward())}),e._UZ(2,"span",29),e.qZA()}}const A=function(l){return{"p-tabview p-component":!0,"p-tabview-scrollable":l}};let St=0,z=(()=>{class l{constructor(o,a,p){this.viewContainer=a,this.cd=p,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+St++,this.tabView=o}ngAfterContentInit(){this.templates.forEach(o=>{"header"===o.getType()?this.headerTemplate=o.template:this.contentTemplate=o.template})}get selected(){return this._selected}set selected(o){this._selected=o,this.loaded||this.cd.detectChanges(),o&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(o){this._disabled=o,this.tabView.cd.markForCheck()}get header(){return this._header}set header(o){this._header=o,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(o){this._leftIcon=o,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(o){this._rightIcon=o,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return l.\u0275fac=function(o){return new(o||l)(e.Y36((0,e.Gpc)(()=>H)),e.Y36(e.s_b),e.Y36(e.sBO))},l.\u0275cmp=e.Xpm({type:l,selectors:[["p-tabPanel"]],contentQueries:function(o,a,p){if(1&o&&e.Suo(p,b.jx,4),2&o){let m;e.iGM(m=e.CRH())&&(a.templates=m)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:st,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(o,a){1&o&&(e.F$t(),e.YNc(0,at,3,5,"div",0)),2&o&&e.Q6J("ngIf",!a.closed)},dependencies:[f.O5,f.tP],encapsulation:2}),l})(),H=(()=>{class l{constructor(o,a){this.el=o,this.cd=a,this.orientation="top",this.onChange=new e.vpe,this.onClose=new e.vpe,this.activeIndexChange=new e.vpe,this.backwardIsDisabled=!0,this.forwardIsDisabled=!1}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(o=>{this.initTabs()})}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe()}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(o,a){if(a.disabled)o&&o.preventDefault();else{if(!a.selected){let p=this.findSelectedTab();p&&(p.selected=!1),this.tabChanged=!0,a.selected=!0;let m=this.findTabIndex(a);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(m),this.onChange.emit({originalEvent:o,index:m}),this.updateScrollBar(m)}o&&o.preventDefault()}}close(o,a){this.controlClose?this.onClose.emit({originalEvent:o,index:this.findTabIndex(a),close:()=>{this.closeTab(a)}}):(this.closeTab(a),this.onClose.emit({originalEvent:o,index:this.findTabIndex(a)})),o.stopPropagation()}closeTab(o){if(!o.disabled){if(o.selected){this.tabChanged=!0,o.selected=!1;for(let a=0;a<this.tabs.length;a++){let p=this.tabs[a];if(!p.closed&&!o.disabled){p.selected=!0;break}}}o.closed=!0}}findSelectedTab(){for(let o=0;o<this.tabs.length;o++)if(this.tabs[o].selected)return this.tabs[o];return null}findTabIndex(o){let a=-1;for(let p=0;p<this.tabs.length;p++)if(this.tabs[p]==o){a=p;break}return a}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(o){this._activeIndex=o,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(o))}updateInkBar(){if(this.navbar){const o=Z.p.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!o)return;this.inkbar.nativeElement.style.width=Z.p.getWidth(o)+"px",this.inkbar.nativeElement.style.left=Z.p.getOffset(o).left-Z.p.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(o){this.navbar.nativeElement.children[o].scrollIntoView({block:"nearest"})}updateButtonState(){const o=this.content.nativeElement,{scrollLeft:a,scrollWidth:p}=o,m=Z.p.getWidth(o);this.backwardIsDisabled=0===a,this.forwardIsDisabled=parseInt(a)===p-m}onScroll(o){this.scrollable&&this.updateButtonState(),o.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((o,a)=>a?o+Z.p.getWidth(a):o,0)}navBackward(){const o=this.content.nativeElement,a=Z.p.getWidth(o)-this.getVisibleButtonWidths(),p=o.scrollLeft-a;o.scrollLeft=p<=0?0:p}navForward(){const o=this.content.nativeElement,a=Z.p.getWidth(o)-this.getVisibleButtonWidths(),p=o.scrollLeft+a,m=o.scrollWidth-a;o.scrollLeft=p>=m?m:p}}return l.\u0275fac=function(o){return new(o||l)(e.Y36(e.SBq),e.Y36(e.sBO))},l.\u0275cmp=e.Xpm({type:l,selectors:[["p-tabView"]],contentQueries:function(o,a,p){if(1&o&&e.Suo(p,z,4),2&o){let m;e.iGM(m=e.CRH())&&(a.tabPanels=m)}},viewQuery:function(o,a){if(1&o&&(e.Gf(vt,5),e.Gf(xt,5),e.Gf(Y,5),e.Gf(bt,5),e.Gf(Tt,5)),2&o){let p;e.iGM(p=e.CRH())&&(a.content=p.first),e.iGM(p=e.CRH())&&(a.navbar=p.first),e.iGM(p=e.CRH())&&(a.prevBtn=p.first),e.iGM(p=e.CRH())&&(a.nextBtn=p.first),e.iGM(p=e.CRH())&&(a.inkbar=p.first)}},hostAttrs:[1,"p-element"],inputs:{orientation:"orientation",style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:st,decls:13,vars:9,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[1,"pi","pi-chevron-left"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""],[1,"pi","pi-chevron-right"]],template:function(o,a){1&o&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,yt,3,0,"button",2),e.TgZ(3,"div",3,4),e.NdJ("scroll",function(m){return a.onScroll(m)}),e.TgZ(5,"ul",5,6),e.YNc(7,G,1,1,"ng-template",7),e._UZ(8,"li",8,9),e.qZA()(),e.YNc(10,lt,3,0,"button",10),e.qZA(),e.TgZ(11,"div",11),e.Hsn(12),e.qZA()()),2&o&&(e.Tol(a.styleClass),e.Q6J("ngClass",e.VKq(7,A,a.scrollable))("ngStyle",a.style),e.xp6(2),e.Q6J("ngIf",a.scrollable&&!a.backwardIsDisabled),e.xp6(5),e.Q6J("ngForOf",a.tabs),e.xp6(3),e.Q6J("ngIf",a.scrollable&&!a.forwardIsDisabled))},dependencies:[f.mk,f.sg,f.O5,f.tP,f.PC,it.u,V.H],styles:[".p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:flex;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}\n"],encapsulation:2,changeDetection:0}),l})(),Pt=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[f.ez,b.m8,it.z,V.T,b.m8]}),l})();var Zt=u(6132),U=u(9268),O=u(5583),wt=u(4209),K=u(6018);function Mt(l,_){if(1&l){const o=e.EpF();e.TgZ(0,"app-color",23),e.NdJ("selectColor",function(){const m=e.CHM(o).$implicit,C=e.oxw();return e.KtG(C.searchForColor(m))}),e.qZA()}if(2&l){const o=_.$implicit;e.Q6J("showColorName",!0)("color",o)}}function At(l,_){if(1&l){const o=e.EpF();e.TgZ(0,"app-color",24),e.NdJ("selectColor",function(){const m=e.CHM(o).$implicit,C=e.oxw();return e.KtG(C.selectColor(m))}),e.qZA()}if(2&l){const o=_.$implicit;e.Q6J("showColorName",!0)("color",o)}}let kt=(()=>{class l{constructor(o,a,p,m,C,tt){this.apiService=o,this.messageService=a,this.router=p,this.productsService=m,this.globalService=C,this.filterService=tt,this.selectedColors=[],this.sorted=!1}ngOnInit(){this.product=this.productsService.selectedProduct,this.productsService.getAvailableColors().then(o=>{this.colors=o,this.filteredColors=[...this.colors],this.product.productColors&&(this.selectedColors=this.product.productColors.map(a=>a.color))})}UnselectAll(){this.selectedColors=[]}sort(){this.sorted=!this.sorted,this.sortedColors||(this.sortedColors=[...this.colors].sort((o,a)=>o.code<a.code?-1:o.code>a.code?1:0)),this.filterColor()}ShowSeleced(){this.colorFilterValue="Clear Filter To Show All",this.filteredColors=this.selectedColors}resetColorFilterValue(){this.colorFilterValue="",this.filterColor()}selectColor(o){let a=this.selectedColors.findIndex(p=>p.id===o.id);a>=0?this.selectedColors.splice(a,1):this.selectedColors.push(o)}searchForColor(o){this.colorFilterValue="Clear Filter To Show All",this.filteredColors=[],this.colors.forEach(a=>{this.globalService.isColorsSimilar(o?.code,a.code)&&this.filteredColors.push(a)})}filterColor(){this.colorFilterValue&&""!==this.colorFilterValue?(this.colorFilterValue=this.colorFilterValue.toUpperCase(),this.filteredColors=[],(this.sorted?this.sortedColors:this.colors).forEach(o=>{o.name.toUpperCase().includes(this.colorFilterValue)&&this.filteredColors.push(o)})):this.filteredColors=this.sorted?[...this.sortedColors]:[...this.colors]}nextPage(){if(this.selectedColors&&this.selectedColors.length>0){let a,o=this.product.productColors;this.product.productColors=[],this.product.productColors=this.selectedColors.map(p=>(a=o.find(m=>m.color.id===p.id),a||(a=new Zt.f,a.id=-1,a.color=p,a))),this.router.navigate(["/administrative/products/addProduct/images"]),this.productsService.saveEditingProgress()}else this.messageService.add({key:"homeToast",severity:"warn",life:7e3,summary:"Missing some field",detail:"please select at least one color"})}prevPage(){this.router.navigate(["/administrative/products/addProduct/general"])}}return l.\u0275fac=function(o){return new(o||l)(e.Y36(U.s),e.Y36(b.ez),e.Y36(x.F0),e.Y36(O.s),e.Y36(wt.U),e.Y36(b.iZ))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-product-colors-form"]],decls:27,vars:6,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"flex","flex-wrap","lg:flex-nowrap"],["styleClass","p-button-raised p-button-secondary my-2 w-max","label","Unselect All","icon","pi pi-stop",3,"disabled","onClick"],[1,"p-inputgroup","my-2","lg:mx-2",3,"click"],[1,"p-inputgroup-addon","w-3rem"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Search For Color",3,"ngModel","ngModelChange","keyup.enter"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","w-3rem",3,"click"],["pButton","",1,"p-button-outlined","w-3rem",3,"icon","click"],["styleClass","p-button-raised p-button-secondary my-2 w-max","label","Show Only Selected","icon","pi pi-check-square",3,"disabled","onClick"],[1,"col-12","lg:col-6","lg:flex-order-4"],[1,"flex","align-content-center","justify-content-evenly","h-8rem","flex-nowrap","overflow-x-scroll","lg:h-30rem","lg:flex-wrap"],["class","m-4",3,"showColorName","color","selectColor",4,"ngFor","ngForOf"],[1,"col-12","lg:col-6","lg:flex-order-3"],[1,"card","p-1","lg:p-4"],[1,"w-12","flex","flex-wrap","justify-content-center","h-30rem","overflow-y-scroll"],["class","m-2 lg:p-4",3,"showColorName","color","selectColor",4,"ngFor","ngForOf"],[1,"col-12","lg:flex-order-5"],[1,"flex","justify-content-between","mx-4"],["styleClass","p-button-raised p-button-text font-medium","label","Back","icon","pi pi-caret-left",3,"onClick"],["styleClass","p-button-raised p-button-text font-medium","label","Next","icon","pi pi-caret-right","iconPos","right",3,"onClick"],[1,"m-4",3,"showColorName","color","selectColor"],[1,"m-2","lg:p-4",3,"showColorName","color","selectColor"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4," Product Colors Data "),e.qZA(),e.TgZ(5,"div",3)(6,"p-button",4),e.NdJ("onClick",function(){return a.UnselectAll()}),e.qZA(),e.TgZ(7,"div",5),e.NdJ("click",function(m){return m.stopPropagation()}),e.TgZ(8,"span",6),e._UZ(9,"i",7),e.qZA(),e.TgZ(10,"input",8),e.NdJ("ngModelChange",function(m){return a.colorFilterValue=m})("keyup.enter",function(){return a.filterColor()}),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return a.resetColorFilterValue()}),e.qZA(),e.TgZ(12,"button",10),e.NdJ("click",function(){return a.sort()}),e.qZA()(),e.TgZ(13,"p-button",11),e.NdJ("onClick",function(){return a.ShowSeleced()}),e.qZA()()()(),e.TgZ(14,"div",12)(15,"div",2)(16,"div",13),e.YNc(17,Mt,1,2,"app-color",14),e.qZA()()(),e.TgZ(18,"div",15)(19,"div",16)(20,"div",17),e.YNc(21,At,1,2,"app-color",18),e.qZA()()(),e.TgZ(22,"div",19)(23,"div",2)(24,"div",20)(25,"p-button",21),e.NdJ("onClick",function(){return a.prevPage()}),e.qZA(),e.TgZ(26,"p-button",22),e.NdJ("onClick",function(){return a.nextPage()}),e.qZA()()()()()),2&o&&(e.xp6(6),e.Q6J("disabled",0==a.selectedColors.length),e.xp6(4),e.Q6J("ngModel",a.colorFilterValue),e.xp6(2),e.MGl("icon","pi ",a.sorted?"pi-sort-alt-slash":"pi-sort-alt",""),e.xp6(1),e.Q6J("disabled",0==a.selectedColors.length),e.xp6(4),e.Q6J("ngForOf",a.selectedColors),e.xp6(4),e.Q6J("ngForOf",a.filteredColors))},dependencies:[f.sg,h.Fj,h.JJ,h.On,P.Hq,P.zx,k.o,K.R]}),l})();var pt=u(4469),$=u(5773),It=u(4297);let Ft=(()=>{class l{constructor(o,a,p,m){this.storageService=o,this.messageService=a,this.router=p,this.productsService=m}ngOnInit(){this.product=this.productsService.selectedProduct}complete(){this.productsService.editProduct(this.product).subscribe(o=>{o&&(this.storageService.editingProduct=void 0,this.productsService.selectedProduct=new pt.x,this.productsService.selectedProduct.id=-1,this.router.navigate(["/administrative/products/addProduct/general"]))})}prevPage(){this.router.navigate(["/administrative/products/addProduct/confirm"])}}return l.\u0275fac=function(o){return new(o||l)(e.Y36($.V),e.Y36(b.ez),e.Y36(x.F0),e.Y36(O.s))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-product-confirmation-form"]],decls:12,vars:2,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"flex","justify-content-center","align-items-center"],[3,"product"],[1,"flex","justify-content-between"],["styleClass","p-button-raised p-button-text font-medium","label","Back","icon","pi pi-caret-left",3,"onClick"],["styleClass","p-button-raised p-button-text font-medium p-button-success","label","Complete","icon","pi pi-check","iconPos","right",3,"disabled","onClick"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4," Product Sources Data "),e.qZA(),e.TgZ(5,"div",3),e._UZ(6,"app-product",4),e.qZA()()(),e.TgZ(7,"div",1)(8,"div",2)(9,"div",5)(10,"p-button",6),e.NdJ("onClick",function(){return a.prevPage()}),e.qZA(),e.TgZ(11,"p-button",7),e.NdJ("onClick",function(){return a.complete()}),e.qZA()()()()()),2&o&&(e.xp6(6),e.Q6J("product",a.product),e.xp6(5),e.Q6J("disabled",a.productsService.waitingForProducts))},dependencies:[P.zx,It.F]}),l})();var Jt=u(8931);function qt(l,_){1&l&&(e.TgZ(0,"small",20),e._uU(1,"Name is required."),e.qZA())}function Ot(l,_){1&l&&(e.TgZ(0,"small",20),e._uU(1,"Description is required."),e.qZA())}function Nt(l,_){1&l&&(e.TgZ(0,"small",20),e._uU(1,"Category is required."),e.qZA())}const W=function(){return{width:"100%"}},X=function(l){return{"ng-dirty":l}};let Et=(()=>{class l{constructor(o,a,p,m){this.messageService=o,this.productService=a,this.apiService=p,this.router=m,this.submitted=!1,this.categories=[],this.status=[]}ngOnInit(){this.apiService.getCategories().subscribe(o=>this.categories=o),this.product=this.productService.selectedProduct}clearData(){let o=new pt.x;o.id=-1,this.productService.selectedProduct=o,this.productService.saveEditingProgress(),this.product=o,this.messageService.add({key:"homeToast",severity:"success",summary:"Success",detail:"Editing Product Successfuly Rest"})}nextPage(){if(this.product.name&&this.product.category&&this.product.description)return this.router.navigate(["/administrative/products/addProduct/colors"]),void this.productService.saveEditingProgress();this.submitted=!0}}return l.\u0275fac=function(o){return new(o||l)(e.Y36(b.ez),e.Y36(O.s),e.Y36(U.s),e.Y36(x.F0))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-product-general-data-form"]],decls:33,vars:32,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"flex","flex-column"],[1,"field","my-4","w-full"],["for","name",1,"font-medium","block"],["id","name","type","text","required","","pInputText","",3,"ngModel","ngClass","ngModelChange"],["name","ngModel"],["class","p-error",4,"ngIf"],["for","description",1,"font-medium","block"],["pInputTextarea","","id","description","required","",3,"rows","ngModel","autoResize","ngClass","ngModelChange"],["description","ngModel"],["for","category",1,"font-medium","block"],["dataKey","id","appendTo","body","optionLabel","name","filterBy","name","placeholder","Select a category",3,"required","options","ngModel","filter","ngClass","showClear","ngModelChange"],["category","ngModel"],["for","status",1,"font-medium","block"],["id","status",3,"readOnly","productStatus","productStatusChange"],[1,"flex","justify-content-between","lg:mx-4"],["styleClass","p-button-raised p-button-text font-medium p-button-danger","label","Clear Data","icon","pi pi-trash",3,"onClick"],["styleClass","p-button-raised p-button-text font-medium","label","Next","icon","pi pi-caret-right","iconPos","right",3,"onClick"],[1,"p-error"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4," Product General Data "),e.qZA(),e.TgZ(5,"div",3)(6,"div",4)(7,"label",5),e._uU(8,"Name"),e.qZA(),e.TgZ(9,"input",6,7),e.NdJ("ngModelChange",function(m){return a.product.name=m}),e.qZA(),e.YNc(11,qt,2,0,"small",8),e.qZA(),e.TgZ(12,"div",4)(13,"label",9),e._uU(14,"Description"),e.qZA(),e.TgZ(15,"textarea",10,11),e.NdJ("ngModelChange",function(m){return a.product.description=m}),e.qZA(),e.YNc(17,Ot,2,0,"small",8),e.qZA(),e.TgZ(18,"div",4)(19,"label",12),e._uU(20,"Category"),e.qZA(),e.TgZ(21,"p-dropdown",13,14),e.NdJ("ngModelChange",function(m){return a.product.category=m}),e.qZA(),e.YNc(23,Nt,2,0,"small",8),e.qZA(),e.TgZ(24,"div",4)(25,"label",15),e._uU(26,"Status"),e.qZA(),e.TgZ(27,"app-product-status",16),e.NdJ("productStatusChange",function(m){return a.product.status=m}),e.qZA()()()()(),e.TgZ(28,"div",1)(29,"div",2)(30,"div",17)(31,"p-button",18),e.NdJ("onClick",function(){return a.clearData()}),e.qZA(),e.TgZ(32,"p-button",19),e.NdJ("onClick",function(){return a.nextPage()}),e.qZA()()()()()),2&o){const p=e.MAs(10),m=e.MAs(16),C=e.MAs(22);e.xp6(9),e.Akn(e.DdM(23,W)),e.Q6J("ngModel",a.product.name)("ngClass",e.VKq(24,X,p.invalid&&a.submitted||p.dirty&&p.invalid)),e.xp6(2),e.Q6J("ngIf",p.invalid&&a.submitted||p.dirty&&p.invalid),e.xp6(4),e.Akn(e.DdM(26,W)),e.Q6J("rows",2)("ngModel",a.product.description)("autoResize",!0)("ngClass",e.VKq(27,X,m.invalid&&a.submitted||m.dirty&&m.invalid)),e.xp6(2),e.Q6J("ngIf",m.invalid&&a.submitted||m.dirty&&m.invalid),e.xp6(4),e.Akn(e.DdM(29,W)),e.Q6J("required",!0)("options",a.categories)("ngModel",a.product.category)("filter",!0)("ngClass",e.VKq(30,X,C.invalid&&a.submitted||C.dirty&&C.invalid))("showClear",!0),e.xp6(2),e.Q6J("ngIf",C.invalid&&a.submitted||C.dirty&&C.invalid),e.xp6(4),e.Q6J("readOnly",!1)("productStatus",a.product.status)}},dependencies:[f.mk,f.O5,h.Fj,h.JJ,h.Q7,h.On,L.Lt,P.zx,k.o,Jt.a,B.g]}),l})();var Ut=u(9338);function Qt(l,_){if(1&l&&(e.TgZ(0,"div",11),e._UZ(1,"app-color",12),e.TgZ(2,"span",13),e._uU(3),e.qZA()()),2&l){const o=e.oxw().$implicit;e.xp6(1),e.Q6J("color",o.color),e.xp6(2),e.hij(" ",o.color.name," ")}}function Yt(l,_){if(1&l&&e._UZ(0,"img",34),2&l){const o=e.oxw().$implicit;e.Q6J("src",o.src,e.LSH)}}function Dt(l,_){1&l&&e.YNc(0,Yt,1,1,"img",33),2&l&&e.Q6J("ngIf",_.$implicit)}const dt=function(){return{width:"100%"}};function Rt(l,_){if(1&l){const o=e.EpF();e.TgZ(0,"div",35)(1,"span",36)(2,"input",37),e.NdJ("ngModelChange",function(p){const C=e.CHM(o).$implicit;return e.KtG(C.src=p)})("click",function(){const m=e.CHM(o).index,C=e.oxw(3);return e.KtG(C.selectImage(m))}),e.qZA(),e.TgZ(3,"label",23),e._uU(4),e.qZA()(),e.TgZ(5,"p-button",38),e.NdJ("click",function(){const m=e.CHM(o).index,C=e.oxw(2).$implicit,tt=e.oxw();return e.KtG(tt.delete(m,C))}),e.qZA()()}if(2&l){const o=_.$implicit,a=_.index;e.xp6(2),e.Akn(e.DdM(4,dt)),e.Q6J("ngModel",o.src),e.xp6(2),e.hij("SRC",a,"")}}function Lt(l,_){if(1&l){const o=e.EpF();e.TgZ(0,"div",14)(1,"div",15)(2,"p-galleria",16),e.NdJ("activeIndexChange",function(p){e.CHM(o);const m=e.oxw(2);return e.KtG(m.activeIndex=p)}),e.YNc(3,Dt,1,1,"ng-template",17),e.qZA()(),e.TgZ(4,"div",18)(5,"div",19)(6,"p-button",20),e.NdJ("click",function(){e.CHM(o);const p=e.oxw().$implicit,m=e.oxw();return e.KtG(m.past(p))}),e.qZA(),e.TgZ(7,"span",21)(8,"input",22),e.NdJ("ngModelChange",function(p){e.CHM(o);const m=e.oxw(2);return e.KtG(m.src=p)})("keyup.enter",function(){e.CHM(o);const p=e.oxw().$implicit,m=e.oxw();return e.KtG(m.addImage(p))}),e.qZA(),e.TgZ(9,"label",23),e._uU(10,"SRC"),e.qZA()()(),e.TgZ(11,"div",24),e.YNc(12,Rt,6,5,"div",25),e.qZA()(),e.TgZ(13,"div",26)(14,"div",27)(15,"h2",28),e._uU(16," Color Image: "),e.qZA()(),e.TgZ(17,"div",27)(18,"p-button",29),e.NdJ("click",function(){e.CHM(o);const p=e.oxw().$implicit,m=e.oxw();return e.KtG(m.pastColorImage(p))}),e.qZA(),e.TgZ(19,"input",30),e.NdJ("ngModelChange",function(p){e.CHM(o);const m=e.oxw().$implicit;return e.KtG(m.image=p)}),e.qZA()(),e.TgZ(20,"div",31),e._UZ(21,"app-color",32),e.qZA()()()}if(2&l){const o=e.oxw().$implicit,a=e.oxw();e.xp6(2),e.Q6J("value",o.productImages)("showThumbnails",!1)("activeIndex",a.activeIndex)("showIndicatorsOnItem",!0)("showIndicators",!0)("changeItemOnIndicatorHover",!1),e.xp6(4),e.Q6J("loading",a.loading),e.xp6(2),e.Akn(e.DdM(14,dt)),e.Q6J("ngModel",a.src),e.xp6(4),e.Q6J("ngForOf",o.productImages),e.xp6(6),e.Q6J("loading",a.loadingColorImage),e.xp6(1),e.Q6J("ngModel",o.image),e.xp6(2),e.Q6J("productColor",o)}}function jt(l,_){1&l&&(e.TgZ(0,"p-tabPanel",8),e.YNc(1,Qt,4,2,"ng-template",9),e.YNc(2,Lt,22,15,"ng-template",10),e.qZA()),2&l&&e.Q6J("selected",0==_.index)}let Bt=(()=>{class l{constructor(o,a,p,m){this.messageService=o,this.productsService=a,this.apiService=p,this.router=m,this.src="",this.activeIndex=0,this.loading=!1,this.loadingColorImage=!1,this.nbOfInvalid=0}ngOnInit(){this.product=this.productsService.selectedProduct,this.product.productColors.forEach(o=>{(!o.productImages||0==o.productImages.length)&&(o.productImages=[],this.nbOfInvalid++)})}addImage(o){if(!this.src||""===this.src)return;0==o.productImages.length&&this.nbOfInvalid--;let a=new Ut.q;a.id=-1,a.src=this.src,o.productImages=[...o.productImages,a],this.activeIndex=o.productImages.length-1,this.src=new String}delete(o,a){a.productImages.splice(o,1),a.productImages=[...a.productImages],0==a.productImages.length&&this.nbOfInvalid++}past(o){this.loading=!0,navigator.clipboard.readText().then(a=>{this.src=a,this.addImage(o)}).finally(()=>this.loading=!1)}pastColorImage(o){this.loadingColorImage=!0,o.image="",navigator.clipboard.readText().then(a=>{o.image=a}).finally(()=>this.loadingColorImage=!1)}selectImage(o){this.activeIndex=o}saveProgress(){this.productsService.saveEditingProgress()}nextPage(){0==this.nbOfInvalid?(this.product.otherImages=[],this.product.productColors.forEach(o=>{o.productImages.forEach(a=>this.product.otherImages.push(a))}),this.router.navigate(["/administrative/products/addProduct/sizes"]),this.productsService.saveEditingProgress()):this.messageService.add({key:"homeToast",severity:"warn",life:7e3,summary:"Missing some field",detail:"please each color must have at least one image"})}prevPage(){this.router.navigate(["/administrative/products/addProduct/colors"])}}return l.\u0275fac=function(o){return new(o||l)(e.Y36(b.ez),e.Y36(O.s),e.Y36(U.s),e.Y36(x.F0))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-product-images-form"]],decls:13,vars:1,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["scrollable","true",3,"selected",4,"ngFor","ngForOf"],[1,"flex","justify-content-between"],["styleClass","p-button-raised p-button-text font-medium","label","Back","icon","pi pi-caret-left",3,"onClick"],["styleClass","p-button-raised p-button-rounded p-button-text font-medium","icon","pi pi-save",3,"onClick"],["styleClass","p-button-raised  p-button-text font-medium","label","Next","icon","pi pi-caret-right","iconPos","right",3,"onClick"],["scrollable","true",3,"selected"],["pTemplate","header"],["pTemplate","content"],[1,"flex","flex-column"],[1,"m-4",3,"color"],[1,"font-light","text-xs","text-center","text-overflow-ellipsis"],[1,"flex","flex-wrap"],[1,"field","col-12","md:col-6","h-full"],[3,"value","showThumbnails","activeIndex","showIndicatorsOnItem","showIndicators","changeItemOnIndicatorHover","activeIndexChange"],["pTemplate","item"],[1,"field","col-12","md:col-6","h-full","shadow-2","border-round-lg"],[1,"h-6rem","surface-ground","border-round-lg","w-full","border-noround-bottom","flex","align-items-center","justify-content-center"],["title","past","icon","pi pi-file-export","styleClass","p-button-rounded m-2",3,"loading","click"],[1,"p-float-label","w-9"],["id","float-input","type","text","pInputText","",3,"ngModel","ngModelChange","keyup.enter"],["for","float-input"],[1,"flex","flex-column-reverse","w-full","h-full"],["class","w-12 my-4 m-auto flex align-items-center",4,"ngFor","ngForOf"],[1,"flex","justify-content-between","col-12","h-8rem","overflow-x-auto"],[1,"flex","justify-content-center","align-items-center"],[1,"w-8rem"],["pRipple","","title","past","icon","pi pi-file-export","styleClass","p-button-rounded m-2",3,"loading","click"],["placeholder","SRC","type","text","pInputText","",1,"h-3rem",3,"ngModel","ngModelChange"],[1,"flex","justify-content-center"],[1,"m-2",3,"productColor"],["style","width: 100%; display: block;",3,"src",4,"ngIf"],[2,"width","100%","display","block",3,"src"],[1,"w-12","my-4","m-auto","flex","align-items-center"],[1,"p-float-label","w-full"],["id","float-input","tabindex","-1","type","text","pInputText","",3,"ngModel","ngModelChange","click"],["title","delete size","icon","pi pi-trash","styleClass","p-button-rounded p-button-danger p-button-text",3,"click"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4," Product Images Data "),e.qZA(),e.TgZ(5,"p-tabView"),e.YNc(6,jt,3,1,"p-tabPanel",3),e.qZA()()(),e.TgZ(7,"div",1)(8,"div",2)(9,"div",4)(10,"p-button",5),e.NdJ("onClick",function(){return a.prevPage()}),e.qZA(),e.TgZ(11,"p-button",6),e.NdJ("onClick",function(){return a.saveProgress()}),e.qZA(),e.TgZ(12,"p-button",7),e.NdJ("onClick",function(){return a.nextPage()}),e.qZA()()()()()),2&o&&(e.xp6(6),e.Q6J("ngForOf",a.product.productColors))},dependencies:[f.sg,f.O5,b.jx,h.Fj,h.JJ,h.On,P.zx,k.o,j.dz,K.R,H,z],styles:["@media screen and (max-width: 576px){[_nghost-%COMP%]     .p-tabview-panels{padding:0!important}[_nghost-%COMP%]     .p-card-body{padding:.5rem!important}}"]}),l})();var Vt=u(4876),Gt=u(8198);function ut(l,_){if(1&l&&(e.TgZ(0,"div",13),e._UZ(1,"app-color",14),e.TgZ(2,"span",15),e._uU(3),e.qZA()()),2&l){const o=e.oxw().$implicit;e.xp6(1),e.Q6J("color",o.color),e.xp6(2),e.hij(" ",o.color.name," ")}}function zt(l,_){1&l&&e._UZ(0,"app-size",21),2&l&&e.Q6J("size",_.$implicit.size)}function Ht(l,_){if(1&l){const o=e.EpF();e.TgZ(0,"div",22)(1,"span",23),e._UZ(2,"i",24),e.qZA(),e.TgZ(3,"input",25),e.NdJ("ngModelChange",function(p){e.CHM(o);const m=e.oxw(3);return e.KtG(m.filterValue=p)})("keyup",function(p){const C=e.CHM(o).options;return e.KtG(C.filter(p))}),e.qZA(),e.TgZ(4,"button",26),e.NdJ("click",function(){const m=e.CHM(o).options,C=e.oxw(3);return e.KtG(C.myResetFunction(m))}),e.qZA()()}if(2&l){const o=e.oxw(3);e.xp6(3),e.Q6J("ngModel",o.filterValue)}}function Kt(l,_){if(1&l&&(e.TgZ(0,"div",27)(1,"span",28),e._uU(2),e.qZA(),e.TgZ(3,"span",29),e._uU(4),e.qZA()()),2&l){const o=_.$implicit;let a;e.xp6(2),e.Oqu(o.size.name),e.xp6(2),e.Oqu(null!==(a=o.size.inEU)&&void 0!==a?a:"")}}function $t(l,_){if(1&l){const o=e.EpF();e.TgZ(0,"div",16),e.YNc(1,zt,1,1,"app-size",17),e.qZA(),e.TgZ(2,"p-listbox",18),e.NdJ("onChange",function(){e.CHM(o);const p=e.oxw().$implicit,m=e.oxw();return e.KtG(m.checkValidation(p.productSets))})("ngModelChange",function(p){e.CHM(o);const m=e.oxw().$implicit;return e.KtG(m.productSets=p)}),e.YNc(3,Ht,5,1,"ng-template",19),e.YNc(4,Kt,5,2,"ng-template",20),e.qZA()}if(2&l){const o=e.oxw().$implicit,a=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.productSets),e.xp6(1),e.Q6J("options",a.availableSizesAsProductSets)("ngModel",o.productSets)("checkbox",!0)("filter",!0)("multiple",!0)("metaKeySelection",!1)("showToggleAll",!0)}}function Wt(l,_){1&l&&(e.TgZ(0,"p-tabPanel",10),e.YNc(1,ut,4,2,"ng-template",11),e.YNc(2,$t,5,8,"ng-template",12),e.qZA())}let Xt=(()=>{class l{constructor(o,a,p,m,C){this.filterService=o,this.apiService=a,this.messageService=p,this.router=m,this.productsService=C,this.availableSizesAsProductSets=[],this.nbOfInvalid=0,this.filterValue="",this.selectedIndex=0}ngOnInit(){this.initialProductsSet=new Map,this.product=this.productsService.selectedProduct,this.productsService.getAvailableSizes().then(o=>{this.availableSizesAsProductSets=o.map(a=>{let p=new Vt.A;return p.id=-1,p.size=a,p.quantity=0,p}),this.product.productColors.forEach(a=>{a.productSets&&0!=a.productSets.length?a.productSets.forEach(p=>{p.id>0&&this.initialProductsSet.set(a.id+"-"+p.size.id,p)}):(a.productSets=[],this.nbOfInvalid++)})}),this.filterService.register("productSetFilterBySizeName",(o,a)=>{if(null==a||""===a.trim())return!0;if(null==o)return!1;let p=a.toUpperCase();return-1!==(o.inEU?o.name+o.inEU:o.name).indexOf(p)})}myResetFunction(o){o.reset&&o.reset(),this.filterValue=""}checkValidation(o){1==o.length?this.nbOfInvalid--:0==o.length&&this.nbOfInvalid++}applyForAllColor(){let o;for(var a=0;a<this.product.productColors.length;a++)a!=this.selectedIndex&&(o=[],this.product.productColors[this.selectedIndex].productSets.forEach(p=>o.push({...p,id:-1})),this.product.productColors[a].productSets=o);this.nbOfInvalid=0,this.messageService.add({key:"homeToast",severity:"success",life:7e3,summary:"Done",detail:"Selected sizes successfuly applied to all product colors"})}nextPage(){if(0==this.nbOfInvalid){let o;this.product.productColors.forEach(a=>{for(var p=0;p<a.productSets.length;p++)o=this.initialProductsSet.get(a.id+"-"+a.productSets[p].size.id),o&&(a.productSets[p]=o)}),this.router.navigate(["/administrative/products/addProduct/sources"]),this.productsService.saveEditingProgress()}else this.messageService.add({key:"homeToast",severity:"warn",life:7e3,summary:"Missing some field",detail:"please each color must have at least one size"})}prevPage(){this.router.navigate(["/administrative/products/addProduct/images"])}}return l.\u0275fac=function(o){return new(o||l)(e.Y36(b.iZ),e.Y36(U.s),e.Y36(b.ez),e.Y36(x.F0),e.Y36(O.s))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-product-sizes-form"]],decls:14,vars:2,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[3,"activeIndex","activeIndexChange"],["scrollable","true",4,"ngFor","ngForOf"],[1,"flex","justify-content-end","mt-1"],["styleClass","p-button-raised p-button-secondary ","label","Apply For All Color","icon","pi pi-check-square",3,"onClick"],[1,"flex","justify-content-between"],["styleClass","p-button-raised p-button-text font-medium","label","Back","icon","pi pi-caret-left",3,"onClick"],["styleClass","p-button-raised p-button-text font-medium","label","Next","icon","pi pi-caret-right","iconPos","right",3,"onClick"],["scrollable","true"],["pTemplate","header"],["pTemplate","content"],[1,"flex","flex-column"],[1,"m-4",3,"color"],[1,"font-light","text-xs","text-center","text-overflow-ellipsis"],[1,"flex","flex-reverse","align-content-center","justify-content-evently","w-12","h-6rem","overflow-x-scroll"],["class","m-4",3,"size",4,"ngFor","ngForOf"],["filterBy","label","optionLabel","size","filterMatchMode","productSetFilterBySizeName","dataKey","size.id",3,"options","ngModel","checkbox","filter","multiple","metaKeySelection","showToggleAll","onChange","ngModelChange"],["pTemplate","filter"],["pTemplate","item"],[1,"m-4",3,"size"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Filter",3,"ngModel","ngModelChange","keyup"],["pButton","","icon","pi pi-times",1,"ml-3",3,"click"],[1,"my-5","mx-1","md:mx-6"],[1,"font-bold","text-xl","md:text-2xl"],[1,"font-bold","text-primary-100"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4," Product Sizes Data "),e.qZA(),e.TgZ(5,"p-tabView",3),e.NdJ("activeIndexChange",function(m){return a.selectedIndex=m}),e.YNc(6,Wt,3,0,"p-tabPanel",4),e.TgZ(7,"div",5)(8,"p-button",6),e.NdJ("onClick",function(){return a.applyForAllColor()}),e.qZA()()()()(),e.TgZ(9,"div",1)(10,"div",2)(11,"div",7)(12,"p-button",8),e.NdJ("onClick",function(){return a.prevPage()}),e.qZA(),e.TgZ(13,"p-button",9),e.NdJ("onClick",function(){return a.nextPage()}),e.qZA()()()()()),2&o&&(e.xp6(5),e.Q6J("activeIndex",a.selectedIndex),e.xp6(1),e.Q6J("ngForOf",a.product.productColors))},dependencies:[f.sg,b.jx,h.Fj,h.JJ,h.On,P.Hq,P.zx,k.o,Gt.m,K.R,H,z,nt.Ri],styles:["[_nghost-%COMP%]     .p-listbox-list{display:flex;flex-wrap:wrap;justify-content:space-around}[_nghost-%COMP%]     li.p-highlight{background-color:#fff!important}[_nghost-%COMP%]     .p-tabview-panels{margin:0;padding:0}"]}),l})();var mt=u(3165);const _t=[{path:"general",component:Et},{path:"images",component:Bt},{path:"colors",component:kt},{path:"sizes",component:Xt},{path:"sources",component:(()=>{class l{constructor(o,a,p){this.productsService=o,this.apiService=a,this.router=p,this.loading=!1,this.companies=[]}ngOnInit(){this.apiService.getCompaniesListByCompanyTypeKeyAdv("CLOTHES_COMPANY").subscribe(o=>this.companies=o),this.product=this.productsService.selectedProduct,this.product.productAdministrativeData||(this.product.productAdministrativeData=[])}nextPage(){this.product.productAdministrativeData&&this.product.productAdministrativeData.length>0&&(this.router.navigate(["/administrative/products/addProduct/confirm"]),this.productsService.saveEditingProgress())}prevPage(){this.router.navigate(["/administrative/products/addProduct/sizes"])}}return l.\u0275fac=function(o){return new(o||l)(e.Y36(O.s),e.Y36(U.s),e.Y36(x.F0))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-products-sources-form"]],decls:11,vars:2,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[3,"productAdministrativeData","companies"],[1,"flex","justify-content-between"],["styleClass","p-button-raised p-button-text font-medium","label","Back","icon","pi pi-caret-left",3,"onClick"],["styleClass","p-button-raised p-button-text font-medium","label","Next","icon","pi pi-caret-right","iconPos","right",3,"onClick"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4," Product Sources Data "),e.qZA(),e._UZ(5,"app-maintain-product-administrative-data",3),e.qZA()(),e.TgZ(6,"div",1)(7,"div",2)(8,"div",4)(9,"p-button",5),e.NdJ("onClick",function(){return a.prevPage()}),e.qZA(),e.TgZ(10,"p-button",6),e.NdJ("onClick",function(){return a.nextPage()}),e.qZA()()()()()),2&o&&(e.xp6(5),e.Q6J("productAdministrativeData",a.product.productAdministrativeData)("companies",a.companies))},dependencies:[P.zx,mt.u]}),l})()},{path:"confirm",component:Ft}];let te=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[x.Bz.forChild(_t),x.Bz]}),l})();var ee=u(1405);let gt=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[f.ez,ot.q,x.Bz,te,R.d,h.u5,L.kW,I.q4,P.hJ,k.j,j.kT,Ct.U$,ee.U,Q.zz,Pt,B.A,mt.u,nt.ON]}),l})()},2099:(S,N,u)=>{u.r(N),u.d(N,{ProductsModule:()=>vn});var f=u(6895),h=u(433),x=u(5593),P=u(585),R=u(2137),L=u(7604),j=u(1493),Q=u(2210),k=u(5569),B=u(3520),nt=u(7913),I=u(1740),ot=u(3054),Ct=u(8433),e=u(5722),it=u(5900),V=u(7198),b=u(6408),Z=u(5362),y=u(1765),rt=u(1405),at=u(2238),st=u(3165),vt=u(7256),xt=u(9401),Y=u(6536),bt=u(9778),Tt=u(3784),yt=u(2380),J=u(4258),w=u(3905);class E{}class ct extends E{constructor(d){super(),d&&(this.id=d.id,this.imageLink=d.imageLink,this.dateAsString=d.dateAsString,this.price=d.price,this.sourcePrice=d.sourcePrice,this.sourceLink=d.sourceLink,d.productId&&(this.productId=d.productId),d.sourceId&&(this.sourceId=d.sourceId))}static convertToPrimitiveObject(d){var n=new E;return n.id=d.id,n.imageLink=d.imageLink,n.dateAsString=d.dateAsString,n.price=d.price,n.sourcePrice=d.sourcePrice,n.sourceLink=d.sourceLink,n.productId&&(n.productId=d.productId),n.sourceId&&(n.sourceId=d.sourceId),n}}var t=u(4650),T=u(805),q=u(9268),G=u(1843),lt=u(690),A=u(5583),St=u(2039),z=u(7579),H=u(4004),Pt=u(8372),Zt=u(1884),U=u(4243),O=u(220);const wt=function(){return{"height.px":140,"width.px":100}};function K(i,d){1&i&&t._UZ(0,"div",16),2&i&&t.Q6J("ngStyle",t.DdM(1,wt))}function Mt(i,d){if(1&i){const n=t.EpF();t.ynx(0),t.YNc(1,K,1,2,"div",14),t.TgZ(2,"img",15),t.NdJ("load",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.imageLinkValid=!0)}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.imageLinkValid),t.xp6(1),t.Q6J("hidden",!n.imageLinkValid)("src",n.checkPricePO.imageLink,t.LSH)}}function At(i,d){1&i&&(t.TgZ(0,"div",17),t._UZ(1,"i",18),t.qZA())}let kt=(()=>{class i{constructor(n,r,s){this.messageService=n,this.apiService=r,this.firebaseService=s,this.keyUp=new z.x,this.sendRequestLoading=!1,this.imageLinkValid=!1}ngOnInit(){this.checkPricePO=new E,this.subscription=this.keyUp.pipe((0,H.U)(n=>n?.target?.value),(0,Pt.b)(600),(0,Zt.x)()).subscribe(n=>{this.imageLinkValid=!1,this.checkPricePO.imageLink=n})}ngOnDestroy(){this.subscription.unsubscribe()}sendRequest(){this.sendRequestLoading=!0,this.firebaseService.addCheckPriceRequest(this.checkPricePO).finally(()=>{this.checkPricePO=new E,this.sendRequestLoading=!1})}notifyBuyer(){let n=new O.P_;n.title="Check Price Is Required",n.body="please Check The Price To The New Add Product ",n.data={onActionClick:{defaultOperationUrl:{operation:"focusLastFocusedOrOpen",url:"administrative/products/checkPrice"}}},n.icon="https://dantel-store.github.io/Dantel/assets/icons/icon-72x72.png",(0,w.z)(this.apiService.SendNotification(n,U.u.buyer,void 0)).catch(r=>console.log(r))}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(T.ez),t.Y36(q.s),t.Y36(G.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-check-price"]],decls:17,vars:6,consts:[[1,"grid"],[1,"col-4","lg:col-2","flex","justify-content-center","align-items-center"],[4,"ngIf","ngIfElse"],["imageIcon",""],[1,"col-8","lg:col-6","flex","flex-column","align-items-center","justify-content-around"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-image"],["type","text","pInputText","","placeholder","image link",3,"ngModel","keyup"],[1,"pi","pi-link"],["type","text","pInputText","","placeholder","product link",3,"ngModel","ngModelChange"],[1,"col-12","lg:col-4","py-2","flex","align-items-center","justify-content-center","lg:justify-content-end"],["pButton","","pRipple","","type","button","icon","pi pi-bell",1,"p-button-rounded","p-button-outlined","mx-2",3,"click"],["pButton","","pRipple","","type","submit","icon","pi pi-send",1,"p-button-rounded","mx-2",3,"loading","disabled","click"],["class","p-skeleton p-component ",3,"ngStyle",4,"ngIf"],["width","100","height","140",1,"bitem-round","shadow-2",2,"border-radius","0.5rem","vertical-align","middle",3,"hidden","src","load"],[1,"p-skeleton","p-component",3,"ngStyle"],[1,"flex","border-round","justify-content-center","align-items-center","surface-100",2,"width","100px","height","140px"],[1,"pi","pi-image","text-color-secondary","text-3xl"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,Mt,3,3,"ng-container",2),t.YNc(3,At,2,0,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(5,"div",4)(6,"div",5)(7,"span",6),t._UZ(8,"i",7),t.qZA(),t.TgZ(9,"input",8),t.NdJ("keyup",function(c){return r.keyUp.next(c)}),t.qZA()(),t.TgZ(10,"div",5)(11,"span",6),t._UZ(12,"i",9),t.qZA(),t.TgZ(13,"input",10),t.NdJ("ngModelChange",function(c){return r.checkPricePO.sourceLink=c}),t.qZA()()(),t.TgZ(14,"div",11)(15,"button",12),t.NdJ("click",function(){return r.notifyBuyer()}),t.qZA(),t.TgZ(16,"button",13),t.NdJ("click",function(){return r.sendRequest()}),t.qZA()()()),2&n){const s=t.MAs(4);t.xp6(2),t.Q6J("ngIf",r.checkPricePO.imageLink)("ngIfElse",s),t.xp6(7),t.Q6J("ngModel",r.checkPricePO.imageLink),t.xp6(4),t.Q6J("ngModel",r.checkPricePO.sourceLink),t.xp6(3),t.Q6J("loading",r.sendRequestLoading)("disabled",!r.imageLinkValid||!r.checkPricePO.sourceLink)}},dependencies:[f.O5,f.PC,h.Fj,h.JJ,h.On,x.Hq,I.o]}),i})();var pt=u(4251),$=u(6456);function It(i,d){1&i&&t._UZ(0,"app-add-check-price")}function Ft(i,d){1&i&&(t.TgZ(0,"div",24)(1,"span",25),t._uU(2,"products Picker"),t.qZA()())}function Jt(i,d){if(1&i&&(t.TgZ(0,"div",28),t._UZ(1,"img",29),t.TgZ(2,"div",30)(3,"span",31),t._uU(4),t.qZA(),t.TgZ(5,"span",32),t._UZ(6,"i",33),t._uU(7),t.qZA(),t.TgZ(8,"span",34),t._UZ(9,"i",35),t._uU(10),t.qZA()()()),2&i){const n=d.$implicit;t.xp6(1),t.Q6J("alt",n.name)("ngSrc",n.otherImages[0].src),t.xp6(3),t.Oqu(n.name),t.xp6(3),t.hij(" ",n.category.name," "),t.xp6(3),t.hij(" ",n.code," ")}}function qt(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"p-multiSelect",26),t.NdJ("onChange",function(s){const g=t.CHM(n).filterCallback;return t.KtG(g(s.value))}),t.YNc(1,Jt,11,5,"ng-template",27),t.qZA()}if(2&i){const n=d.$implicit,r=t.oxw(2);t.Q6J("ngModel",n)("options",r.products)}}function Ot(i,d){1&i&&(t.TgZ(0,"th")(1,"div",12),t._uU(2," Source price "),t._UZ(3,"p-sortIcon",36),t.qZA()())}function Nt(i,d){1&i&&(t.TgZ(0,"th")(1,"div",12),t._uU(2," Dantel Price "),t._UZ(3,"p-sortIcon",20)(4,"p-columnFilter",21),t.qZA()())}function W(i,d){1&i&&t._UZ(0,"th",37)}function X(i,d){if(1&i&&(t.TgZ(0,"tr")(1,"th")(2,"div",12),t._uU(3," Code "),t._UZ(4,"p-columnFilter",13),t.qZA()(),t.TgZ(5,"th")(6,"div",12),t._uU(7," Image "),t.TgZ(8,"p-columnFilter",14),t.YNc(9,Ft,3,0,"ng-template",9),t.YNc(10,qt,2,2,"ng-template",15),t.qZA()()(),t.TgZ(11,"th",16)(12,"div",12),t._uU(13," Date "),t._UZ(14,"p-sortIcon",17)(15,"p-columnFilter",18),t.qZA()(),t.YNc(16,Ot,4,0,"th",5),t.TgZ(17,"th",19)(18,"div",12),t._uU(19," Price "),t._UZ(20,"p-sortIcon",20)(21,"p-columnFilter",21),t.qZA()(),t.TgZ(22,"th")(23,"div",12),t._uU(24," Source Link "),t._UZ(25,"p-columnFilter",22),t.qZA()(),t.YNc(26,Nt,5,0,"th",5),t.YNc(27,W,1,0,"th",23),t.qZA()),2&i){const n=t.oxw();t.xp6(8),t.Q6J("field","product.id")("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),t.xp6(8),t.Q6J("ngIf",n.commonService.hasManagerRole),t.xp6(10),t.Q6J("ngIf",n.commonService.hasSellerRole),t.xp6(1),t.Q6J("ngIf",n.commonService.hasManagerRole)}}function Et(i,d){if(1&i&&t._UZ(0,"img",48),2&i){const n=t.oxw().$implicit;t.Q6J("ngSrc",n.imageLink)}}function Ut(i,d){if(1&i&&(t.TgZ(0,"td")(1,"span",38),t._uU(2,"Source price"),t.qZA(),t._uU(3),t.qZA()),2&i){const n=t.oxw().$implicit;t.xp6(3),t.hij(" ",n.sourcePrice,"$ ")}}function Qt(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().$implicit,c=t.MAs(20),g=t.oxw();return t.KtG(g.save(c,s))}),t.qZA()}}function Yt(i,d){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-product-source",50),t.NdJ("selectedSourceIdChange",function(s){t.CHM(n);const c=t.oxw().$implicit;return t.KtG(c.sourceId=s)}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("selectedSourceId",n.sourceId)("availableSource",n.product.productAdministrativeData)}}function Dt(i,d){if(1&i&&(t._UZ(0,"a",51),t.ALo(1,"linkName")),2&i){const n=t.oxw().$implicit;t.s9C("label",t.lcZ(1,3,n.sourceLink)),t.Q6J("href",n.sourceLink,t.LSH)("title",n.sourceLink)}}function dt(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"div",40)(1,"div",53)(2,"button",54),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(2),c=s.$implicit,g=s.rowIndex,v=t.oxw();return t.KtG(v.updateDantelPrice(c,g))}),t.qZA(),t.TgZ(3,"input",55,56),t.NdJ("ngModelChange",function(s){t.CHM(n);const c=t.oxw(2).$implicit;return t.KtG(c.product.price=s)}),t.ALo(5,"CurrenciesPipe"),t.qZA(),t.TgZ(6,"span",57),t._uU(7),t.qZA()()()}if(2&i){const n=t.oxw(2),r=n.$implicit,s=n.rowIndex,c=t.oxw();t.xp6(2),t.Q6J("disabled",!r.price)("loading",c.productService.waitingForProducts&&c.selectedIndex===s),t.xp6(1),t.Q6J("disabled",!0)("ngModel",t.xi3(5,5,r.product.price,!1)),t.xp6(4),t.Oqu(c.currencyService.selectedCurrency)}}function Rt(i,d){if(1&i&&(t.TgZ(0,"td")(1,"span",38),t._uU(2,"Dantel Price"),t.qZA(),t.YNc(3,dt,8,8,"div",52),t.qZA()),2&i){const n=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",n.product)}}function Lt(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"td")(1,"div",40)(2,"button",58),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(),c=s.$implicit,g=s.rowIndex,v=t.oxw();return t.KtG(v.delete(c,g))}),t.qZA()()()}if(2&i){const n=t.oxw().rowIndex,r=t.oxw();t.xp6(2),t.Q6J("loading",r.deleteIndexLoading===n)}}function jt(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"span",38),t._uU(3,"Code"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"span",38),t._uU(7,"Image"),t.qZA(),t.YNc(8,Et,1,1,"img",39),t.qZA(),t.TgZ(9,"td")(10,"span",38),t._uU(11,"Date"),t.qZA(),t._uU(12),t.qZA(),t.YNc(13,Ut,4,1,"td",5),t.TgZ(14,"td")(15,"span",38),t._uU(16,"price"),t.qZA(),t.TgZ(17,"div",40)(18,"div",41)(19,"input",42,43),t.NdJ("ngModelChange",function(s){const g=t.CHM(n).$implicit;return t.KtG(g.price=s)}),t.ALo(21,"CurrenciesPipe"),t.qZA(),t.TgZ(22,"span",44),t._uU(23),t.qZA(),t.YNc(24,Qt,1,0,"button",45),t.qZA()()(),t.TgZ(25,"td")(26,"span",38),t._uU(27,"Source Link"),t.qZA(),t.TgZ(28,"div",40),t.YNc(29,Yt,2,2,"ng-container",46),t.YNc(30,Dt,2,5,"ng-template",null,47,t.W1O),t.qZA()(),t.YNc(32,Rt,4,1,"td",5),t.YNc(33,Lt,3,1,"td",5),t.qZA()}if(2&i){const n=d.$implicit,r=t.MAs(20),s=t.MAs(31),c=t.oxw();t.xp6(4),t.hij(" ",null==n.product?null:n.product.code," "),t.xp6(4),t.Q6J("ngIf",n.imageLink),t.xp6(4),t.hij(" ",n.dateAsString," "),t.xp6(1),t.Q6J("ngIf",c.commonService.hasManagerRole),t.xp6(6),t.Q6J("disabled",!c.commonService.hasBuyerRole)("ngModel",c.commonService.hasBuyerRole?n.price:t.xi3(21,12,n.price,!1)),t.xp6(4),t.Oqu(c.commonService.hasBuyerRole?"$":c.currencyService.selectedCurrency),t.xp6(1),t.Q6J("ngIf",r.touched),t.xp6(5),t.Q6J("ngIf",n.product)("ngIfElse",s),t.xp6(3),t.Q6J("ngIf",c.commonService.hasSellerRole),t.xp6(1),t.Q6J("ngIf",c.commonService.hasManagerRole)}}function Bt(i,d){1&i&&(t.TgZ(0,"tr")(1,"td",59),t._uU(2,"No items found."),t.qZA()())}const Vt=function(){return[10,25,50]};let Gt=(()=>{class i{constructor(n,r,s,c,g,v){this.messageService=n,this.apiService=r,this.firebaseService=s,this.commonService=c,this.productService=g,this.currencyService=v,this.items=[],this.products=[],this.loading=!0}ngOnInit(){this.firebaseService.getCheckPricesList().subscribe(n=>{this.items=n,this.loading=!1}),(0,w.z)(this.productService.getProducts()).then(n=>{this.products=n})}ngOnDestroy(){}openProdcut(n){this.productService.selectedProduct=n,this.productService.endSelection(),this.productService.openProductDetailsDialog()}updateDantelPrice(n,r){this.selectedIndex=r,n.product&&this.productService.updateProductPrice(n.product,n.price)}delete(n,r){this.deleteIndexLoading=r,this.firebaseService.removeCheckPriceRequest(n).then(()=>{this.messageService.add({key:"homeToast",severity:"success",summary:"Success",detail:"Check Price Successfuly Remouved"})}).finally(()=>this.deleteIndexLoading=void 0)}save(n,r){let s=ct.convertToPrimitiveObject(r);this.firebaseService.updateCheckPriceRequest(s),r.price=s.price,n.control?.markAsUntouched()}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(T.ez),t.Y36(q.s),t.Y36(G.O),t.Y36(lt.v),t.Y36(A.s),t.Y36(St.t))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-check-price"]],decls:15,vars:10,consts:[[1,"grid","m-2","lg:m-4"],[1,"col-12"],[1,"text-900","font-bold","text-3xl","mb-3"],[1,"pi","pi-tag","text-3xl","font-bold"],[1,"ml-5","mb-5","font-medium","text-700","text-md"],[4,"ngIf"],[1,"card"],["dataKey","id","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","filterDelay"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"flex","justify-content-between","align-items-center"],["type","text","field","product.code","display","menu",1,"ml-auto"],["display","menu","matchMode","in",1,"ml-auto",3,"field","showMatchModes","showOperator","showAddButton"],["pTemplate","filter"],["pSortableColumn","date"],["field","date"],["type","date","field","date","display","menu",1,"ml-auto"],["pSortableColumn","price"],["field","price"],["type","numeric","field","price","display","menu","currency","USD",1,"ml-auto"],["type","text","field","sourceLink","display","menu",1,"ml-auto"],["class","w-2rem",4,"ngIf"],[1,"px-3","pt-3","pb-0"],[1,"font-bold"],["optionValue","id","placeholder","Any","optionLabel","name","filterBy","searchKey","filterPlaceHolder","Search By Key",3,"ngModel","options","onChange"],["pTemplate","item"],[1,"flex","flex-row"],["width","60","height","85",1,"bitem-round","shadow-2",2,"border-radius","0.5rem","vertical-align","middle",3,"alt","ngSrc"],[1,"pl-4"],[1,"block","mb-2","font-bold"],[1,"block","my-1","text-color-secondary","text-sm","font-bold"],[1,"pi","pi-tag","text-color-secondary","text-sm","font-bold"],[1,"block","text-xs","text-color-secondary"],[1,"pi","pi-hashtag","text-xs","text-color-secondary"],["field","sourcePrice"],[1,"w-2rem"],[1,"p-column-title"],["alt","no image","width","85","height","120","class","bitem-round shadow-2","style","border-radius: 0.5rem; vertical-align: middle",3,"ngSrc",4,"ngIf"],[1,"flex","justify-content-center","align-items-center"],[1,"p-inputgroup","w-12rem"],["pInputText","","type","text",3,"disabled","ngModel","ngModelChange"],["price","ngModel"],[1,"p-inputgroup-addon","w-2rem"],["pButton","","pRipple","","type","button","icon","pi pi-save",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseStatment",""],["alt","no image","width","85","height","120",1,"bitem-round","shadow-2",2,"border-radius","0.5rem","vertical-align","middle",3,"ngSrc"],["pButton","","pRipple","","type","button","icon","pi pi-save",3,"click"],[3,"selectedSourceId","availableSource","selectedSourceIdChange"],["pButton","","icon","pi pi-external-link","iconPos","right","target","_blank",1,"font-normal","p-button-outlined","p-button-secondary","no-underline",3,"href","label","title"],["class","flex justify-content-center align-items-center",4,"ngIf"],[1,"p-inputgroup"],["type","button","pButton","","title","update","pRipple","","icon","pi pi-file-import","iconPos","right",1,"p-button-outlined",3,"disabled","loading","click"],["pInputText","","type","text",1,"w-8rem",3,"disabled","ngModel","ngModelChange"],["Dantelprice","ngModel"],[1,"p-inputgroup-addon"],["pButton","","pRipple","","title","delete","type","button","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","p-button-text",3,"loading","click"],["colspan","7"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"i",3),t._uU(4," Check Price "),t.qZA(),t.TgZ(5,"p",4),t._uU(6,"Products Source Price Center"),t.qZA(),t.YNc(7,It,1,0,"app-add-check-price",5),t.qZA(),t.TgZ(8,"div",1)(9,"div",6)(10,"p-table",7,8),t.YNc(12,X,28,7,"ng-template",9),t.YNc(13,jt,34,15,"ng-template",10),t.YNc(14,Bt,3,0,"ng-template",11),t.qZA()()()()),2&n&&(t.xp6(7),t.Q6J("ngIf",r.commonService.hasSellerRole),t.xp6(3),t.Q6J("value",r.items)("rowHover",!1)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(9,Vt))("loading",r.loading)("paginator",!0)("filterDelay",0))},dependencies:[f.O5,y.iA,T.jx,y.lQ,y.fz,y.xl,h.Fj,h.JJ,h.On,x.Hq,I.o,e.NU,f.Zd,Y.$,kt,pt.q,$.F]}),i})();var ut=u(8931);function zt(i,d){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"span",19),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().options,c=t.oxw();return s.reset(),t.KtG(c.sourceFilterValue="")}),t.qZA(),t.BQk()}}function Ht(i,d){1&i&&t._UZ(0,"span",20)}const Kt=function(){return["&","or"]};function $t(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"div",12)(1,"input",13),t.NdJ("ngModelChange",function(s){t.CHM(n);const c=t.oxw();return t.KtG(c.sourceFilterValue=s)})("keyup",function(){const c=t.CHM(n).options,g=t.oxw();return t.KtG(g.globalSearchFilter(g.sourceFilterValue,g.sourceProducts,c))}),t.qZA(),t.YNc(2,zt,2,0,"ng-container",14),t.YNc(3,Ht,1,0,"ng-template",null,15,t.W1O),t.qZA(),t.TgZ(5,"div",16)(6,"div",17)(7,"p-selectButton",18),t.NdJ("ngModelChange",function(s){t.CHM(n);const c=t.oxw();return t.KtG(c.sourceLogicalOperator=s)})("onChange",function(){const c=t.CHM(n).options,g=t.oxw();return t.KtG(g.statusFilter(g.sourceLogicalOperator,g.sourceRejectedStatus,g.sourceAcceptedStatus,g.sourceProducts,c))}),t.qZA()(),t.TgZ(8,"app-product-status",11),t.NdJ("rejectedProductStatusChange",function(s){t.CHM(n);const c=t.oxw();return t.KtG(c.sourceRejectedStatus=s)})("productStatusChange",function(s){t.CHM(n);const c=t.oxw();return t.KtG(c.sourceAcceptedStatus=s)})("productStatusChange",function(){const c=t.CHM(n).options,g=t.oxw();return t.KtG(g.statusFilter(g.sourceLogicalOperator,g.sourceRejectedStatus,g.sourceAcceptedStatus,g.sourceProducts,c))}),t.qZA()()}if(2&i){const n=t.MAs(4),r=t.oxw();t.xp6(1),t.Q6J("ngModel",r.sourceFilterValue),t.xp6(1),t.Q6J("ngIf",r.sourceFilterValue)("ngIfElse",n),t.xp6(5),t.Q6J("options",t.DdM(9,Kt))("ngModel",r.sourceLogicalOperator),t.xp6(1),t.Q6J("triCheck",!0)("readOnly",!1)("rejectedProductStatus",r.sourceRejectedStatus)("productStatus",r.sourceAcceptedStatus)}}function Wt(i,d){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"span",19),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().options,c=t.oxw();return s.reset(),t.KtG(c.targetFilterValue="")}),t.qZA(),t.BQk()}}function Xt(i,d){1&i&&t._UZ(0,"span",20)}function mt(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"div",12)(1,"input",13),t.NdJ("ngModelChange",function(s){t.CHM(n);const c=t.oxw();return t.KtG(c.targetFilterValue=s)})("keyup",function(){const c=t.CHM(n).options,g=t.oxw();return t.KtG(g.globalSearchFilter(g.targetFilterValue,g.targetProducts,c))}),t.qZA(),t.YNc(2,Wt,2,0,"ng-container",14),t.YNc(3,Xt,1,0,"ng-template",null,15,t.W1O),t.qZA()}if(2&i){const n=t.MAs(4),r=t.oxw();t.xp6(1),t.Q6J("ngModel",r.targetFilterValue),t.xp6(1),t.Q6J("ngIf",r.targetFilterValue)("ngIfElse",n)}}function ne(i,d){if(1&i&&(t.TgZ(0,"div",21)(1,"div",22),t._UZ(2,"img",23),t.qZA(),t.TgZ(3,"div",24)(4,"div",25),t._uU(5),t.qZA(),t.TgZ(6,"div",26),t._uU(7),t.qZA(),t.TgZ(8,"div",27),t._UZ(9,"i",28),t._uU(10),t.qZA()(),t.TgZ(11,"div",29),t._UZ(12,"app-product-status",30),t.qZA()()),2&i){const n=d.$implicit;t.xp6(2),t.Q6J("ngSrc",n.otherImages[0].src)("alt",n.name),t.xp6(3),t.Oqu(n.name),t.xp6(2),t.Oqu(n.code),t.xp6(3),t.Oqu(n.category.name),t.xp6(2),t.Q6J("sale",n.sale)("productStatus",n.status)}}const _t=function(){return{height:"30rem"}};let te=(()=>{class i{constructor(n,r){this.productsService=n,this.messageService=r,this.targetProducts=[],this.sourceLogicalOperator="or",this.rejectedStatus=0,this.acceptedStatus=0,this.loading=!1,this.CheckRejectedStatusFunction=(s,c,g,v)=>!this.CheckStatusWithOrOperatorFunction(c,g),this.CheckAcceptedAndRejectedStatusFunction=(s,c,g,v)=>this.CheckAcceptedStatusFunction(s,c,g,v)&&this.CheckRejectedStatusFunction(s,c,g,v)}ngOnInit(){(0,w.z)(this.productsService.getProducts()).then(n=>{this.sourceProducts=[...n],this.allProducts=n})}applyStatus(){0!=this.targetProducts.length&&(this.loading=!0,this.targetProducts.forEach(n=>{n.status|=this.acceptedStatus,n.status&=~this.rejectedStatus}),(0,w.z)(this.productsService.editProductsListWithoutChild(this.targetProducts)).then(()=>{this.messageService.add({key:"homeToast",severity:"success",life:7e3,summary:"Done",detail:this.targetProducts.length+" Products statuses successfuly maintained"}),this.targetProducts=[],this.sourceProducts=[...this.allProducts]}).finally(()=>{this.loading=!1}))}globalSearchFilter(n,r,s){let v=n.toUpperCase().replace(" ","[\\n\\S\\s]+"),D=new RegExp(v);r.forEach(""==n?F=>F.passByFilter&=-2:F=>{F.searchKey.match(D)?F.passByFilter&=-2:F.passByFilter|=1}),s.filter&&s.filter("0")}CheckAcceptedStatusFunction(n,r,s,c){return n(r,c)}CheckStatusWithAndOperatorFunction(n,r){return(n&r)==r}CheckStatusWithOrOperatorFunction(n,r){return 0!=(n&r)}statusFilter(n,r,s,c,g){let F,ft;s||r?(F="&"===n?this.CheckStatusWithAndOperatorFunction:this.CheckStatusWithOrOperatorFunction,ft=s&&r?this.CheckAcceptedAndRejectedStatusFunction:s?this.CheckAcceptedStatusFunction:this.CheckRejectedStatusFunction,c.forEach(et=>{ft(F,et.status,r,s)?et.passByFilter&=-3:et.passByFilter|=2})):c.forEach(et=>et.passByFilter&=-3),g.filter&&g.filter("0")}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(A.s),t.Y36(T.ez))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-status-editor"]],decls:16,vars:17,consts:[[1,"page-header"],[1,"page-title"],[1,"pi","pi-pencil","page-title-icon"],["sourceHeader","All Products","targetHeader","Selected Products","targetFilterPlaceholder","Search by name","filterBy","passByFilter",3,"source","sourceStyle","showSourceControls","target","targetStyle","showTargetControls","metaKeySelection","dragdrop","responsive"],["pTemplate","sourceFilter"],["pTemplate","targetFilter"],["pTemplate","item"],[1,"flex","flex-wrap","border-1","border-300","border-round","mt-2"],[1,"surface-100","w-12","font-bold","p-2","flex","justify-content-between","align-items-center"],["label","Apply","icon","pi pi-check","styleClass","p-button-sm",3,"loading","disabled","click"],[1,"flex","justify-content-center","w-12"],[3,"triCheck","readOnly","rejectedProductStatus","productStatus","rejectedProductStatusChange","productStatusChange"],[1,"p-picklist-filter"],["type","text","role","textbox","placeholder","Global Search",1,"p-picklist-filter-input","p-inputtext","p-component",3,"ngModel","ngModelChange","keyup"],[4,"ngIf","ngIfElse"],["searchIcon",""],[1,"flex","status-filter-container","border-1","border-300","border-round","mt-2"],[1,"and-or-button-container","flex","justify-content-center","align-items-center"],[3,"options","ngModel","ngModelChange","onChange"],[1,"p-picklist-filter-icon","pi","pi-times","cursor-pointer",3,"click"],[1,"p-picklist-filter-icon","pi","pi-search"],[1,"product-item"],[1,"image-container"],["height","140","width","100",1,"product-image",3,"ngSrc","alt"],[1,"product-list-detail"],[1,"product-name"],[1,"product-code"],[1,"product-category"],[1,"pi","pi-tag","product-category-icon"],[1,"product-list-action"],[3,"sale","productStatus"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span"),t._UZ(3,"i",2),t._uU(4," Statuses Editor "),t.qZA()()(),t.TgZ(5,"p-pickList",3),t.YNc(6,$t,9,10,"ng-template",4),t.YNc(7,mt,5,3,"ng-template",5),t.YNc(8,ne,13,7,"ng-template",6),t.qZA(),t.TgZ(9,"div",7)(10,"div",8)(11,"span"),t._uU(12," Statuses Controls "),t.qZA(),t.TgZ(13,"p-button",9),t.NdJ("click",function(){return r.applyStatus()}),t.qZA()(),t.TgZ(14,"div",10)(15,"app-product-status",11),t.NdJ("rejectedProductStatusChange",function(c){return r.rejectedStatus=c})("productStatusChange",function(c){return r.acceptedStatus=c}),t.qZA()()()),2&n&&(t.xp6(5),t.Q6J("source",r.sourceProducts)("sourceStyle",t.DdM(15,_t))("showSourceControls",!1)("target",r.targetProducts)("targetStyle",t.DdM(16,_t))("showTargetControls",!1)("metaKeySelection",!1)("dragdrop",!1)("responsive",!0),t.xp6(8),t.Q6J("loading",r.loading)("disabled",0==r.targetProducts.length||0==r.acceptedStatus&&0==r.rejectedStatus),t.xp6(2),t.Q6J("triCheck",!0)("readOnly",!1)("rejectedProductStatus",r.rejectedStatus)("productStatus",r.acceptedStatus))},dependencies:[f.O5,T.jx,h.Fj,h.JJ,h.On,x.zx,ut.a,f.Zd,V.G,Z.UN],styles:[".product-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;width:100%}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;margin-right:1rem}.product-item[_ngcontent-%COMP%]   .product-list-detail[_ngcontent-%COMP%]{flex:1 1 0}.product-item[_ngcontent-%COMP%]   .product-list-action[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.product-item[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{vertical-align:middle;line-height:2;font-weight:600}.product-item[_ngcontent-%COMP%]   .product-code[_ngcontent-%COMP%]{vertical-align:middle;line-height:2;color:var(--surface-500)}.product-item[_ngcontent-%COMP%]   .product-category[_ngcontent-%COMP%]{vertical-align:middle;font-size:small;line-height:1}.product-item[_ngcontent-%COMP%]   .product-category-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:.5rem;font-size:small}.and-or-button-container[_ngcontent-%COMP%]{width:10rem;background-color:var(--surface-100)}@media screen and (max-width: 576px){.and-or-button-container[_ngcontent-%COMP%]{width:100%;padding:.5rem}.status-filter-container[_ngcontent-%COMP%], .product-item[_ngcontent-%COMP%]{flex-wrap:wrap}.product-list-action[_ngcontent-%COMP%]{width:min-content}}.p-picklist-filter[_ngcontent-%COMP%]{position:relative}.p-picklist-filter-icon[_ngcontent-%COMP%]{position:absolute;top:50%;margin-top:-.5rem}.p-picklist-filter-input[_ngcontent-%COMP%]{width:100%}.page-header[_ngcontent-%COMP%]{color:#343a40;padding:1.25rem}.page-title[_ngcontent-%COMP%], .page-title[_ngcontent-%COMP%]   .page-title-icon[_ngcontent-%COMP%]{font-weight:700;font-size:x-large;margin:.5rem}"]}),i})();var ee=u(8198),gt=u(6018);const l=["dt"];function _(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"div",12),t._UZ(1,"span",13),t.TgZ(2,"span",14),t._UZ(3,"i",15),t.TgZ(4,"input",16),t.NdJ("ngModelChange",function(s){t.CHM(n);const c=t.oxw();return t.KtG(c.globalSearchValue=s)})("input",function(){t.CHM(n);const s=t.oxw(),c=t.MAs(10);return t.KtG(c.filterGlobal(s.globalSearchValue,"contains"))}),t.qZA()()()}if(2&i){const n=t.oxw();t.xp6(4),t.Q6J("ngModel",n.globalSearchValue)}}function o(i,d){1&i&&(t.TgZ(0,"tr")(1,"th")(2,"div",17),t._uU(3,"Code"),t.qZA()(),t.TgZ(4,"th")(5,"div",17),t._uU(6,"Images"),t.qZA()(),t.TgZ(7,"th")(8,"div",17),t._uU(9,"Name"),t.qZA()(),t.TgZ(10,"th")(11,"div",17),t._uU(12,"Description"),t.qZA()(),t.TgZ(13,"th")(14,"div",17),t._uU(15,"Category"),t.qZA()(),t.TgZ(16,"th")(17,"div",17),t._uU(18,"Status"),t.qZA()(),t.TgZ(19,"th")(20,"div",17),t._uU(21,"Colors"),t.qZA()(),t.TgZ(22,"th")(23,"div",17),t._uU(24,"Sizes"),t.qZA()(),t.TgZ(25,"th")(26,"div",17),t._uU(27,"Price"),t.qZA()(),t.TgZ(28,"th")(29,"div",17),t._uU(30,"Source"),t.qZA()(),t.TgZ(31,"th",18)(32,"div",17),t._uU(33,"Edit"),t.qZA()()())}function a(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"input",33),t.NdJ("ngModelChange",function(s){t.CHM(n);const c=t.oxw().$implicit;return t.KtG(c.code=s)}),t.qZA()}if(2&i){const n=t.oxw().$implicit;t.Q6J("ngModel",n.code)}}function p(i,d){if(1&i&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&i){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.code)}}function m(i,d){1&i&&t._UZ(0,"img",34),2&i&&t.Q6J("src",d.$implicit.src,t.LSH)}function C(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"input",33),t.NdJ("ngModelChange",function(s){t.CHM(n);const c=t.oxw().$implicit;return t.KtG(c.name=s)}),t.qZA()}if(2&i){const n=t.oxw().$implicit;t.Q6J("ngModel",n.name)}}function tt(i,d){if(1&i&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&i){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.name)}}function se(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"input",35),t.NdJ("ngModelChange",function(s){t.CHM(n);const c=t.oxw().$implicit;return t.KtG(c.description=s)}),t.qZA()}if(2&i){const n=t.oxw().$implicit;t.Q6J("ngModel",n.description)}}function ce(i,d){if(1&i&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&i){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.description)}}const le=function(){return{width:"100%"}};function pe(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"p-dropdown",36),t.NdJ("ngModelChange",function(s){t.CHM(n);const c=t.oxw().$implicit;return t.KtG(c.category=s)}),t.qZA()}if(2&i){const n=t.oxw().$implicit,r=t.oxw();t.Akn(t.DdM(4,le)),t.Q6J("options",r.categories)("ngModel",n.category)}}function de(i,d){if(1&i&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&i){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.category.name)}}function ue(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"app-product-status",37),t.NdJ("productStatusChange",function(s){t.CHM(n);const c=t.oxw().$implicit;return t.KtG(c.status=s)}),t.qZA()}if(2&i){const n=t.oxw().$implicit;t.Q6J("readOnly",!1)("productStatus",n.status)}}function me(i,d){if(1&i&&(t.TgZ(0,"div",17),t._UZ(1,"app-product-status",38),t.qZA()),2&i){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("sale",n.sale)("productStatus",n.status)}}function _e(i,d){if(1&i&&t._UZ(0,"app-color",39),2&i){const n=d.$implicit;t.Q6J("smallSize",!0)("productColor",n)}}function ge(i,d){if(1&i&&t._UZ(0,"app-size",40),2&i){const n=d.$implicit;t.Q6J("smallSize",!0)("size",n)}}function he(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"div",41)(1,"input",42),t.NdJ("ngModelChange",function(s){t.CHM(n);const c=t.oxw().$implicit;return t.KtG(c.price=s)}),t.qZA(),t.TgZ(2,"span",43),t._uU(3,"$"),t.qZA()()}if(2&i){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",n.price)}}function fe(i,d){if(1&i&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"CurrenciesPipe"),t.qZA()),2&i){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.price))}}function Ce(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().$implicit,c=t.oxw();return t.KtG(c.openAddProductScreen(s))}),t.qZA()}}function ve(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().$implicit,c=t.oxw();return t.KtG(c.onRowEditSave(s))}),t.qZA()}}function xe(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().$implicit,c=t.oxw();return t.KtG(c.onRowEditInit(s))}),t.qZA()}if(2&i){const n=t.oxw(2);t.Q6J("disabled",n.editStarted)}}function be(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"button",47),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(),c=s.$implicit,g=s.rowIndex,v=t.oxw();return t.KtG(v.onRowEditCancel(c,g))}),t.qZA()}}const Te=function(i){return{"bg-primary-50":i}},ye=function(){return{"max-width":"8rem"}};function Se(i,d){if(1&i&&(t.TgZ(0,"tr",19)(1,"td")(2,"p-cellEditor"),t.YNc(3,a,1,1,"ng-template",20),t.YNc(4,p,2,1,"ng-template",21),t.qZA()(),t.TgZ(5,"td")(6,"div",17)(7,"p-galleria",22),t.YNc(8,m,1,1,"ng-template",23),t.qZA()()(),t.TgZ(9,"td")(10,"p-cellEditor"),t.YNc(11,C,1,1,"ng-template",20),t.YNc(12,tt,2,1,"ng-template",21),t.qZA()(),t.TgZ(13,"td")(14,"p-cellEditor"),t.YNc(15,se,1,1,"ng-template",20),t.YNc(16,ce,2,1,"ng-template",21),t.qZA()(),t.TgZ(17,"td")(18,"p-cellEditor"),t.YNc(19,pe,1,5,"ng-template",20),t.YNc(20,de,2,1,"ng-template",21),t.qZA()(),t.TgZ(21,"td")(22,"p-cellEditor"),t.YNc(23,ue,1,2,"ng-template",20),t.YNc(24,me,2,2,"ng-template",21),t.qZA()(),t.TgZ(25,"td")(26,"div",24),t.YNc(27,_e,1,2,"app-color",25),t.qZA()(),t.TgZ(28,"td")(29,"div",24),t.YNc(30,ge,1,2,"app-size",26),t.qZA()(),t.TgZ(31,"td")(32,"p-cellEditor"),t.YNc(33,he,4,1,"ng-template",20),t.YNc(34,fe,3,3,"ng-template",21),t.qZA()(),t.TgZ(35,"td")(36,"div",17),t._UZ(37,"app-product-source",27),t.qZA()(),t.TgZ(38,"td",28),t.YNc(39,Ce,1,0,"button",29),t.YNc(40,ve,1,0,"button",30),t.qZA(),t.TgZ(41,"td",28),t.YNc(42,xe,1,1,"button",31),t.YNc(43,be,1,0,"button",32),t.qZA()()),2&i){const n=d.$implicit,r=d.editing;t.Q6J("pEditableRow",n)("ngClass",t.VKq(15,Te,r)),t.xp6(7),t.Q6J("value",n.otherImages)("containerStyle",t.DdM(17,ye))("numVisible",5)("showThumbnails",!1)("showIndicators",!0)("changeItemOnIndicatorHover",!0),t.xp6(20),t.Q6J("ngForOf",n.productColors),t.xp6(3),t.Q6J("ngForOf",n.availableSizes),t.xp6(7),t.Q6J("availableSource",n.productAdministrativeData),t.xp6(2),t.Q6J("ngIf",!r),t.xp6(1),t.Q6J("ngIf",r),t.xp6(2),t.Q6J("ngIf",!r),t.xp6(1),t.Q6J("ngIf",r)}}const Pe=function(){return[10,25,50]},Ze=function(){return["searchKey"]};let oe=(()=>{class i{constructor(n,r,s,c){this.activatedRoute=n,this.confirmationService=r,this.productService=s,this.apiService=c,this.products=[],this.categories=[],this.status=[],this.globalSearchValue="",this.editStarted=!1}ngOnInit(){let n=this.activatedRoute.snapshot.paramMap.get("code");(0,w.z)(this.productService.getProducts()).then(r=>{this.products=r,n&&(this.globalSearchValue=n,this.dt.filterGlobal(n,"contains"))}),(0,w.z)(this.apiService.getCategories()).then(r=>this.categories=r)}onRowEditInit(n){this.editStarted=!0,this.clonedProduct=JSON.stringify(n)}openAddProductScreen(n){let r=this.productService.EditInAddProductScreen(n);r&&this.confirmationService.confirm(r)}onRowEditSave(n){(0,w.z)(this.productService.editProductWithoutChild(n)).finally(()=>this.editStarted=!1)}onRowEditCancel(n,r){this.editStarted=!1,this.clonedProduct&&(this.products[r]=JSON.parse(this.clonedProduct)),delete this.clonedProduct}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(J.gz),t.Y36(T.YP),t.Y36(A.s),t.Y36(q.s))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-maintain-products"]],viewQuery:function(n,r){if(1&n&&t.Gf(l,5),2&n){let s;t.iGM(s=t.CRH())&&(r.dt=s.first)}},decls:14,vars:9,consts:[[1,"grid","m-2","lg:m-4"],[1,"col-12"],[1,"card"],[1,"text-900","font-bold","text-3xl","mb-3"],[1,"pi","pi-tags","text-3xl","font-bold"],[1,"ml-5","mb-5","font-medium","text-700","text-md"],["key","globalConfirmDialog","appendTo","body","rejectButtonStyleClass","p-button-outlined ","icon","pi pi-question",3,"transitionOptions"],["dataKey","id","editMode","row","responsiveLayout","scroll",3,"value","loading","paginator","rows","rowsPerPageOptions","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-between","align-items-center"],[1,"text-2xl","font-bold"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Global Search",3,"ngModel","ngModelChange","input"],[1,"flex","justify-content-center"],["colspan","2"],[3,"pEditableRow","ngClass"],["pTemplate","input"],["pTemplate","output"],[3,"value","containerStyle","numVisible","showThumbnails","showIndicators","changeItemOnIndicatorHover"],["pTemplate","item"],[1,"w-12","flex","flex-wrap","justify-content-center"],["class","m-1",3,"smallSize","productColor",4,"ngFor","ngForOf"],["class","m-1",3,"smallSize","size",4,"ngFor","ngForOf"],[3,"availableSource"],[2,"text-align","center"],["pButton","","pRipple","","type","button","icon","pi pi-file-edit","class","p-button-rounded p-button-text",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","class","p-button-rounded p-button-sm m-1",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","class","p-button-rounded p-button-text",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","class","p-button-rounded p-button-sm m-1 p-button-outlined",3,"click",4,"ngIf"],["pInputText","","type","text","required","",3,"ngModel","ngModelChange"],["loading","lazy","fetchpriority","auto",2,"width","100%","display","block","border-radius","0.5rem",3,"src"],["pInputText","","type","text",3,"ngModel","ngModelChange"],["appendTo","body","dataKey","id","optionLabel","name",3,"options","ngModel","ngModelChange"],[3,"readOnly","productStatus","productStatusChange"],[3,"sale","productStatus"],[1,"m-1",3,"smallSize","productColor"],[1,"m-1",3,"smallSize","size"],[1,"p-inputgroup","w-6rem"],["pInputText","","type","text",1,"w-4rem",3,"ngModel","ngModelChange"],[1,"p-inputgroup-addon"],["pButton","","pRipple","","type","button","icon","pi pi-file-edit",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check",1,"p-button-rounded","p-button-sm","m-1",3,"click"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil",1,"p-button-rounded","p-button-text",3,"disabled","click"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-sm","m-1","p-button-outlined",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"i",4),t._uU(5," Dantel Products "),t.qZA(),t.TgZ(6,"p",5),t._uU(7,"Products Maintenance Center"),t.qZA(),t._UZ(8,"p-confirmDialog",6),t.TgZ(9,"p-table",7,8),t.YNc(11,_,5,1,"ng-template",9),t.YNc(12,o,34,0,"ng-template",10),t.YNc(13,Se,44,18,"ng-template",11),t.qZA()()()()),2&n&&(t.xp6(8),t.Q6J("transitionOptions","60ms"),t.xp6(1),t.Q6J("value",r.products)("loading",r.productService.waitingForProducts)("paginator",!0)("rows",10)("rowsPerPageOptions",t.DdM(7,Pe))("globalFilterFields",t.DdM(8,Ze)))},dependencies:[f.mk,f.sg,f.O5,y.iA,T.jx,y.YL,y.D$,y.Pv,y.U1,y.wT,h.Fj,h.JJ,h.Q7,h.On,Q.Lt,x.Hq,I.o,k.dz,ee.m,gt.R,ut.a,R.Q,Y.$,$.F]}),i})();var we=u(7697),Me=u(4209);function Ae(i,d){1&i&&t._UZ(0,"div")}function ke(i,d){1&i&&(t.TgZ(0,"small",18),t._uU(1,"code is required."),t.qZA())}function Ie(i,d){1&i&&(t.TgZ(0,"small",20),t._uU(1,"code must contains 6 hexadecimal digit."),t.qZA())}function Fe(i,d){if(1&i&&t.YNc(0,Ie,2,0,"small",19),2&i){t.oxw(2);const n=t.MAs(19);t.Q6J("ngIf",n.errors&&n.errors.SyntaxError)}}function Je(i,d){if(1&i&&(t.TgZ(0,"div",14),t.YNc(1,Ae,1,0,"div",15),t.YNc(2,ke,2,0,"ng-template",null,16,t.W1O),t.YNc(4,Fe,1,1,"ng-template",null,17,t.W1O),t.qZA()),2&i){const n=t.MAs(3),r=t.MAs(5);t.oxw();const s=t.MAs(19);t.xp6(1),t.Q6J("ngIf",s.errors&&s.errors.required)("ngIfThen",n)("ngIfElse",r)}}function qe(i,d){1&i&&(t.TgZ(0,"small",20),t._uU(1,"name is required."),t.qZA())}function Oe(i,d){if(1&i&&(t.TgZ(0,"div",14),t.YNc(1,qe,2,0,"small",19),t.qZA()),2&i){t.oxw();const n=t.MAs(25);t.xp6(1),t.Q6J("ngIf",n.errors&&n.errors.required)}}const Ne=function(i){return{"ng-invalid ng-dirty":i}};function Ee(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"tr")(1,"th")(2,"div",4),t._uU(3,"color"),t.qZA()(),t.TgZ(4,"th")(5,"div",4),t._uU(6,"code"),t.qZA()(),t.TgZ(7,"th")(8,"div",4),t._uU(9,"name"),t.qZA()(),t._UZ(10,"th"),t.qZA(),t.TgZ(11,"tr")(12,"th")(13,"div",5),t._UZ(14,"app-color",6),t.qZA()(),t.TgZ(15,"th")(16,"div",4)(17,"div",7)(18,"p-inputMask",8,9),t.NdJ("ngModelChange",function(s){t.CHM(n);const c=t.oxw();return t.KtG(c.entredCode=s)})("onComplete",function(){t.CHM(n);const s=t.oxw(),c=t.MAs(1);return s.onComplete(),t.KtG(c.filter(s.newColor.code,"code","similarColors"))})("onInput",function(){t.CHM(n);const s=t.oxw(),c=t.MAs(1);return t.KtG(s.maskCompleted&&s.onChange()&&c.filter("","code","similarColors"))}),t.qZA(),t.YNc(20,Je,6,3,"div",10),t.qZA()()(),t.TgZ(21,"th")(22,"div",4)(23,"div",7)(24,"input",11,12),t.NdJ("input",function(){t.CHM(n);const s=t.oxw(),c=t.MAs(1);return t.KtG(c.filter(s.newColor.name,"name","contains"))})("ngModelChange",function(s){t.CHM(n);const c=t.oxw();return t.KtG(c.newColor.name=s)}),t.qZA(),t.YNc(26,Oe,2,1,"div",10),t.qZA()()(),t.TgZ(27,"th")(28,"p-button",13),t.NdJ("click",function(){t.CHM(n);const s=t.MAs(19),c=t.MAs(25),g=t.oxw(),v=t.MAs(1);return t.KtG(g.addColor(s,c,v))}),t.qZA()()()}if(2&i){const n=t.MAs(19),r=t.MAs(25),s=t.oxw();t.xp6(14),t.Q6J("color",s.newColor),t.xp6(4),t.Q6J("ngModel",s.entredCode)("required",!0),t.xp6(2),t.Q6J("ngIf",n.dirty||n.touched),t.xp6(4),t.Q6J("ngClass",t.VKq(8,Ne,r.invalid&&(r.dirty||r.touched)))("ngModel",s.newColor.name),t.xp6(2),t.Q6J("ngIf",r.dirty||r.touched),t.xp6(2),t.Q6J("loading",s.loading)}}function Ue(i,d){if(1&i&&(t.TgZ(0,"tr")(1,"td")(2,"div",5),t._UZ(3,"app-color",6),t.qZA()(),t.TgZ(4,"td")(5,"div",4),t._uU(6),t.qZA()(),t.TgZ(7,"td")(8,"div",4),t._uU(9),t.qZA()(),t._UZ(10,"td"),t.qZA()),2&i){const n=d.$implicit;t.xp6(3),t.Q6J("color",n),t.xp6(3),t.Oqu(n.code),t.xp6(3),t.Oqu(n.name)}}let Qe=(()=>{class i{constructor(n,r,s,c){this.apiService=n,this.productsService=r,this.globalService=s,this.filterService=c,this.newColor=new we.I,this.loading=!1,this.maskCompleted=!1}ngOnInit(){this.productsService.getAvailableColors().then(n=>this.colors=n),this.filterService.register("similarColors",(n,r)=>null==r||""===r.trim()||null!=n&&this.globalService.isColorsSimilar(n,r))}addColor(n,r,s){n.control?.markAsTouched(),r.control?.markAsTouched(),!n.invalid&&!r.invalid&&(this.newColor.id=-1,this.loading=!0,this.apiService.editColor(this.newColor).subscribe(c=>{c&&(this.colors.unshift(c),this.newColor.code="",this.newColor.name="",this.entredCode="",n.control?.reset(),r.control?.reset(),s.filter("","name","contains"),s.filter("","code","similarColors")),this.loading=!1}))}onChange(){return this.maskCompleted=!1,this.newColor.code="",!0}onComplete(){this.maskCompleted=!0,this.entredCode=this.entredCode.toUpperCase(),this.newColor.code=this.entredCode}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(q.s),t.Y36(A.s),t.Y36(Me.U),t.Y36(T.iZ))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-maintain-colors"]],decls:4,vars:3,consts:[["dataKey","id","responsiveLayout","scroll",3,"value","rows","paginator"],["dt_color",""],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-center"],[1,"w-12","flex","flex-wrap","justify-content-center"],[1,"m-1",3,"color"],[1,"field"],["slotChar"," ","placeholder","#000000","mask","#******","characterPattern","[0-9a-fA-F]",3,"ngModel","required","ngModelChange","onComplete","onInput"],["code","ngModel"],["class","block font-light",4,"ngIf"],["pInputText","","type","text","required","",1,"p-column-filter",3,"ngClass","ngModel","input","ngModelChange"],["name","ngModel"],["label","add","icon","pi pi-save","styleClass","p-button-rounded p-button-text ",3,"loading","click"],[1,"block","font-light"],[4,"ngIf","ngIfThen","ngIfElse"],["ifStatement",""],["elseStatement",""],[1,"p-error"],["class","p-error block",4,"ngIf"],[1,"p-error","block"]],template:function(n,r){1&n&&(t.TgZ(0,"p-table",0,1),t.YNc(2,Ee,29,10,"ng-template",2),t.YNc(3,Ue,11,3,"ng-template",3),t.qZA()),2&n&&t.Q6J("value",r.colors)("rows",10)("paginator",!0)},dependencies:[f.mk,f.O5,y.iA,T.jx,h.Fj,h.JJ,h.Q7,h.On,x.zx,I.o,gt.R,B.vy]}),i})();var M=(()=>{return(i=M||(M={}))[i.CLOTHES_COMPANY=5]="CLOTHES_COMPANY",i[i.SHIPPING_COMPANY=6]="SHIPPING_COMPANY",i[i.DELIVERING_COMPANY=7]="DELIVERING_COMPANY",M;var i})(),Ye=u(3509),ie=u(4325);function De(i,d){1&i&&t._UZ(0,"img",27)}function Re(i,d){1&i&&t._UZ(0,"img",28)}function Le(i,d){1&i&&t._UZ(0,"img",29)}const ht=function(){return{width:"100%"}};let je=(()=>{class i{constructor(n,r,s){this.ref=n,this.productService=r,this.apiService=s,this.saveLoading=!1,this.CompanyType=M}ngOnInit(){this.companyTypes=[{key:"Clothes Company",value:M.CLOTHES_COMPANY},{key:"Shipping Company",value:M.SHIPPING_COMPANY},{key:"Delivering Company",value:M.DELIVERING_COMPANY}],this.productService.selectedCompany||(this.productService.selectedCompany=new Ye.Y,this.productService.selectedCompany.id=-1,this.productService.selectedCompany.qualityRate=0,this.productService.selectedCompany.valueForMoneyRate=0),this.productService.selectedCompany&&(this.company=this.productService.selectedCompany)}submit(){this.saveLoading=!0,(0,w.z)(this.apiService.editCompany(this.company)).then(n=>{n.id&&n.id>0&&this.ref.close(n)}).finally(()=>this.saveLoading=!1)}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(ie.E7),t.Y36(A.s),t.Y36(q.s))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-source-editor"]],decls:41,vars:32,consts:[[1,"grid","overflow-auto",2,"max-height","75vh"],[1,"col-12"],["CompanyForm","ngForm"],[1,"grid"],[1,"col-12","mb-4","flex","justify-content-center"],[1,"border-circle","surface-200","w-6rem","h-6rem","flex","align-items-center","justify-content-center"],[3,"ngSwitch"],["height","60","width","60","ngSrc","assets/images/svg/ship.svg",4,"ngSwitchCase"],["height","60","width","60","ngSrc","assets/images/svg/truck.svg",4,"ngSwitchCase"],["height","60","width","60","ngSrc","assets/images/svg/dress.svg",4,"ngSwitchDefault"],[1,"col-12","lg:col-6"],[1,"field"],["for","name",1,"block"],["id","name","name","name","type","title","pInputText","",3,"required","ngModel","ngModelChange"],["for","webLink",1,"block"],["id","webLink","name","webLink","type","description","pInputText","",3,"required","ngModel","ngModelChange"],[1,"field","w-full"],["for","type",1,"block"],["name","type","appendTo","body","optionLabel","key","optionValue","value","placeholder","Select Company Type",1,"ng-invalid",3,"required","options","ngModel","autoDisplayFirst","filter","ngModelChange"],["for","description",1,"block"],["id","description","name","description","type","description","pInputText","",3,"ngModel","ngModelChange"],[1,"col-12","lg:col-6","flex","my-2"],[1,"mx-2","w-10rem","text-color-secondary","text-sm"],["name","vfm","iconOnClass","pi pi-star-fill text-primary",3,"cancel","ngModel","ngModelChange"],["name","quality","iconOnClass","pi pi-star-fill text-primary",3,"cancel","ngModel","ngModelChange"],[1,"col-12","flex","justify-content-end"],["pButton","","type","button","icon","pi pi-save",3,"disabled","loading","label","click"],["height","60","width","60","ngSrc","assets/images/svg/ship.svg"],["height","60","width","60","ngSrc","assets/images/svg/truck.svg"],["height","60","width","60","ngSrc","assets/images/svg/dress.svg"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",null,2)(4,"div",3)(5,"div",4)(6,"div",5),t.ynx(7,6),t.YNc(8,De,1,0,"img",7),t.YNc(9,Re,1,0,"img",8),t.YNc(10,Le,1,0,"img",9),t.BQk(),t.qZA()(),t.TgZ(11,"div",10)(12,"div",11)(13,"label",12),t._uU(14,"Name"),t.qZA(),t.TgZ(15,"input",13),t.NdJ("ngModelChange",function(c){return r.company.name=c}),t.qZA()()(),t.TgZ(16,"div",10)(17,"div",11)(18,"label",14),t._uU(19,"WebLink"),t.qZA(),t.TgZ(20,"input",15),t.NdJ("ngModelChange",function(c){return r.company.webLink=c}),t.qZA()()(),t.TgZ(21,"div",10)(22,"div",16)(23,"label",17),t._uU(24,"Company Type"),t.qZA(),t.TgZ(25,"p-dropdown",18),t.NdJ("ngModelChange",function(c){return r.company.companyTypeId=c}),t.qZA()()(),t.TgZ(26,"div",10)(27,"div",11)(28,"label",19),t._uU(29,"Description"),t.qZA(),t.TgZ(30,"input",20),t.NdJ("ngModelChange",function(c){return r.company.description=c}),t.qZA()()(),t.TgZ(31,"div",21)(32,"div",22),t._uU(33,"Value For Money :"),t.qZA(),t.TgZ(34,"p-rating",23),t.NdJ("ngModelChange",function(c){return r.company.valueForMoneyRate=c}),t.qZA()(),t.TgZ(35,"div",21)(36,"div",22),t._uU(37,"Quality :"),t.qZA(),t.TgZ(38,"p-rating",24),t.NdJ("ngModelChange",function(c){return r.company.qualityRate=c}),t.qZA()(),t.TgZ(39,"div",25)(40,"button",26),t.NdJ("click",function(){return r.submit()}),t.qZA()()()()()()),2&n){const s=t.MAs(3);t.xp6(7),t.Q6J("ngSwitch",r.company.companyTypeId),t.xp6(1),t.Q6J("ngSwitchCase",r.CompanyType.SHIPPING_COMPANY),t.xp6(1),t.Q6J("ngSwitchCase",r.CompanyType.DELIVERING_COMPANY),t.xp6(6),t.Akn(t.DdM(28,ht)),t.Q6J("required",!0)("ngModel",r.company.name),t.xp6(5),t.Akn(t.DdM(29,ht)),t.Q6J("required",!0)("ngModel",r.company.webLink),t.xp6(5),t.Akn(t.DdM(30,ht)),t.Q6J("required",!0)("options",r.companyTypes)("ngModel",r.company.companyTypeId)("autoDisplayFirst",!1)("filter",!1),t.xp6(5),t.Akn(t.DdM(31,ht)),t.Q6J("ngModel",r.company.description),t.xp6(4),t.Q6J("cancel",!1)("ngModel",r.company.valueForMoneyRate),t.xp6(4),t.Q6J("cancel",!1)("ngModel",r.company.qualityRate),t.xp6(2),t.s9C("label",-1===r.company.id?"Add":"Edit"),t.Q6J("disabled",!s.valid)("loading",r.saveLoading)}},dependencies:[f.RF,f.n9,f.ED,h._Y,h.Fj,h.JJ,h.JL,h.Q7,h.On,h.F,Q.Lt,x.Hq,I.o,f.Zd,b.iG]}),i})();var re=u(1235);const Be=["dv"];function Ve(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"div",13)(1,"button",14),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.showDialog())}),t.qZA(),t.TgZ(2,"span",15),t._UZ(3,"i",16),t.TgZ(4,"input",17),t.NdJ("input",function(s){t.CHM(n),t.oxw();const c=t.MAs(12);return t.KtG(c.filter(s.target.value))}),t.qZA()()()}}function Ge(i,d){1&i&&t._UZ(0,"img",34)}function ze(i,d){1&i&&t._UZ(0,"img",35)}function He(i,d){1&i&&t._UZ(0,"img",36)}function Ke(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"div",18)(1,"div",19)(2,"div",20),t.ynx(3,21),t.YNc(4,Ge,1,0,"img",22),t.YNc(5,ze,1,0,"img",23),t.YNc(6,He,1,0,"img",24),t.BQk(),t.qZA()(),t.TgZ(7,"div",25)(8,"div",26),t._uU(9),t.qZA(),t.TgZ(10,"div",27),t._uU(11),t.qZA(),t.TgZ(12,"div",28)(13,"div",29),t._uU(14,"Quality :"),t.qZA(),t.TgZ(15,"p-rating",30),t.NdJ("ngModelChange",function(s){const g=t.CHM(n).$implicit;return t.KtG(g.qualityRate=s)}),t.qZA()(),t.TgZ(16,"div",28)(17,"div",29),t._uU(18,"Value For Money :"),t.qZA(),t.TgZ(19,"p-rating",30),t.NdJ("ngModelChange",function(s){const g=t.CHM(n).$implicit;return t.KtG(g.valueForMoneyRate=s)}),t.qZA()()(),t.TgZ(20,"div",31)(21,"button",32),t.NdJ("click",function(){const c=t.CHM(n).$implicit,g=t.oxw();return t.KtG(g.showDialog(c))}),t.qZA(),t._UZ(22,"a",33),t.qZA()()}if(2&i){const n=d.$implicit,r=t.oxw();t.xp6(3),t.Q6J("ngSwitch",n.companyType.id),t.xp6(1),t.Q6J("ngSwitchCase",r.CompanyType.SHIPPING_COMPANY),t.xp6(1),t.Q6J("ngSwitchCase",r.CompanyType.DELIVERING_COMPANY),t.xp6(4),t.hij(" ",n.name," "),t.xp6(2),t.hij(" ",n.companyType.value," "),t.xp6(4),t.Q6J("readonly",!0)("cancel",!1)("ngModel",n.qualityRate),t.xp6(4),t.Q6J("readonly",!0)("cancel",!1)("ngModel",n.valueForMoneyRate),t.xp6(3),t.Q6J("href",n.webLink,t.LSH)}}let $e=(()=>{class i{constructor(n,r,s,c,g,v){this.filterService=n,this.productService=r,this.responsive=s,this.apiService=c,this.dialogService=g,this.messageService=v,this.CompanyType=M,this.largeLayout=!1}ngOnInit(){this.apiService.getCompaniesByOwnerIdAdv().subscribe(n=>this.companies=n),this.responsive.observe(re.u3.Large).subscribe(n=>{this.largeLayout=n.matches}),this.sortOptions=[{label:"Sort By Quality",value:"qualityRate"},{label:"Sort By Value For Money",value:"valueForMoneyRate"}],this.companyTypes=[{key:"Clothes Company",value:M.CLOTHES_COMPANY},{key:"Shipping Company",value:M.SHIPPING_COMPANY},{key:"Delivering Company",value:M.DELIVERING_COMPANY}]}showDialog(n){let r=null==n,s=-1;n&&(s=this.companies.indexOf(n)),this.productService.selectedCompany=n,this.editorDialogRef=this.dialogService.open(je,{header:"Source Editor",width:this.largeLayout?"70%":"90%",contentStyle:{overflow:"hidden"},baseZIndex:1e4,maximizable:!0}),this.editorDialogRef.onClose.subscribe(c=>{c&&(r?(this.companies.unshift(c),this.messageService.add({key:"homeToast",severity:"success",summary:"Success",detail:"Adding Company Successfuly Done"})):(s>0&&(this.companies[s]=c),this.messageService.add({key:"homeToast",severity:"success",summary:"Success",detail:"Editing Company Successfuly Done"})))})}filterByCompanyType(n){this.dataView.filterValue=n,this.dataView.value&&this.dataView.value.length&&(this.dataView.filteredValue=this.dataView.filterService.filter(this.dataView.value,["companyTypeId"],n,"contains",this.dataView.filterLocale),this.dataView.filteredValue.length===this.dataView.value.length&&(this.dataView.filteredValue=[]),this.dataView.paginator&&(this.dataView.first=0,this.dataView.totalRecords=this.dataView.filteredValue?this.dataView.filteredValue.length:this.dataView.value?this.dataView.value.length:0),this.dataView.cd.markForCheck())}ngOnDestroy(){this.editorDialogRef&&this.editorDialogRef.close()}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(T.iZ),t.Y36(A.s),t.Y36(re.Yg),t.Y36(q.s),t.Y36(ie.xA),t.Y36(T.ez))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-all-sources"]],viewQuery:function(n,r){if(1&n&&t.Gf(Be,5),2&n){let s;t.iGM(s=t.CRH())&&(r.dataView=s.first)}},decls:15,vars:11,consts:[[1,"grid","m-2","lg:m-4"],[1,"col-12"],[1,"text-900","font-bold","text-3xl","mb-3"],[1,"pi","pi-link","text-3xl","font-bold"],[1,"ml-5","mb-5","font-medium","text-700","text-md"],[1,"flex","justify-content-center","align-items-center","flex-column","lg:flex-row","b-4"],["name","type","styleClass","w-16rem m-2","appendTo","body","optionLabel","key","optionValue","value","placeholder","Filter By Company Type",1,"ng-invalid",3,"required","options","autoDisplayFirst","filter","onChange"],["placeholder","Sort By Rate","styleClass","w-16rem m-2",3,"options","ngModel","ngModelChange"],[1,"card"],["filterBy","name",3,"sortField","sortOrder","value","paginator","rows"],["dv",""],["pTemplate","header"],["pTemplate","listItem"],[1,"flex","justify-content-between"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded","p-button-outlined","mx-2",3,"click"],[1,"p-input-icon-left","mb-2","md:mb-0"],[1,"pi","pi-search"],["type","search","pInputText","","placeholder","Search By Name",3,"input"],[1,"grid","my-2","w-12"],[1,"col-12","lg:col-2","flex","align-items-center","justify-content-center"],[1,"border-circle","surface-200","w-6rem","h-6rem","flex","align-items-center","justify-content-center"],[3,"ngSwitch"],["height","60","width","60","ngSrc","assets/images/svg/ship.svg",4,"ngSwitchCase"],["height","60","width","60","ngSrc","assets/images/svg/truck.svg",4,"ngSwitchCase"],["height","60","width","60","ngSrc","assets/images/svg/dress.svg",4,"ngSwitchDefault"],[1,"col-12","lg:col-6","flex","flex-column","align-items-center"],[1,"my-2","font-bold","text-2xl"],[1,"my-2","text-color-secondary","font-semibold"],[1,"my-2","flex"],[1,"mx-2","text-color-secondary","text-sm"],["iconOnClass","pi pi-star-fill text-primary",3,"readonly","cancel","ngModel","ngModelChange"],[1,"col-12","lg:col-4","py-2","flex","align-items-center","justify-content-center","lg:justify-content-end"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-outlined","mx-2",3,"click"],["pButton","","pRipple","","type","submit","icon","pi pi-external-link","target","_blank",1,"p-button-rounded","mx-2",3,"href"],["height","60","width","60","ngSrc","assets/images/svg/ship.svg"],["height","60","width","60","ngSrc","assets/images/svg/truck.svg"],["height","60","width","60","ngSrc","assets/images/svg/dress.svg"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"i",3),t._uU(4," All Sources "),t.qZA(),t.TgZ(5,"p",4),t._uU(6,"All Clothes Companies Sources"),t.qZA(),t.TgZ(7,"div",5)(8,"p-dropdown",6),t.NdJ("onChange",function(c){return r.filterByCompanyType(c.value)}),t.qZA(),t.TgZ(9,"p-dropdown",7),t.NdJ("ngModelChange",function(c){return r.sortField=c}),t.qZA()(),t.TgZ(10,"div",8)(11,"p-dataView",9,10),t.YNc(13,Ve,5,0,"ng-template",11),t.YNc(14,Ke,23,12,"ng-template",12),t.qZA()()()()),2&n&&(t.xp6(8),t.Q6J("required",!0)("options",r.companyTypes)("autoDisplayFirst",!1)("filter",!1),t.xp6(1),t.Q6J("options",r.sortOptions)("ngModel",r.sortField),t.xp6(2),t.Q6J("sortField",r.sortField)("sortOrder",-1)("value",r.companies)("paginator",!0)("rows",6))},dependencies:[f.RF,f.n9,f.ED,T.jx,h.JJ,h.On,Q.Lt,x.Hq,I.o,f.Zd,b.iG,L.VO]}),i})();var We=u(4469),Xe=u(5773),tn=u(1236);let en=(()=>{class i{constructor(n,r){this.productsService=n,this.storageService=r}ngOnDestroy(){this.productsService.saveEditingProgress(),this.productsService.unSelectProduct()}ngOnInit(){let n=this.storageService.editingProduct;n?this.productsService.selectedProduct=n:(this.productsService.selectedProduct=new We.x,this.productsService.selectedProduct.id=-1),this.items=[{label:"general",routerLink:["general"]},{label:"colors",routerLink:["colors"]},{label:"images",routerLink:["images"]},{label:"sizes",routerLink:["sizes"]},{label:"sources",routerLink:["sources"]},{label:"confirm",routerLink:["confirm"]}]}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(A.s),t.Y36(Xe.V))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-product"]],decls:10,vars:2,consts:[[1,"grid","m-2","lg:m-4"],[1,"col-12"],[1,"card"],[1,"pi","pi-star-fill","text-2xl","font-bold"],[1,"overflow-x-scroll","py-2"],["styleClass","w-full",3,"model","readonly"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._UZ(4,"i",3),t._uU(5," New Product "),t.qZA(),t.TgZ(6,"div",4),t._UZ(7,"p-steps",5),t.qZA()()(),t.TgZ(8,"div",1),t._UZ(9,"router-outlet"),t.qZA()()),2&n&&(t.xp6(7),t.Q6J("model",r.items)("readonly",!1))},dependencies:[tn.R,J.lC],styles:["[_nghost-%COMP%]  .p-steps-item{min-width:8rem}"]}),i})();var nn=u(9878);const on=["dt"];function rn(i,d){1&i&&(t.TgZ(0,"tr")(1,"th")(2,"div",14),t._uU(3," Details "),t.qZA()(),t.TgZ(4,"th")(5,"div",15),t._uU(6,"Code"),t.qZA()(),t.TgZ(7,"th")(8,"div",15),t._uU(9,"Images"),t.qZA()(),t.TgZ(10,"th")(11,"div",15),t._uU(12,"Category"),t.qZA()(),t.TgZ(13,"th")(14,"div",15),t._uU(15,"Check Prices"),t.qZA()(),t.TgZ(16,"th")(17,"div",15),t._uU(18,"Price"),t.qZA()(),t.TgZ(19,"th")(20,"div",15),t._uU(21,"Source"),t.qZA()(),t.TgZ(22,"th")(23,"div",16),t._uU(24,"Rating"),t.qZA()(),t.TgZ(25,"th")(26,"div",15),t._uU(27,"Control"),t.qZA()()())}function an(i,d){1&i&&t._UZ(0,"img",33),2&i&&t.Q6J("src",d.$implicit.src,t.LSH)}function sn(i,d){if(1&i&&(t.TgZ(0,"div",35)(1,"span",36),t._uU(2),t.ALo(3,"date"),t.qZA(),t._uU(4),t.qZA()),2&i){const n=d.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,2,n.dateAsString,"MM/yyyy"),": "),t.xp6(2),t.hij(" ",n.sourcePrice,"$ ")}}function cn(i,d){if(1&i&&(t.ynx(0),t.YNc(1,sn,5,5,"div",34),t.BQk()),2&i){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.checkPrices)}}function ln(i,d){1&i&&(t.TgZ(0,"span",37),t._uU(1," No Check Price "),t.qZA())}function pn(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(2),c=s.$implicit,g=s.rowIndex,v=t.oxw();return t.KtG(v.sendCheckPriceRequest(c,g))}),t.qZA()}if(2&i){const n=t.oxw(2).rowIndex,r=t.oxw();t.Q6J("loading",r.sendCheckPriceRequestLoadingIndex===n)}}function dn(i,d){if(1&i&&(t.TgZ(0,"div",28),t.YNc(1,pn,1,1,"button",38),t.qZA()),2&i){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",n.id>0)}}const un=function(){return{"max-width":"10rem"}},mn=function(i){return["/administrative/products/maintain-products/",i]};function _n(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"div",15)(3,"button",17),t.NdJ("click",function(){const c=t.CHM(n).$implicit,g=t.oxw();return t.KtG(g.showProductDetails(c))}),t.qZA()()(),t.TgZ(4,"td")(5,"div",15),t._uU(6),t.qZA()(),t.TgZ(7,"td")(8,"div",15)(9,"p-galleria",18),t.YNc(10,an,1,1,"ng-template",19),t.qZA()()(),t.TgZ(11,"td")(12,"div",15),t._uU(13),t.qZA()(),t.TgZ(14,"td")(15,"div",20),t.YNc(16,cn,2,1,"ng-container",21),t.YNc(17,ln,2,0,"ng-template",null,22,t.W1O),t.qZA()(),t.TgZ(19,"td")(20,"div",15),t._uU(21),t.ALo(22,"CurrenciesPipe"),t.qZA()(),t.TgZ(23,"td")(24,"div",15),t._UZ(25,"app-product-source",23),t.qZA()(),t.TgZ(26,"td")(27,"div",24)(28,"p-rating",25),t.NdJ("ngModelChange",function(s){const g=t.CHM(n).$implicit;return t.KtG(g.rating=s)}),t.qZA()()(),t.TgZ(29,"td")(30,"div",26),t.YNc(31,dn,2,1,"div",27),t.TgZ(32,"div",28)(33,"button",29),t.NdJ("click",function(){const c=t.CHM(n).$implicit,g=t.oxw();return t.KtG(g.openAddProductScreen(c))}),t.qZA(),t._UZ(34,"button",30),t.qZA(),t.TgZ(35,"div",28)(36,"button",31),t.NdJ("click",function(){const c=t.CHM(n).$implicit,g=t.oxw();return t.KtG(g.copyInstagramData(c))}),t.qZA(),t.TgZ(37,"button",32),t.NdJ("click",function(){const c=t.CHM(n).$implicit,g=t.oxw();return t.KtG(g.showTranslatedStringDialog(c))}),t.qZA()()()()()}if(2&i){const n=d.$implicit,r=t.MAs(18),s=t.oxw();t.xp6(6),t.Oqu(n.code),t.xp6(3),t.Q6J("value",n.otherImages)("containerStyle",t.DdM(21,un))("numVisible",5)("showThumbnails",!1)("showIndicators",!0)("changeItemOnIndicatorHover",!0),t.xp6(4),t.Oqu(n.category.name),t.xp6(3),t.Q6J("ngIf",n.checkPrices)("ngIfElse",r),t.xp6(5),t.Oqu(t.lcZ(22,19,n.price)),t.xp6(4),t.Q6J("availableSource",n.productAdministrativeData),t.xp6(3),t.Q6J("cancel",!1)("readonly",!0)("ngModel",n.rating),t.xp6(3),t.Q6J("ngIf",s.commonService.hasSellerRole),t.xp6(3),t.Q6J("routerLink",t.VKq(22,mn,n.code)),t.xp6(2),t.Q6J("loading",s.copyInstagramLoading),t.xp6(1),t.Q6J("loading",s.copyWhatsappLoading)}}const gn=function(){return[10,25,50]},hn=function(){return["searchKey"]};let ae=(()=>{class i{constructor(n,r,s,c,g,v,D){this.settingsService=n,this.messageService=r,this.firebaseService=s,this.commonService=c,this.confirmationService=g,this.activatedRoute=v,this.productService=D,this.products=[],this.initialSearchValue="",this.copyInstagramLoading=!1,this.copyWhatsappLoading=!1,this.translatedStringDialogToggel=!1,this.aTranslatedString="\n\u0627\u0644\u0623\u0644\u0648\u0627\u0646 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629 :"}ngOnInit(){let n=this.activatedRoute.snapshot.paramMap.get("code");this.firebaseService.fillProductsCheckPricesList(),(0,w.z)(this.productService.getProducts()).then(r=>{this.products=r,n&&(this.initialSearchValue=n,this.dt.filterGlobal(n,"contains"))})}sendCheckPriceRequest(n,r){this.sendCheckPriceRequestLoadingIndex=r;let s=new E;s.productId=n.id,s.imageLink=n.otherImages[0].src,s.sourceLink=n.productAdministrativeData[0].sourceLink,this.firebaseService.addCheckPriceRequest(s).then(c=>{n.checkPrices||(n.checkPrices=[]),n.checkPrices.unshift(new ct(s))}).finally(()=>this.sendCheckPriceRequestLoadingIndex=void 0)}openAddProductScreen(n){let r=this.productService.EditInAddProductScreen(n);r&&this.confirmationService.confirm(r)}showProductDetails(n){this.productService.selectedProduct=n,this.productService.endSelection(),this.productService.openProductDetailsDialog()}copyInstagramData(n){this.copyInstagramLoading=!0,this.settingsService.copyInstagramData(n).then(()=>{this.messageService.add({key:"homeToast",severity:"success",summary:"Copy Succeeded",detail:n.name+" details Copied To Clipboard"})}).finally(()=>this.copyInstagramLoading=!1)}showTranslatedStringDialog(n){this.translatedStringDialogToggel=!0,this.selectedProduct=n}copyWhatsappData(){this.translatedStringDialogToggel=!1,this.copyWhatsappLoading=!0,this.settingsService.copyWhatsappData(this.selectedProduct,this.aTranslatedString).then(()=>{this.messageService.add({key:"homeToast",severity:"success",summary:"Copy Succeeded",detail:this.selectedProduct.name+" details Copied To Clipboard"})}).finally(()=>this.copyWhatsappLoading=!1)}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(nn.g),t.Y36(T.ez),t.Y36(G.O),t.Y36(lt.v),t.Y36(T.YP),t.Y36(J.gz),t.Y36(A.s))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-products-control-center"]],viewQuery:function(n,r){if(1&n&&t.Gf(on,5),2&n){let s;t.iGM(s=t.CRH())&&(r.dt=s.first)}},decls:15,vars:14,consts:[[1,"grid","m-2","lg:m-4"],[1,"col-12"],["icon","pi pi-sliders-h","title","Dantel Products","subTitle","Products Control Center",3,"initialValue","onSearch"],[1,"card"],["key","globalConfirmDialog","appendTo","body","rejectButtonStyleClass","p-button-outlined ","icon","pi pi-question",3,"transitionOptions"],["dataKey","id","responsiveLayout","scroll",3,"value","loading","paginator","rows","rowsPerPageOptions","globalFilterFields"],["dt",""],["pTemplate","header"],["pTemplate","body"],["header","Arabic Description For whatsapp",3,"visible","visibleChange"],[1,"text-sm","block","my-2","py-4"],["inputId","textarea","dir","rtl","pInputTextarea","",1,"w-full",3,"rows","ngModel","autoResize","ngModelChange"],[1,"flex","justify-content-end"],["pButton","","pRipple","","type","button","label","Copy","icon","pi pi-whatsapp",1,"p-button-sm","mt-4",3,"click"],[1,"flex","justify-content-center","align-items-center"],[1,"flex","justify-content-center"],[1,"w-10rem","flex","justify-content-center"],["pButton","","pRipple","","type","button","icon","pi pi-window-maximize",1,"p-button-text","p-button-secondary",3,"click"],[3,"value","containerStyle","numVisible","showThumbnails","showIndicators","changeItemOnIndicatorHover"],["pTemplate","item"],[1,"flex","flex-wrap","justify-content-center"],[4,"ngIf","ngIfElse"],["emptyCheckPriceTemplate",""],[3,"availableSource"],[1,"w-10rem"],["iconOnClass","pi pi-star-fill text-primary",3,"cancel","readonly","ngModel","ngModelChange"],[1,"flex","flex-column","align-items-center"],["class","flex flex-nowrap w-12 align-items-center justify-content-center",4,"ngIf"],[1,"flex","flex-nowrap","w-12","align-items-center","justify-content-center"],["pButton","","pRipple","","type","button","icon","pi pi-file-edit",1,"p-button-rounded","m-1","p-button-text",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-text","p-button-rounded","m-1","mx-2","p-button-sm",3,"routerLink"],["pButton","","pRipple","","type","button","icon","pi pi-instagram",1,"p-button-text","p-button-info","p-button-rounded","m-1","p-button-secondary",3,"loading","click"],["pButton","","pRipple","","type","button","icon","pi pi-whatsapp",1,"p-button-text","p-button-info","p-button-rounded","m-1","p-button-secondary",3,"loading","click"],["loading","lazy","fetchpriority","auto",2,"width","100%","display","block","border-radius","0.5rem",3,"src"],["class","mx-2",4,"ngFor","ngForOf"],[1,"mx-2"],[1,"text-sm","text-400","font-semibold"],[1,"text-400","font-semibold",2,"font-size","xx-small"],["pButton","","pRipple","","type","button","label","Check Price","icon","pi pi-send","class"," white-space-nowrap  p-button-sm p-button-rounded m-1 p-button-text ",3,"loading","click",4,"ngIf"],["pButton","","pRipple","","type","button","label","Check Price","icon","pi pi-send",1,"white-space-nowrap","p-button-sm","p-button-rounded","m-1","p-button-text",3,"loading","click"]],template:function(n,r){if(1&n){const s=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"app-layout-header",2),t.NdJ("onSearch",function(g){t.CHM(s);const v=t.MAs(7);return t.KtG(v.filterGlobal(g,"contains"))}),t.qZA()(),t.TgZ(3,"div",1)(4,"div",3),t._UZ(5,"p-confirmDialog",4),t.TgZ(6,"p-table",5,6),t.YNc(8,rn,28,0,"ng-template",7),t.YNc(9,_n,38,24,"ng-template",8),t.qZA(),t.TgZ(10,"p-dialog",9),t.NdJ("visibleChange",function(g){return r.translatedStringDialogToggel=g}),t.TgZ(11,"div",10)(12,"textarea",11),t.NdJ("ngModelChange",function(g){return r.aTranslatedString=g}),t.qZA()(),t.TgZ(13,"div",12)(14,"button",13),t.NdJ("click",function(){return r.copyWhatsappData()}),t.qZA()()()()()()}2&n&&(t.xp6(2),t.Q6J("initialValue",r.initialSearchValue),t.xp6(3),t.Q6J("transitionOptions","60ms"),t.xp6(1),t.Q6J("value",r.products)("loading",r.productService.waitingForProducts)("paginator",!0)("rows",10)("rowsPerPageOptions",t.DdM(12,gn))("globalFilterFields",t.DdM(13,hn)),t.xp6(4),t.Q6J("visible",r.translatedStringDialogToggel),t.xp6(2),t.Q6J("rows",2)("ngModel",r.aTranslatedString)("autoResize",!0))},dependencies:[f.sg,f.O5,J.rH,y.iA,T.jx,h.Fj,h.JJ,h.On,x.Hq,k.dz,R.Q,Y.$,b.iG,at.n,j.V,ot.g,f.uU,$.F],styles:["[_nghost-%COMP%]     .p-galleria-indicators{overflow:auto;align-items:normal;justify-content:start}[_nghost-%COMP%]     .p-galleria-indicator{margin:auto!important;padding-right:.25rem;padding-left:.25rem}"]}),i})();const fn=[{path:"checkPrice",component:Gt},{path:"ProductStatus",component:te},{path:"maintain-products",component:oe},{path:"maintain-products/:code",component:oe},{path:"maintain-colors",component:Qe},{path:"allSources",component:$e},{path:"ControlCenter",component:ae},{path:"ControlCenter/:code",component:ae},{path:"addProduct",loadChildren:()=>Promise.resolve().then(u.bind(u,2380)).then(i=>i.AddProductModule),component:en}];let Cn=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[J.Bz.forChild(fn),J.Bz]}),i})(),vn=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[f.ez,yt.AddProductModule,Cn,y.U$,h.u5,Q.kW,x.hJ,I.j,k.kT,it.C,rt.U,e.q4,B.zz,xt.y,vt.g,Ct.ON,st.u,R.D,P._8,Y.$,Tt.P,rt.U,V.f,Z.Qy,nt.Iu,bt.O,b.Xt,L.FI,at.n,j.S,ot.A]}),i})()},9878:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>SettingsService});var B_work_space_Dantel_FrontEnd_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5861),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3905),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4650),_firebase_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1843);let SettingsService=(()=>{class SettingsService{constructor(S){this.firebaseService=S}getInstagramCaption(){return this.instagramCaption?(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.of)(this.instagramCaption):(this.instagramCaptionSubject||(this.instagramCaptionSubject=new rxjs__WEBPACK_IMPORTED_MODULE_2__.x,this.firebaseService.getInstagramCaption().subscribe(S=>{this.instagramCaption=S,this.instagramCaptionSubject&&this.instagramCaptionSubject.next(S),this.instagramCaptionSubject=void 0})),this.instagramCaptionSubject)}getWhatsappCaption(){return this.whatsappCaption?(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.of)(this.whatsappCaption):(this.whatsappCaptionSubject||(this.whatsappCaptionSubject=new rxjs__WEBPACK_IMPORTED_MODULE_2__.x,this.firebaseService.getInstagramCaption().subscribe(S=>{this.whatsappCaption=S,this.whatsappCaptionSubject&&this.whatsappCaptionSubject.next(S),this.whatsappCaptionSubject=void 0})),this.whatsappCaptionSubject)}copyInstagramData(product){var _this=this;return(0,B_work_space_Dantel_FrontEnd_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(){let colorsString="";product.productColors.forEach(S=>colorsString+="#"+S.color.name+" ");let sharedString=yield(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.z)(_this.getInstagramCaption());sharedString=eval("`"+sharedString+"`"),yield navigator.clipboard.writeText(sharedString)})()}copyWhatsappData(product,aTranslatedString){var _this2=this;return(0,B_work_space_Dantel_FrontEnd_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(){let colorsString="";product.productColors.forEach(S=>colorsString+=S.color.name+", "),colorsString=colorsString.slice(0,-1);let sharedString=yield(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.z)(_this2.getWhatsappCaption());sharedString=eval("`"+sharedString+"`"),yield navigator.clipboard.writeText(sharedString)})()}}return SettingsService.\u0275fac=function S(N){return new(N||SettingsService)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.LFG(_firebase_service__WEBPACK_IMPORTED_MODULE_0__.O))},SettingsService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Yz7({token:SettingsService,factory:SettingsService.\u0275fac,providedIn:"root"}),SettingsService})()}}]);